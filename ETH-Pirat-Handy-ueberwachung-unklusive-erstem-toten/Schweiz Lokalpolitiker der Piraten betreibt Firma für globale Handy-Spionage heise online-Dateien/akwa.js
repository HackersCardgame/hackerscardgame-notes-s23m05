/*! For license information please see akwa.js.LICENSE.txt */
(()=>{"use strict";var t,e,n,i,r,o={670:(t,e,n)=>{n.r(e)},9553:t=>{var e=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===n}(t)}(t)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(t,e){return!1!==e.clone&&e.isMergeableObject(t)?a((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function r(t,e,n){return t.concat(e).map((function(t){return i(t,n)}))}function o(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return Object.propertyIsEnumerable.call(t,e)})):[]}(t))}function s(t,e){try{return e in t}catch(t){return!1}}function a(t,n,c){(c=c||{}).arrayMerge=c.arrayMerge||r,c.isMergeableObject=c.isMergeableObject||e,c.cloneUnlessOtherwiseSpecified=i;var l=Array.isArray(n);return l===Array.isArray(t)?l?c.arrayMerge(t,n,c):function(t,e,n){var r={};return n.isMergeableObject(t)&&o(t).forEach((function(e){r[e]=i(t[e],n)})),o(e).forEach((function(o){(function(t,e){return s(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,o)||(s(t,o)&&n.isMergeableObject(e[o])?r[o]=function(t,e){if(!e.customMerge)return a;var n=e.customMerge(t);return"function"==typeof n?n:a}(o,n)(t[o],e[o],n):r[o]=i(e[o],n))})),r}(t,n,c):i(n,c)}a.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return a(t,n,e)}),{})};var c=a;t.exports=c},6305:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default={"_am-heise-de_":"am.heise.de","_gzhls-at_":"gzhls.at","_hmg-vorschau-heise-cms-de_":"hmg-vorschau.heise-cms.de","_shop-heise-de_":"shop.heise.de","_techstage-vorschau-heise-cms-de_":"techstage-vorschau.heise-cms.de","_vorschau-heise-cms-de_":"vorschau.heise-cms.de","_www-heise-de_":"www.heise.de","_www-heise-gruppe-de_":"www.heise-gruppe.de","_www-techstage-de_":"www.techstage.de","_wwwtest-heise-de_":"wwwtest.heise.de","_wwwtest-heise-gruppe-de_":"wwwtest.heise-gruppe.de","_wwwtest-techstage-de_":"wwwtest.techstage.de"}},4296:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ImageUrl=void 0;var i=n(4143),r=n(7764),o=n(2766),s=function(){function t(e,n){var i=(void 0===n?{}:n).baseHost,r=t.parse(e);this.url=r.path||e,this.includesQueryParameters=this.url.includes("?"),this.baseHost=i||r.host}return Object.defineProperty(t.prototype,"wwwHosts",{get:function(){return[/\.dave\.heise\.de/,/\.dev\.heise\.de/,/\.pages\.heise\.de/,/\.staging\.heise\.de/,/^beta\.heise\.de/,/^beta\.telepolis\.de/,/^wwwtest\.telepolis\.de/,/^www\.telepolis\.de/,/^dfptest\.heise\.de/,/^octo(test)?\d+\.heise\.de/,/^www\d+\.heise\.de/,/^m(test)?\.heise\.de/,/\.lab\.heise\.de/]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hostAlias",{get:function(){var e=this.baseHost||t.getBaseHost();return"www.google.de"===e&&(e=t.parseAMPBaseHost()),e.includes("www.techstage.de")&&(e="www.techstage.de"),this.wwwHosts.some((function(t){return t.test(e)}))&&(e="www.heise.de"),"heise-cms.de"===e&&(e="vorschau.heise-cms.de"),"_".concat(e.replace(/\./g,"-"),"_")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseUrl",{get:function(){var t=this.includesQueryParameters?encodeURIComponent(this.url):this.url;return"https://heise.cloudimg.io/v7/".concat(this.hostAlias).concat(t)},enumerable:!1,configurable:!0}),t.parseAMPBaseHost=function(){var t=window.document.location.href.match(/https:\/\/www.google.de\/amp\/s\/([^/]+)/);return t?t[1]:"www.heise.de"},t.getBaseHost=function(){var t=window.document.location.hostname;if(!t)throw new Error("unknown base host");return"localhost"===t&&(t="www.heise.de"),t},t.parse=function(t){for(var e=void 0,n=0,i=[new r.LegacyScaleUrlParser,new r.CloudimgV7UrlParser,new r.CloudimgUrlParser,new r.CloudimgBoundUrlParser,new r.GenericImageUrlParser];n<i.length&&void 0===(e=i[n].parse(t));n++);return e||{}},t.prototype._buildUrl=function(t){var e=t.quality,n=void 0===e?75:e,r=t.forceFormat,s=t.withoutEnlargement,a=(0,i.__rest)(t,["quality","forceFormat","withoutEnlargement"]);return/\.gif$/.test(this.url)?this.baseUrl:(0,o.url)(this.baseUrl,(0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)({q:n},r&&{force_format:r}),s&&{org_if_sml:1}),this.includesQueryParameters&&{ci_url_encoded:1}),a))},t.prototype.asUrl=function(t,e,n){return this._buildUrl({width:t,height:e,quality:n})},t.prototype.parseGeometry=function(t){var e=t.match(/(\d+)x(\d+)/);if(null!==e)return{width:parseInt(e[1]),height:parseInt(e[2])}},t.prototype.asWidthUrl=function(t,e){var n,r,o="string"==typeof t?null!==(r=null===(n=this.parseGeometry(t))||void 0===n?void 0:n.width)&&void 0!==r?r:1e3:Math.round(t);return this._buildUrl((0,i.__assign)((0,i.__assign)({},e),{width:o}))},t.prototype.asHeightUrl=function(t,e){var n,r,o="string"==typeof t?null!==(r=null===(n=this.parseGeometry(t))||void 0===n?void 0:n.height)&&void 0!==r?r:1e3:Math.round(t);return this._buildUrl((0,i.__assign)((0,i.__assign)({},e),{height:o}))},t}();e.ImageUrl=s},6735:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),(0,n(4143).__exportStar)(n(7764),e);var i=n(4296);e.default=i.ImageUrl},8669:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CloudimgBoundUrlParser=void 0;var i=(0,n(4143).__importDefault)(n(6305)),r=function(){function t(){}return t.prototype.parse=function(t){var e=t.match(/^(?:https:)?\/\/heise\.cloudimg\.io\/(bound|width)\/(\d+(x\d+)?)\/[^/]*q(\d+)[^/]*\/(_[^/]+_)(\/.*)/);if(e){var n=e[5];return{host:n=i.default[n]||n,geometry:e[2],quality:e[4],path:e[6]}}},t}();e.CloudimgBoundUrlParser=r},2796:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CloudimgUrlParser=void 0;var i=(0,n(4143).__importDefault)(n(6305)),r=function(){function t(){}return t.prototype.parse=function(t){var e=t.match(/^(?:https:)?\/\/heise\.cloudimg\.io\/cdn\/n\/n\/(_[^/]+_)(\/.*)/);if(e){var n=e[1];return{host:n=i.default[n]||n,geometry:void 0,quality:void 0,path:e[2]}}},t}();e.CloudimgUrlParser=r},2723:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CloudimgV7UrlParser=void 0;var n=function(){function t(){}return t.prototype.parse=function(t){var e=t.match(/^(?:https:)?\/\/heise\.cloudimg\.io\/v7\/([^/]+)(\/[^?]*)/);if(e)return{host:e[1],geometry:void 0,quality:void 0,path:e[2]}},t}();e.CloudimgV7UrlParser=n},2150:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GenericImageUrlParser=void 0;var n=function(){function t(){}return t.prototype.parse=function(t){var e=t.match(/^(?:https?:)?\/\/([^/]+)(\/.*)/);if(e)return{host:e[1],geometry:void 0,quality:void 0,path:e[2]}},t}();e.GenericImageUrlParser=n},7764:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=n(4143);(0,i.__exportStar)(n(1398),e),(0,i.__exportStar)(n(2723),e),(0,i.__exportStar)(n(2796),e),(0,i.__exportStar)(n(8669),e),(0,i.__exportStar)(n(2150),e)},1398:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LegacyScaleUrlParser=void 0;var n=function(){function t(){}return t.prototype.parse=function(t){var e=t.match(/(?:^(?:https?:)?\/\/)?(.*)\/scale\/geometry\/((\d+)(x(\d+))?)\/q(\d+)(.*)/);if(e)return{host:e[1],geometry:e[2],quality:e[6],path:e[7]}},t}();e.LegacyScaleUrlParser=n},2766:(t,e)=>{function n(t){return void 0===t&&(t={}),Object.keys(t).sort().map((function(e){var n=t[e];return void 0===n?e:"".concat(e,"=").concat(encodeURIComponent(n.toString()))})).join("&")}Object.defineProperty(e,"__esModule",{value:!0}),e.url=e.sortedQueryString=void 0,e.sortedQueryString=n,e.url=function(t,e){var i=n(null!=e?e:{});return i?"".concat(t,"?").concat(i):t}},150:(t,e)=>{var n=function(){function t(){this.desktopUserAgents=/(macintosh|x11|windows nt|ipad|tablet|nexus 10|kf.*silk)/i}return Object.defineProperty(t.prototype,"userAgent",{get:function(){return window.navigator.userAgent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return window.screen.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return window.screen.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"portraitWidth",{get:function(){return Math.min(this.width,this.height)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"store",{get:function(){return window.localStorage},enumerable:!0,configurable:!0}),t.prototype.forceDesktop=function(){return 1===Number.parseInt(this.store.mobile_detect_force_desktop)},t.prototype.forceMobile=function(){return 1===Number.parseInt(this.store.mobile_detect_force_mobile)},t.prototype.isDesktop=function(){return!/Windows Phone 10/.test(this.userAgent)&&(this.portraitWidth>640||!(!this.desktopUserAgents.test(this.userAgent)||/(ZuneWP7|Mobile Safari)/.test(this.userAgent)))},t.prototype.isMobile=function(){return!(!/Windows Phone 10/.test(this.userAgent)&&(this.portraitWidth>640||!/(android|phone|mobile|ipod|zunewp7|nokian97)/i.test(this.userAgent)&&this.desktopUserAgents.test(this.userAgent)))},t.prototype.persistForce=function(){var t=window.document.location;"mobile_detect_force_desktop"===t.hash.slice(1)?(this.store.mobile_detect_force_desktop=1,this.store.mobile_detect_force_mobile=0):"unset_mobile_detect_force_desktop"===t.hash.slice(1)&&(this.store.mobile_detect_force_desktop=0),"mobile_detect_force_mobile"===t.hash.slice(1)?(this.store.mobile_detect_force_mobile=1,this.store.mobile_detect_force_desktop=0):"unset_mobile_detect_force_mobile"===t.hash.slice(1)&&(this.store.mobile_detect_force_mobile=0)},t}();e.Z=n},2624:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.listeners={}}return t.prototype.ensureEventExists=function(t){this.listeners[t]=this.listeners[t]||[]},t.prototype.on=function(t,e){this.ensureEventExists(t),this.listeners[t].push(e)},t.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.ensureEventExists(t),this.listeners[t].forEach((function(t){t.apply(void 0,e)}))},t}();e.EventListener=n},9012:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=n(4143);n(670);var r=n(2624),o=n(6307),s=function(t){function e(e){var n=t.call(this)||this;n.modal=o.createNode('<section class="heise-modal">'),n.stage=o.createNode('<div class="stage">'),n._isActive=!1,n.options=i.__assign({parent:"body",showCloseButton:!0,styleClass:"",cleanUpOnHide:!1},e);var r=n.options.parent;if(r instanceof HTMLElement||(r=document.querySelector(r)),r.append(n.modal),n.options.className&&n.modal.classList.add(n.options.className),n.options.styleClass&&n.modal.classList.add(n.options.styleClass),n._isActive=!1,n.installEventListeners(),n.options.transparent){var s=o.createNode('<div class="wrapper-transparent">');n.modal.append(s),s.addEventListener("click",n.hide.bind(n))}if(n.modal.append(n.stage),n.options.showCloseButton){var a=o.createNode('<button data-role="close">&times;</button>');n.stage.append(a),a.addEventListener("click",(function(t){t.preventDefault(),n.hide()}))}return n}return i.__extends(e,t),e.prototype.renderCloseButton=function(){var t=this,e=o.createNode('<button data-role="close">&times;</button>');this.stage.append(e),e.addEventListener("click",(function(e){e.preventDefault(),t.hide()}))},e.prototype.getCloseButton=function(){return this.modal.querySelector("[data-role=close]")},e.prototype.isActive=function(){return this._isActive},e.prototype.installEventListeners=function(){var t=this;window.addEventListener("keydown",(function(e){t.isActive()&&27===e.keyCode&&t.hide()}))},e.prototype.toggle=function(){this.isActive()?this.hide():this.show()},e.prototype.show=function(t){this.isActive()||(document.documentElement.style.overflow="hidden",document.documentElement.addEventListener("touchmove",(function(t){t.preventDefault()})),this.modal.style.display="block",this._isActive=!0,this.emit("change","show",this.stage),this.emit("show",this.stage),null==t||t(this.stage))},e.prototype.hide=function(){var t;document.querySelector("html,body").style.overflow="",null===(t=document.querySelector("html,body"))||void 0===t||t.removeEventListener("touchmove",(function(){})),this.modal.style.display="",this._isActive=!1,this.options.cleanUpOnHide&&(this.stage.innerHTML=""),this.emit("change","hide"),this.emit("hide")},e}(r.EventListener);e.default=s},6307:(t,e)=>{function n(t){var e=document.createElement("div");return e.innerHTML=t.trim(),e.childNodes}Object.defineProperty(e,"__esModule",{value:!0}),e.createNode=function(t){return n(t)[0]},e.createNodeList=n},2597:()=>{!function(){if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=function(t){for(var e=window.document,n=r(e);n;)n=r(e=n.ownerDocument);return e}(),e=[],n=null,i=null;s.prototype.THROTTLE_TIMEOUT=100,s.prototype.POLL_INTERVAL=null,s.prototype.USE_MUTATION_OBSERVER=!0,s._setupCrossOriginUpdater=function(){return n||(n=function(t,n){i=t&&n?d(t,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},e.forEach((function(t){t._checkForIntersections()}))}),n},s._resetCrossOriginUpdater=function(){n=null,i=null},s.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(t.ownerDocument),this._checkForIntersections()}},s.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._unmonitorIntersections(t.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},s.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},s.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},s.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]}))},s.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},s.prototype._monitorIntersections=function(e){var n=e.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(e)){var i=this._checkForIntersections,o=null,s=null;this.POLL_INTERVAL?o=n.setInterval(i,this.POLL_INTERVAL):(a(n,"resize",i,!0),a(e,"scroll",i,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(s=new n.MutationObserver(i)).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push((function(){var t=e.defaultView;t&&(o&&t.clearInterval(o),c(t,"resize",i,!0)),c(e,"scroll",i,!0),s&&s.disconnect()}));var l=this.root&&(this.root.ownerDocument||this.root)||t;if(e!=l){var u=r(e);u&&this._monitorIntersections(u.ownerDocument)}}},s.prototype._unmonitorIntersections=function(e){var n=this._monitoringDocuments.indexOf(e);if(-1!=n){var i=this.root&&(this.root.ownerDocument||this.root)||t,o=this._observationTargets.some((function(t){var n=t.element.ownerDocument;if(n==e)return!0;for(;n&&n!=i;){var o=r(n);if((n=o&&o.ownerDocument)==e)return!0}return!1}));if(!o){var s=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),s(),e!=i){var a=r(e);a&&this._unmonitorIntersections(a.ownerDocument)}}}},s.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var e=0;e<t.length;e++)t[e]()},s.prototype._checkForIntersections=function(){if(this.root||!n||i){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(i){var r=i.element,s=l(r),a=this._rootContainsTarget(r),c=i.entry,u=t&&a&&this._computeTargetAndRootIntersection(r,s,e),d=null;this._rootContainsTarget(r)?n&&!this.root||(d=e):d={top:0,bottom:0,left:0,right:0,width:0,height:0};var h=i.entry=new o({time:window.performance&&performance.now&&performance.now(),target:r,boundingClientRect:s,rootBounds:d,intersectionRect:u});c?t&&a?this._hasCrossedThreshold(c,h)&&this._queuedEntries.push(h):c&&c.isIntersecting&&this._queuedEntries.push(h):this._queuedEntries.push(h)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},s.prototype._computeTargetAndRootIntersection=function(e,r,o){if("none"!=window.getComputedStyle(e).display){for(var s,a,c,u,h,p,f,m,y=r,v=g(e),b=!1;!b&&v;){var w=null,_=1==v.nodeType?window.getComputedStyle(v):{};if("none"==_.display)return null;if(v==this.root||9==v.nodeType)if(b=!0,v==this.root||v==t)n&&!this.root?!i||0==i.width&&0==i.height?(v=null,w=null,y=null):w=i:w=o;else{var S=g(v),k=S&&l(S),A=S&&this._computeTargetAndRootIntersection(S,k,o);k&&A?(v=S,w=d(k,A)):(v=null,y=null)}else{var E=v.ownerDocument;v!=E.body&&v!=E.documentElement&&"visible"!=_.overflow&&(w=l(v))}if(w&&(s=w,a=y,void 0,void 0,void 0,void 0,void 0,void 0,c=Math.max(s.top,a.top),u=Math.min(s.bottom,a.bottom),h=Math.max(s.left,a.left),m=u-c,y=(f=(p=Math.min(s.right,a.right))-h)>=0&&m>=0&&{top:c,bottom:u,left:h,right:p,width:f,height:m}||null),!y)break;v=v&&g(v)}return y}},s.prototype._getRootRect=function(){var e;if(this.root&&!p(this.root))e=l(this.root);else{var n=p(this.root)?this.root:t,i=n.documentElement,r=n.body;e={top:0,left:0,right:i.clientWidth||r.clientWidth,width:i.clientWidth||r.clientWidth,bottom:i.clientHeight||r.clientHeight,height:i.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(e)},s.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100})),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},s.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,i=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==i)for(var r=0;r<this.thresholds.length;r++){var o=this.thresholds[r];if(o==n||o==i||o<n!=o<i)return!0}},s.prototype._rootIsInDom=function(){return!this.root||h(t,this.root)},s.prototype._rootContainsTarget=function(e){var n=this.root&&(this.root.ownerDocument||this.root)||t;return h(n,e)&&(!this.root||n==e.ownerDocument)},s.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},s.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=s,window.IntersectionObserverEntry=o}function r(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(t){return null}}function o(t){this.time=t.time,this.target=t.target,this.rootBounds=u(t.rootBounds),this.boundingClientRect=u(t.boundingClientRect),this.intersectionRect=u(t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,i=this.intersectionRect,r=i.width*i.height;this.intersectionRatio=n?Number((r/n).toFixed(4)):this.isIntersecting?1:0}function s(t,e){var n,i,r,o=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType&&9!=o.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),i=this.THROTTLE_TIMEOUT,r=null,function(){r||(r=setTimeout((function(){n(),r=null}),i))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function a(t,e,n,i){"function"==typeof t.addEventListener?t.addEventListener(e,n,i||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function c(t,e,n,i){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,i||!1):"function"==typeof t.detachEvent&&t.detachEvent("on"+e,n)}function l(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function u(t){return!t||"x"in t?t:{top:t.top,y:t.top,bottom:t.bottom,left:t.left,x:t.left,right:t.right,width:t.width,height:t.height}}function d(t,e){var n=e.top-t.top,i=e.left-t.left;return{top:n,left:i,height:e.height,width:e.width,bottom:n+e.height,right:i+e.width}}function h(t,e){for(var n=e;n;){if(n==t)return!0;n=g(n)}return!1}function g(e){var n=e.parentNode;return 9==e.nodeType&&e!=t?r(e):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function p(t){return t&&9===t.nodeType}}()},8134:(t,e,n)=>{var i;!function(t){!function(e){var i="object"==typeof n.g?n.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),r=o(t);function o(t,e){return function(n,i){"function"!=typeof t[n]&&Object.defineProperty(t,n,{configurable:!0,writable:!0,value:i}),e&&e(n,i)}}void 0===i.Reflect?i.Reflect=t:r=o(i.Reflect,r),function(t){var e=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,i=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",r=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,s={__proto__:[]}instanceof Array,a=!o&&!s,c={create:o?function(){return L(Object.create(null))}:s?function(){return L({__proto__:null})}:function(){return L({})},has:a?function(t,n){return e.call(t,n)}:function(t,e){return e in t},get:a?function(t,n){return e.call(t,n)?t[n]:void 0}:function(t,e){return t[e]}},l=Object.getPrototypeOf(Function),u="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=u||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},e=[],n=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[r]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var n=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var n=this._find(t,!0);return this._values[n]=e,this},e.prototype.delete=function(e){var n=this._find(e,!1);if(n>=0){for(var i=this._keys.length,r=n+1;r<i;r++)this._keys[r-1]=this._keys[r],this._values[r-1]=this._values[r];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new n(this._keys,this._values,i)},e.prototype.values=function(){return new n(this._keys,this._values,o)},e.prototype.entries=function(){return new n(this._keys,this._values,s)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[r]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function i(t,e){return t}function o(t,e){return e}function s(t,e){return[t,e]}}():Map,h=u||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new d}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[r]=function(){return this.keys()},t}():Set,g=new(u||"function"!=typeof WeakMap?function(){var t=16,n=c.create(),i=r();return function(){function t(){this._key=r()}return t.prototype.has=function(t){var e=o(t,!1);return void 0!==e&&c.has(e,this._key)},t.prototype.get=function(t){var e=o(t,!1);return void 0!==e?c.get(e,this._key):void 0},t.prototype.set=function(t,e){return o(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=o(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=r()},t}();function r(){var t;do{t="@@WeakMap@@"+a()}while(c.has(n,t));return n[t]=!0,t}function o(t,n){if(!e.call(t,i)){if(!n)return;Object.defineProperty(t,i,{value:c.create()})}return t[i]}function s(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}function a(){var e,n=(e=t,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):s(new Uint8Array(e),e):s(new Array(e),e));n[6]=79&n[6]|64,n[8]=191&n[8]|128;for(var i="",r=0;r<t;++r){var o=n[r];4!==r&&6!==r&&8!==r||(i+="-"),o<16&&(i+="0"),i+=o.toString(16).toLowerCase()}return i}}():WeakMap);function p(t,e,n){var i=g.get(t);if(k(i)){if(!n)return;i=new d,g.set(t,i)}var r=i.get(e);if(k(r)){if(!n)return;r=new d,i.set(e,r)}return r}function f(t,e,n){if(m(t,e,n))return!0;var i=j(e);return!A(i)&&f(t,i,n)}function m(t,e,n){var i=p(e,n,!1);return!k(i)&&!!i.has(t)}function y(t,e,n){if(m(t,e,n))return v(t,e,n);var i=j(e);return A(i)?void 0:y(t,i,n)}function v(t,e,n){var i=p(e,n,!1);if(!k(i))return i.get(t)}function b(t,e,n,i){p(n,i,!0).set(t,e)}function w(t,e){var n=_(t,e),i=j(t);if(null===i)return n;var r=w(i,e);if(r.length<=0)return n;if(n.length<=0)return r;for(var o=new h,s=[],a=0,c=n;a<c.length;a++){var l=c[a];o.has(l)||(o.add(l),s.push(l))}for(var u=0,d=r;u<d.length;u++)l=d[u],o.has(l)||(o.add(l),s.push(l));return s}function _(t,e){var n=[],i=p(t,e,!1);if(k(i))return n;for(var o=function(t){var e=R(t,r);if(!T(e))throw new TypeError;var n=e.call(t);if(!E(n))throw new TypeError;return n}(i.keys()),s=0;;){var a=x(o);if(!a)return n.length=s,n;var c=a.value;try{n[s]=c}catch(t){try{M(o)}finally{throw t}}s++}}function S(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function k(t){return void 0===t}function A(t){return null===t}function E(t){return"object"==typeof t?null!==t:"function"==typeof t}function C(t,e){switch(S(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var n=3===e?"string":5===e?"number":"default",r=R(t,i);if(void 0!==r){var o=r.call(t,n);if(E(o))throw new TypeError;return o}return function(t,e){if("string"===e){var n=t.toString;if(T(n)&&!E(r=n.call(t)))return r;if(T(i=t.valueOf)&&!E(r=i.call(t)))return r}else{var i;if(T(i=t.valueOf)&&!E(r=i.call(t)))return r;var r,o=t.toString;if(T(o)&&!E(r=o.call(t)))return r}throw new TypeError}(t,"default"===n?"number":n)}function I(t){var e=C(t,3);return"symbol"==typeof e?e:function(t){return""+t}(e)}function P(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function T(t){return"function"==typeof t}function O(t){return"function"==typeof t}function R(t,e){var n=t[e];if(null!=n){if(!T(n))throw new TypeError;return n}}function x(t){var e=t.next();return!e.done&&e}function M(t){var e=t.return;e&&e.call(t)}function j(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===l)return e;if(e!==l)return e;var n=t.prototype,i=n&&Object.getPrototypeOf(n);if(null==i||i===Object.prototype)return e;var r=i.constructor;return"function"!=typeof r||r===t?e:r}function L(t){return t.__=void 0,delete t.__,t}t("decorate",(function(t,e,n,i){if(k(n)){if(!P(t))throw new TypeError;if(!O(e))throw new TypeError;return function(t,e){for(var n=t.length-1;n>=0;--n){var i=(0,t[n])(e);if(!k(i)&&!A(i)){if(!O(i))throw new TypeError;e=i}}return e}(t,e)}if(!P(t))throw new TypeError;if(!E(e))throw new TypeError;if(!E(i)&&!k(i)&&!A(i))throw new TypeError;return A(i)&&(i=void 0),function(t,e,n,i){for(var r=t.length-1;r>=0;--r){var o=(0,t[r])(e,n,i);if(!k(o)&&!A(o)){if(!E(o))throw new TypeError;i=o}}return i}(t,e,n=I(n),i)})),t("metadata",(function(t,e){return function(n,i){if(!E(n))throw new TypeError;if(!k(i)&&!function(t){switch(S(t)){case 3:case 4:return!0;default:return!1}}(i))throw new TypeError;b(t,e,n,i)}})),t("defineMetadata",(function(t,e,n,i){if(!E(n))throw new TypeError;return k(i)||(i=I(i)),b(t,e,n,i)})),t("hasMetadata",(function(t,e,n){if(!E(e))throw new TypeError;return k(n)||(n=I(n)),f(t,e,n)})),t("hasOwnMetadata",(function(t,e,n){if(!E(e))throw new TypeError;return k(n)||(n=I(n)),m(t,e,n)})),t("getMetadata",(function(t,e,n){if(!E(e))throw new TypeError;return k(n)||(n=I(n)),y(t,e,n)})),t("getOwnMetadata",(function(t,e,n){if(!E(e))throw new TypeError;return k(n)||(n=I(n)),v(t,e,n)})),t("getMetadataKeys",(function(t,e){if(!E(t))throw new TypeError;return k(e)||(e=I(e)),w(t,e)})),t("getOwnMetadataKeys",(function(t,e){if(!E(t))throw new TypeError;return k(e)||(e=I(e)),_(t,e)})),t("deleteMetadata",(function(t,e,n){if(!E(e))throw new TypeError;k(n)||(n=I(n));var i=p(e,n,!1);if(k(i))return!1;if(!i.delete(t))return!1;if(i.size>0)return!0;var r=g.get(e);return r.delete(n),r.size>0||g.delete(e),!0}))}(r)}()}(i||(i={}))},2315:(t,e,n)=>{!function(){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function i(t,e){return t(e={exports:{}},e.exports),e.exports}var r=function(t){return t&&t.Math==Math&&t},o=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||Function("return this")(),s=function(t){try{return!!t()}catch(t){return!0}},a=!s((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),c={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,u=l&&!c.call({1:2},1)?function(t){var e=l(this,t);return!!e&&e.enumerable}:c,d={f:u},h=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},g={}.toString,p=function(t){return g.call(t).slice(8,-1)},f="".split,m=s((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==p(t)?f.call(t,""):Object(t)}:Object,y=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},v=function(t){return m(y(t))},b=function(t){return"object"==typeof t?null!==t:"function"==typeof t},w=function(t,e){if(!b(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!b(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!b(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!b(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},_={}.hasOwnProperty,S=function(t,e){return _.call(t,e)},k=o.document,A=b(k)&&b(k.createElement),E=function(t){return A?k.createElement(t):{}},C=!a&&!s((function(){return 7!=Object.defineProperty(E("div"),"a",{get:function(){return 7}}).a})),I=Object.getOwnPropertyDescriptor,P={f:a?I:function(t,e){if(t=v(t),e=w(e,!0),C)try{return I(t,e)}catch(t){}if(S(t,e))return h(!d.f.call(t,e),t[e])}},T=function(t){if(!b(t))throw TypeError(String(t)+" is not an object");return t},O=Object.defineProperty,R={f:a?O:function(t,e,n){if(T(t),e=w(e,!0),T(n),C)try{return O(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},x=a?function(t,e,n){return R.f(t,e,h(1,n))}:function(t,e,n){return t[e]=n,t},M=function(t,e){try{x(o,t,e)}catch(n){o[t]=e}return e},j="__core-js_shared__",L=o[j]||M(j,{}),U=Function.toString;"function"!=typeof L.inspectSource&&(L.inspectSource=function(t){return U.call(t)});var D,$,N,q=L.inspectSource,B=o.WeakMap,F="function"==typeof B&&/native code/.test(q(B)),H=!1,z=i((function(t){(t.exports=function(t,e){return L[t]||(L[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),W=0,V=Math.random(),G=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++W+V).toString(36)},J=z("keys"),K=function(t){return J[t]||(J[t]=G(t))},Z={},Y=o.WeakMap;if(F){var Q=new Y,X=Q.get,tt=Q.has,et=Q.set;D=function(t,e){return et.call(Q,t,e),e},$=function(t){return X.call(Q,t)||{}},N=function(t){return tt.call(Q,t)}}else{var nt=K("state");Z[nt]=!0,D=function(t,e){return x(t,nt,e),e},$=function(t){return S(t,nt)?t[nt]:{}},N=function(t){return S(t,nt)}}var it={set:D,get:$,has:N,enforce:function(t){return N(t)?$(t):D(t,{})},getterFor:function(t){return function(e){var n;if(!b(e)||(n=$(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},rt=i((function(t){var e=it.get,n=it.enforce,i=String(String).split("String");(t.exports=function(t,e,r,s){var a=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,l=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof e||S(r,"name")||x(r,"name",e),n(r).source=i.join("string"==typeof e?e:"")),t!==o?(a?!l&&t[e]&&(c=!0):delete t[e],c?t[e]=r:x(t,e,r)):c?t[e]=r:M(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||q(this)}))})),ot=o,st=function(t){return"function"==typeof t?t:void 0},at=function(t,e){return arguments.length<2?st(ot[t])||st(o[t]):ot[t]&&ot[t][e]||o[t]&&o[t][e]},ct=Math.ceil,lt=Math.floor,ut=function(t){return isNaN(t=+t)?0:(t>0?lt:ct)(t)},dt=Math.min,ht=function(t){return t>0?dt(ut(t),9007199254740991):0},gt=Math.max,pt=Math.min,ft=function(t,e){var n=ut(t);return n<0?gt(n+e,0):pt(n,e)},mt=function(t){return function(e,n,i){var r,o=v(e),s=ht(o.length),a=ft(i,s);if(t&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},yt={includes:mt(!0),indexOf:mt(!1)},vt=yt.indexOf,bt=function(t,e){var n,i=v(t),r=0,o=[];for(n in i)!S(Z,n)&&S(i,n)&&o.push(n);for(;e.length>r;)S(i,n=e[r++])&&(~vt(o,n)||o.push(n));return o},wt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],_t=wt.concat("length","prototype"),St={f:Object.getOwnPropertyNames||function(t){return bt(t,_t)}},kt={f:Object.getOwnPropertySymbols},At=at("Reflect","ownKeys")||function(t){var e=St.f(T(t)),n=kt.f;return n?e.concat(n(t)):e},Et=function(t,e){for(var n=At(e),i=R.f,r=P.f,o=0;o<n.length;o++){var s=n[o];S(t,s)||i(t,s,r(e,s))}},Ct=/#|\.prototype\./,It=function(t,e){var n=Tt[Pt(t)];return n==Rt||n!=Ot&&("function"==typeof e?s(e):!!e)},Pt=It.normalize=function(t){return String(t).replace(Ct,".").toLowerCase()},Tt=It.data={},Ot=It.NATIVE="N",Rt=It.POLYFILL="P",xt=It,Mt=P.f,jt=function(t,e){var n,i,r,s,a,c=t.target,l=t.global,u=t.stat;if(n=l?o:u?o[c]||M(c,{}):(o[c]||{}).prototype)for(i in e){if(s=e[i],r=t.noTargetGet?(a=Mt(n,i))&&a.value:n[i],!xt(l?i:c+(u?".":"#")+i,t.forced)&&void 0!==r){if(typeof s==typeof r)continue;Et(s,r)}(t.sham||r&&r.sham)&&x(s,"sham",!0),rt(n,i,s,t)}},Lt=!s((function(){return Object.isExtensible(Object.preventExtensions({}))})),Ut=i((function(t){var e=R.f,n=G("meta"),i=0,r=Object.isExtensible||function(){return!0},o=function(t){e(t,n,{value:{objectID:"O"+ ++i,weakData:{}}})},s=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!b(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!S(t,n)){if(!r(t))return"F";if(!e)return"E";o(t)}return t[n].objectID},getWeakData:function(t,e){if(!S(t,n)){if(!r(t))return!0;if(!e)return!1;o(t)}return t[n].weakData},onFreeze:function(t){return Lt&&s.REQUIRED&&r(t)&&!S(t,n)&&o(t),t}};Z[n]=!0})),Dt=(Ut.REQUIRED,Ut.fastKey,Ut.getWeakData,Ut.onFreeze,!!Object.getOwnPropertySymbols&&!s((function(){return!String(Symbol())}))),$t=Dt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Nt=z("wks"),qt=o.Symbol,Bt=$t?qt:qt&&qt.withoutSetter||G,Ft=function(t){return S(Nt,t)||(Dt&&S(qt,t)?Nt[t]=qt[t]:Nt[t]=Bt("Symbol."+t)),Nt[t]},Ht={},zt=Ft("iterator"),Wt=Array.prototype,Vt=function(t){return void 0!==t&&(Ht.Array===t||Wt[zt]===t)},Gt=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Jt=function(t,e,n){if(Gt(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}},Kt={};Kt[Ft("toStringTag")]="z";var Zt="[object z]"===String(Kt),Yt=Ft("toStringTag"),Qt="Arguments"==p(function(){return arguments}()),Xt=Zt?p:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Yt))?n:Qt?p(e):"Object"==(i=p(e))&&"function"==typeof e.callee?"Arguments":i},te=Ft("iterator"),ee=function(t){if(null!=t)return t[te]||t["@@iterator"]||Ht[Xt(t)]},ne=function(t,e,n,i){try{return i?e(T(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&T(r.call(t)),e}},ie=i((function(t){var e=function(t,e){this.stopped=t,this.result=e},n=t.exports=function(t,n,i,r,o){var s,a,c,l,u,d,h,g=Jt(n,i,r?2:1);if(o)s=t;else{if("function"!=typeof(a=ee(t)))throw TypeError("Target is not iterable");if(Vt(a)){for(c=0,l=ht(t.length);l>c;c++)if((u=r?g(T(h=t[c])[0],h[1]):g(t[c]))&&u instanceof e)return u;return new e(!1)}s=a.call(t)}for(d=s.next;!(h=d.call(s)).done;)if("object"==typeof(u=ne(s,g,h.value,r))&&u&&u instanceof e)return u;return new e(!1)};n.stop=function(t){return new e(!0,t)}})),re=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},oe=Ft("iterator"),se=!1;try{var ae=0,ce={next:function(){return{done:!!ae++}},return:function(){se=!0}};ce[oe]=function(){return this},Array.from(ce,(function(){throw 2}))}catch(t){}var le,ue=function(t,e){if(!e&&!se)return!1;var n=!1;try{var i={};i[oe]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n},de=R.f,he=Ft("toStringTag"),ge=function(t,e,n){t&&!S(t=n?t:t.prototype,he)&&de(t,he,{configurable:!0,value:e})},pe=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return T(n),function(t){if(!b(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(i),e?t.call(n,i):n.__proto__=i,n}}():void 0),fe=function(t,e,n){var i,r;return pe&&"function"==typeof(i=e.constructor)&&i!==n&&b(r=i.prototype)&&r!==n.prototype&&pe(t,r),t},me=function(t,e,n){var i=-1!==t.indexOf("Map"),r=-1!==t.indexOf("Weak"),a=i?"set":"add",c=o[t],l=c&&c.prototype,u=c,d={},h=function(t){var e=l[t];rt(l,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(r&&!b(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return r&&!b(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(r&&!b(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(xt(t,"function"!=typeof c||!(r||l.forEach&&!s((function(){(new c).entries().next()})))))u=n.getConstructor(e,t,i,a),Ut.REQUIRED=!0;else if(xt(t,!0)){var g=new u,p=g[a](r?{}:-0,1)!=g,f=s((function(){g.has(1)})),m=ue((function(t){new c(t)})),y=!r&&s((function(){for(var t=new c,e=5;e--;)t[a](e,e);return!t.has(-0)}));m||((u=e((function(e,n){re(e,u,t);var r=fe(new c,e,u);return null!=n&&ie(n,r[a],r,i),r}))).prototype=l,l.constructor=u),(f||y)&&(h("delete"),h("has"),i&&h("get")),(y||p)&&h(a),r&&l.clear&&delete l.clear}return d[t]=u,jt({global:!0,forced:u!=c},d),ge(u,t),r||n.setStrong(u,t,i),u},ye=Object.keys||function(t){return bt(t,wt)},ve=a?Object.defineProperties:function(t,e){T(t);for(var n,i=ye(e),r=i.length,o=0;r>o;)R.f(t,n=i[o++],e[n]);return t},be=at("document","documentElement"),we="prototype",_e="script",Se=K("IE_PROTO"),ke=function(){},Ae=function(t){return"<"+_e+">"+t+"</"+_e+">"},Ee=function(){try{le=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e,n;Ee=le?function(t){t.write(Ae("")),t.close();var e=t.parentWindow.Object;return t=null,e}(le):(e=E("iframe"),n="java"+_e+":",e.style.display="none",be.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(Ae("document.F=Object")),t.close(),t.F);for(var i=wt.length;i--;)delete Ee[we][wt[i]];return Ee()};Z[Se]=!0;var Ce,Ie,Pe,Te=Object.create||function(t,e){var n;return null!==t?(ke[we]=T(t),n=new ke,ke[we]=null,n[Se]=t):n=Ee(),void 0===e?n:ve(n,e)},Oe=function(t,e,n){for(var i in e)rt(t,i,e[i],n);return t},Re=function(t){return Object(y(t))},xe=!s((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Me=K("IE_PROTO"),je=Object.prototype,Le=xe?Object.getPrototypeOf:function(t){return t=Re(t),S(t,Me)?t[Me]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?je:null},Ue=Ft("iterator"),De=!1;[].keys&&("next"in(Pe=[].keys())?(Ie=Le(Le(Pe)))!==Object.prototype&&(Ce=Ie):De=!0),null==Ce&&(Ce={}),S(Ce,Ue)||x(Ce,Ue,(function(){return this}));var $e={IteratorPrototype:Ce,BUGGY_SAFARI_ITERATORS:De},Ne=$e.IteratorPrototype,qe=function(){return this},Be=function(t,e,n){var i=e+" Iterator";return t.prototype=Te(Ne,{next:h(1,n)}),ge(t,i,!1),Ht[i]=qe,t},Fe=$e.IteratorPrototype,He=$e.BUGGY_SAFARI_ITERATORS,ze=Ft("iterator"),We="keys",Ve="values",Ge="entries",Je=function(){return this},Ke=function(t,e,n,i,r,o,s){Be(n,e,i);var a,c,l,u=function(t){if(t===r&&f)return f;if(!He&&t in g)return g[t];switch(t){case We:case Ve:case Ge:return function(){return new n(this,t)}}return function(){return new n(this)}},d=e+" Iterator",h=!1,g=t.prototype,p=g[ze]||g["@@iterator"]||r&&g[r],f=!He&&p||u(r),m="Array"==e&&g.entries||p;if(m&&(a=Le(m.call(new t)),Fe!==Object.prototype&&a.next&&(Le(a)!==Fe&&(pe?pe(a,Fe):"function"!=typeof a[ze]&&x(a,ze,Je)),ge(a,d,!0))),r==Ve&&p&&p.name!==Ve&&(h=!0,f=function(){return p.call(this)}),g[ze]!==f&&x(g,ze,f),Ht[e]=f,r)if(c={values:u(Ve),keys:o?f:u(We),entries:u(Ge)},s)for(l in c)(He||h||!(l in g))&&rt(g,l,c[l]);else jt({target:e,proto:!0,forced:He||h},c);return c},Ze=Ft("species"),Ye=function(t){var e=at(t),n=R.f;a&&e&&!e[Ze]&&n(e,Ze,{configurable:!0,get:function(){return this}})},Qe=R.f,Xe=Ut.fastKey,tn=it.set,en=it.getterFor,nn={getConstructor:function(t,e,n,i){var r=t((function(t,o){re(t,r,e),tn(t,{type:e,index:Te(null),first:void 0,last:void 0,size:0}),a||(t.size=0),null!=o&&ie(o,t[i],t,n)})),o=en(e),s=function(t,e,n){var i,r,s=o(t),l=c(t,e);return l?l.value=n:(s.last=l={index:r=Xe(e,!0),key:e,value:n,previous:i=s.last,next:void 0,removed:!1},s.first||(s.first=l),i&&(i.next=l),a?s.size++:t.size++,"F"!==r&&(s.index[r]=l)),t},c=function(t,e){var n,i=o(t),r=Xe(e);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==e)return n};return Oe(r.prototype,{clear:function(){for(var t=o(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,a?t.size=0:this.size=0},delete:function(t){var e=this,n=o(e),i=c(e,t);if(i){var r=i.next,s=i.previous;delete n.index[i.index],i.removed=!0,s&&(s.next=r),r&&(r.previous=s),n.first==i&&(n.first=r),n.last==i&&(n.last=s),a?n.size--:e.size--}return!!i},forEach:function(t){for(var e,n=o(this),i=Jt(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(i(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!c(this,t)}}),Oe(r.prototype,n?{get:function(t){var e=c(this,t);return e&&e.value},set:function(t,e){return s(this,0===t?0:t,e)}}:{add:function(t){return s(this,t=0===t?0:t,t)}}),a&&Qe(r.prototype,"size",{get:function(){return o(this).size}}),r},setStrong:function(t,e,n){var i=e+" Iterator",r=en(e),o=en(i);Ke(t,e,(function(t,e){tn(this,{type:i,target:t,state:r(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),Ye(e)}},rn=(me("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),nn),Zt?{}.toString:function(){return"[object "+Xt(this)+"]"});Zt||rt(Object.prototype,"toString",rn,{unsafe:!0});var on=function(t){return function(e,n){var i,r,o=String(y(e)),s=ut(n),a=o.length;return s<0||s>=a?t?"":void 0:(i=o.charCodeAt(s))<55296||i>56319||s+1===a||(r=o.charCodeAt(s+1))<56320||r>57343?t?o.charAt(s):i:t?o.slice(s,s+2):r-56320+(i-55296<<10)+65536}},sn={codeAt:on(!1),charAt:on(!0)},an=sn.charAt,cn="String Iterator",ln=it.set,un=it.getterFor(cn);Ke(String,"String",(function(t){ln(this,{type:cn,string:String(t),index:0})}),(function(){var t,e=un(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=an(n,i),e.index+=t.length,{value:t,done:!1})}));var dn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},hn=Ft("unscopables"),gn=Array.prototype;null==gn[hn]&&R.f(gn,hn,{configurable:!0,value:Te(null)});var pn=function(t){gn[hn][t]=!0},fn="Array Iterator",mn=it.set,yn=it.getterFor(fn),vn=Ke(Array,"Array",(function(t,e){mn(this,{type:fn,target:v(t),index:0,kind:e})}),(function(){var t=yn(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values");Ht.Arguments=Ht.Array,pn("keys"),pn("values"),pn("entries");var bn=Ft("iterator"),wn=Ft("toStringTag"),_n=vn.values;for(var Sn in dn){var kn=o[Sn],An=kn&&kn.prototype;if(An){if(An[bn]!==_n)try{x(An,bn,_n)}catch(t){An[bn]=_n}if(An[wn]||x(An,wn,Sn),dn[Sn])for(var En in vn)if(An[En]!==vn[En])try{x(An,En,vn[En])}catch(t){An[En]=vn[En]}}}ot.Map;var Cn=Array.isArray||function(t){return"Array"==p(t)},In=Ft("species"),Pn=function(t,e){var n;return Cn(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Cn(n.prototype)?b(n)&&null===(n=n[In])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},Tn=[].push,On=function(t){var e=1==t,n=2==t,i=3==t,r=4==t,o=6==t,s=5==t||o;return function(a,c,l,u){for(var d,h,g=Re(a),p=m(g),f=Jt(c,l,3),y=ht(p.length),v=0,b=u||Pn,w=e?b(a,y):n?b(a,0):void 0;y>v;v++)if((s||v in p)&&(h=f(d=p[v],v,g),t))if(e)w[v]=h;else if(h)switch(t){case 3:return!0;case 5:return d;case 6:return v;case 2:Tn.call(w,d)}else if(r)return!1;return o?-1:i||r?r:w}},Rn={forEach:On(0),map:On(1),filter:On(2),some:On(3),every:On(4),find:On(5),findIndex:On(6)},xn=Ut.getWeakData,Mn=it.set,jn=it.getterFor,Ln=Rn.find,Un=Rn.findIndex,Dn=0,$n=function(t){return t.frozen||(t.frozen=new Nn)},Nn=function(){this.entries=[]},qn=function(t,e){return Ln(t.entries,(function(t){return t[0]===e}))};Nn.prototype={get:function(t){var e=qn(this,t);if(e)return e[1]},has:function(t){return!!qn(this,t)},set:function(t,e){var n=qn(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=Un(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}};var Bn={getConstructor:function(t,e,n,i){var r=t((function(t,o){re(t,r,e),Mn(t,{type:e,id:Dn++,frozen:void 0}),null!=o&&ie(o,t[i],t,n)})),o=jn(e),s=function(t,e,n){var i=o(t),r=xn(T(e),!0);return!0===r?$n(i).set(e,n):r[i.id]=n,t};return Oe(r.prototype,{delete:function(t){var e=o(this);if(!b(t))return!1;var n=xn(t);return!0===n?$n(e).delete(t):n&&S(n,e.id)&&delete n[e.id]},has:function(t){var e=o(this);if(!b(t))return!1;var n=xn(t);return!0===n?$n(e).has(t):n&&S(n,e.id)}}),Oe(r.prototype,n?{get:function(t){var e=o(this);if(b(t)){var n=xn(t);return!0===n?$n(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return s(this,t,e)}}:{add:function(t){return s(this,t,!0)}}),r}};i((function(t){var e,n=it.enforce,i=!o.ActiveXObject&&"ActiveXObject"in o,r=Object.isExtensible,s=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},a=t.exports=me("WeakMap",s,Bn);if(F&&i){e=Bn.getConstructor(s,"WeakMap",!0),Ut.REQUIRED=!0;var c=a.prototype,l=c.delete,u=c.has,d=c.get,h=c.set;Oe(c,{delete:function(t){if(b(t)&&!r(t)){var i=n(this);return i.frozen||(i.frozen=new e),l.call(this,t)||i.frozen.delete(t)}return l.call(this,t)},has:function(t){if(b(t)&&!r(t)){var i=n(this);return i.frozen||(i.frozen=new e),u.call(this,t)||i.frozen.has(t)}return u.call(this,t)},get:function(t){if(b(t)&&!r(t)){var i=n(this);return i.frozen||(i.frozen=new e),u.call(this,t)?d.call(this,t):i.frozen.get(t)}return d.call(this,t)},set:function(t,i){if(b(t)&&!r(t)){var o=n(this);o.frozen||(o.frozen=new e),u.call(this,t)?h.call(this,t,i):o.frozen.set(t,i)}else h.call(this,t,i);return this}})}})),ot.WeakMap,me("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),nn),ot.Set,me("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),Bn),ot.WeakSet,e(i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})})));var Fn=Object.defineProperty,Hn={},zn=function(t){throw t},Wn=function(t,e){if(S(Hn,t))return Hn[t];e||(e={});var n=[][t],i=!!S(e,"ACCESSORS")&&e.ACCESSORS,r=S(e,0)?e[0]:zn,o=S(e,1)?e[1]:void 0;return Hn[t]=!!n&&!s((function(){if(i&&!a)return!0;var t={length:-1};i?Fn(t,1,{enumerable:!0,get:zn}):t[1]=1,n.call(t,r,o)}))},Vn=Rn.find,Gn="find",Jn=!0,Kn=Wn(Gn);Gn in[]&&Array(1)[Gn]((function(){Jn=!1})),jt({target:"Array",proto:!0,forced:Jn||!Kn},{find:function(t){return Vn(this,t,arguments.length>1?arguments[1]:void 0)}}),pn(Gn);var Zn,Yn=Function.call,Qn=function(t,e,n){return Jt(Yn,o[t].prototype[e],n)},Xn=(Qn("Array","find"),"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView),ti=R.f,ei=o.Int8Array,ni=ei&&ei.prototype,ii=o.Uint8ClampedArray,ri=ii&&ii.prototype,oi=ei&&Le(ei),si=ni&&Le(ni),ai=Object.prototype,ci=ai.isPrototypeOf,li=Ft("toStringTag"),ui=G("TYPED_ARRAY_TAG"),di=Xn&&!!pe&&"Opera"!==Xt(o.opera),hi=!1,gi={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},pi=function(t){return b(t)&&S(gi,Xt(t))};for(Zn in gi)o[Zn]||(di=!1);if((!di||"function"!=typeof oi||oi===Function.prototype)&&(oi=function(){throw TypeError("Incorrect invocation")},di))for(Zn in gi)o[Zn]&&pe(o[Zn],oi);if((!di||!si||si===ai)&&(si=oi.prototype,di))for(Zn in gi)o[Zn]&&pe(o[Zn].prototype,si);if(di&&Le(ri)!==si&&pe(ri,si),a&&!S(si,li))for(Zn in hi=!0,ti(si,li,{get:function(){return b(this)?this[ui]:void 0}}),gi)o[Zn]&&x(o[Zn],ui,Zn);var fi={NATIVE_ARRAY_BUFFER_VIEWS:di,TYPED_ARRAY_TAG:hi&&ui,aTypedArray:function(t){if(pi(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(pe){if(ci.call(oi,t))return t}else for(var e in gi)if(S(gi,Zn)){var n=o[e];if(n&&(t===n||ci.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(a){if(n)for(var i in gi){var r=o[i];r&&S(r.prototype,t)&&delete r.prototype[t]}si[t]&&!n||rt(si,t,n?e:di&&ni[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var i,r;if(a){if(pe){if(n)for(i in gi)(r=o[i])&&S(r,t)&&delete r[t];if(oi[t]&&!n)return;try{return rt(oi,t,n?e:di&&ei[t]||e)}catch(t){}}for(i in gi)!(r=o[i])||r[t]&&!n||rt(r,t,e)}},isView:function(t){var e=Xt(t);return"DataView"===e||S(gi,e)},isTypedArray:pi,TypedArray:oi,TypedArrayPrototype:si},mi=Rn.find,yi=fi.aTypedArray;(0,fi.exportTypedArrayMethod)("find",(function(t){return mi(yi(this),t,arguments.length>1?arguments[1]:void 0)}));var vi=Rn.findIndex,bi="findIndex",wi=!0,_i=Wn(bi);bi in[]&&Array(1)[bi]((function(){wi=!1})),jt({target:"Array",proto:!0,forced:wi||!_i},{findIndex:function(t){return vi(this,t,arguments.length>1?arguments[1]:void 0)}}),pn(bi),Qn("Array","findIndex");var Si=Rn.findIndex,ki=fi.aTypedArray;(0,fi.exportTypedArrayMethod)("findIndex",(function(t){return Si(ki(this),t,arguments.length>1?arguments[1]:void 0)}));var Ai=function(t){for(var e=Re(this),n=ht(e.length),i=arguments.length,r=ft(i>1?arguments[1]:void 0,n),o=i>2?arguments[2]:void 0,s=void 0===o?n:ft(o,n);s>r;)e[r++]=t;return e};jt({target:"Array",proto:!0},{fill:Ai}),pn("fill"),Qn("Array","fill");var Ei=fi.aTypedArray;(0,fi.exportTypedArrayMethod)("fill",(function(t){return Ai.apply(Ei(this),arguments)}));var Ci=Math.min,Ii=[].copyWithin||function(t,e){var n=Re(this),i=ht(n.length),r=ft(t,i),o=ft(e,i),s=arguments.length>2?arguments[2]:void 0,a=Ci((void 0===s?i:ft(s,i))-o,i-r),c=1;for(o<r&&r<o+a&&(c=-1,o+=a-1,r+=a-1);a-- >0;)o in n?n[r]=n[o]:delete n[r],r+=c,o+=c;return n};jt({target:"Array",proto:!0},{copyWithin:Ii}),pn("copyWithin"),Qn("Array","copyWithin");var Pi=fi.aTypedArray;(0,fi.exportTypedArrayMethod)("copyWithin",(function(t,e){return Ii.call(Pi(this),t,e,arguments.length>2?arguments[2]:void 0)}));var Ti=function(t,e,n){var i=w(e);i in t?R.f(t,i,h(0,n)):t[i]=n},Oi=!ue((function(t){Array.from(t)}));jt({target:"Array",stat:!0,forced:Oi},{from:function(t){var e,n,i,r,o,s,a=Re(t),c="function"==typeof this?this:Array,l=arguments.length,u=l>1?arguments[1]:void 0,d=void 0!==u,h=ee(a),g=0;if(d&&(u=Jt(u,l>2?arguments[2]:void 0,2)),null==h||c==Array&&Vt(h))for(n=new c(e=ht(a.length));e>g;g++)s=d?u(a[g],g):a[g],Ti(n,g,s);else for(o=(r=h.call(a)).next,n=new c;!(i=o.call(r)).done;g++)s=d?ne(r,u,[i.value,g],!0):i.value,Ti(n,g,s);return n.length=g,n}}),ot.Array.from;var Ri=fi.NATIVE_ARRAY_BUFFER_VIEWS,xi=o.ArrayBuffer,Mi=o.Int8Array,ji=!Ri||!s((function(){Mi(1)}))||!s((function(){new Mi(-1)}))||!ue((function(t){new Mi,new Mi(null),new Mi(1.5),new Mi(t)}),!0)||s((function(){return 1!==new Mi(new xi(2),1,void 0).length})),Li=fi.aTypedArrayConstructor;(0,fi.exportTypedArrayStaticMethod)("from",(function(t){var e,n,i,r,o,s,a=Re(t),c=arguments.length,l=c>1?arguments[1]:void 0,u=void 0!==l,d=ee(a);if(null!=d&&!Vt(d))for(s=(o=d.call(a)).next,a=[];!(r=s.call(o)).done;)a.push(r.value);for(u&&c>2&&(l=Jt(l,arguments[2],2)),n=ht(a.length),i=new(Li(this))(n),e=0;n>e;e++)i[e]=u?l(a[e],e):a[e];return i}),ji);var Ui=s((function(){function t(){}return!(Array.of.call(t)instanceof t)}));jt({target:"Array",stat:!0,forced:Ui},{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)Ti(n,t,arguments[t++]);return n.length=e,n}}),ot.Array.of;var Di=fi.aTypedArrayConstructor;(0,fi.exportTypedArrayStaticMethod)("of",(function(){for(var t=0,e=arguments.length,n=new(Di(this))(e);e>t;)n[t]=arguments[t++];return n}),ji);var $i=R.f,Ni=Function.prototype,qi=Ni.toString,Bi=/^\s*function ([^ (]*)/,Fi="name";a&&!(Fi in Ni)&&$i(Ni,Fi,{configurable:!0,get:function(){try{return qi.call(this).match(Bi)[1]}catch(t){return""}}});var Hi=Math.floor,zi=Math.log,Wi=Math.LOG2E;jt({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-Hi(zi(t+.5)*Wi):32}}),ot.Math.clz32;var Vi=Math.imul,Gi=s((function(){return-5!=Vi(4294967295,5)||2!=Vi.length}));jt({target:"Math",stat:!0,forced:Gi},{imul:function(t,e){var n=65535,i=+t,r=+e,o=n&i,s=n&r;return 0|o*s+((n&i>>>16)*s+o*(n&r>>>16)<<16>>>0)}}),ot.Math.imul;var Ji=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1};jt({target:"Math",stat:!0},{sign:Ji}),ot.Math.sign;var Ki=Math.log,Zi=Math.LOG10E;jt({target:"Math",stat:!0},{log10:function(t){return Ki(t)*Zi}}),ot.Math.log10;var Yi=Math.log,Qi=Math.LN2;jt({target:"Math",stat:!0},{log2:function(t){return Yi(t)/Qi}}),ot.Math.log2;var Xi=Math.log,tr=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Xi(1+t)};jt({target:"Math",stat:!0},{log1p:tr}),ot.Math.log1p;var er=Math.expm1,nr=Math.exp,ir=!er||er(10)>22025.465794806718||er(10)<22025.465794806718||-2e-17!=er(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:nr(t)-1}:er;jt({target:"Math",stat:!0,forced:ir!=Math.expm1},{expm1:ir}),ot.Math.expm1;var rr=Math.cosh,or=Math.abs,sr=Math.E;jt({target:"Math",stat:!0,forced:!rr||rr(710)===1/0},{cosh:function(t){var e=ir(or(t)-1)+1;return(e+1/(e*sr*sr))*(sr/2)}}),ot.Math.cosh;var ar=Math.abs,cr=Math.exp,lr=Math.E,ur=s((function(){return-2e-17!=Math.sinh(-2e-17)}));jt({target:"Math",stat:!0,forced:ur},{sinh:function(t){return ar(t=+t)<1?(ir(t)-ir(-t))/2:(cr(t-1)-cr(-t-1))*(lr/2)}}),ot.Math.sinh;var dr=Math.exp;jt({target:"Math",stat:!0},{tanh:function(t){var e=ir(t=+t),n=ir(-t);return e==1/0?1:n==1/0?-1:(e-n)/(dr(t)+dr(-t))}}),ot.Math.tanh;var hr=Math.acosh,gr=Math.log,pr=Math.sqrt,fr=Math.LN2,mr=!hr||710!=Math.floor(hr(Number.MAX_VALUE))||hr(1/0)!=1/0;jt({target:"Math",stat:!0,forced:mr},{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?gr(t)+fr:tr(t-1+pr(t-1)*pr(t+1))}}),ot.Math.acosh;var yr=Math.asinh,vr=Math.log,br=Math.sqrt;jt({target:"Math",stat:!0,forced:!(yr&&1/yr(0)>0)},{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):vr(e+br(e*e+1)):e}}),ot.Math.asinh;var wr=Math.atanh,_r=Math.log;jt({target:"Math",stat:!0,forced:!(wr&&1/wr(-0)<0)},{atanh:function(t){return 0==(t=+t)?t:_r((1+t)/(1-t))/2}}),ot.Math.atanh;var Sr=Math.hypot,kr=Math.abs,Ar=Math.sqrt,Er=!!Sr&&Sr(1/0,NaN)!==1/0;jt({target:"Math",stat:!0,forced:Er},{hypot:function(t,e){for(var n,i,r=0,o=0,s=arguments.length,a=0;o<s;)a<(n=kr(arguments[o++]))?(r=r*(i=a/n)*i+1,a=n):r+=n>0?(i=n/a)*i:n;return a===1/0?1/0:a*Ar(r)}}),ot.Math.hypot;var Cr=Math.ceil,Ir=Math.floor;jt({target:"Math",stat:!0},{trunc:function(t){return(t>0?Ir:Cr)(t)}}),ot.Math.trunc;var Pr=Math.abs,Tr=Math.pow,Or=Tr(2,-52),Rr=Tr(2,-23),xr=Tr(2,127)*(2-Rr),Mr=Tr(2,-126),jr=Math.fround||function(t){var e,n,i=Pr(t),r=Ji(t);return i<Mr?r*(i/Mr/Rr+1/Or-1/Or)*Mr*Rr:(n=(e=(1+Rr/Or)*i)-(e-i))>xr||n!=n?r*(1/0):r*n};jt({target:"Math",stat:!0},{fround:jr}),ot.Math.fround;var Lr=Math.abs,Ur=Math.pow;jt({target:"Math",stat:!0},{cbrt:function(t){return Ji(t=+t)*Ur(Lr(t),1/3)}}),ot.Math.cbrt,jt({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)});var Dr=o.isFinite,$r=Number.isFinite||function(t){return"number"==typeof t&&Dr(t)};jt({target:"Number",stat:!0},{isFinite:$r}),ot.Number.isFinite;var Nr=Math.floor,qr=function(t){return!b(t)&&isFinite(t)&&Nr(t)===t};jt({target:"Number",stat:!0},{isInteger:qr}),ot.Number.isInteger,jt({target:"Number",stat:!0},{isNaN:function(t){return t!=t}}),ot.Number.isNaN;var Br=Math.abs;jt({target:"Number",stat:!0},{isSafeInteger:function(t){return qr(t)&&Br(t)<=9007199254740991}}),ot.Number.isSafeInteger,jt({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),jt({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991});var Fr="\t\n\v\f\r                　\u2028\u2029\ufeff",Hr="["+Fr+"]",zr=RegExp("^"+Hr+Hr+"*"),Wr=RegExp(Hr+Hr+"*$"),Vr=function(t){return function(e){var n=String(y(e));return 1&t&&(n=n.replace(zr,"")),2&t&&(n=n.replace(Wr,"")),n}},Gr={start:Vr(1),end:Vr(2),trim:Vr(3)},Jr=Gr.trim,Kr=o.parseFloat,Zr=1/Kr(Fr+"-0")!=-1/0?function(t){var e=Jr(String(t)),n=Kr(e);return 0===n&&"-"==e.charAt(0)?-0:n}:Kr;jt({target:"Number",stat:!0,forced:Number.parseFloat!=Zr},{parseFloat:Zr}),ot.Number.parseFloat;var Yr=Gr.trim,Qr=o.parseInt,Xr=/^[+-]?0[Xx]/,to=8!==Qr(Fr+"08")||22!==Qr(Fr+"0x16")?function(t,e){var n=Yr(String(t));return Qr(n,e>>>0||(Xr.test(n)?16:10))}:Qr;jt({target:"Number",stat:!0,forced:Number.parseInt!=to},{parseInt:to}),ot.Number.parseInt;var eo=Object.assign,no=Object.defineProperty,io=!eo||s((function(){if(a&&1!==eo({b:1},eo(no({},"a",{enumerable:!0,get:function(){no(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=eo({},t)[n]||ye(eo({},e)).join("")!=i}))?function(t,e){for(var n=Re(t),i=arguments.length,r=1,o=kt.f,s=d.f;i>r;)for(var c,l=m(arguments[r++]),u=o?ye(l).concat(o(l)):ye(l),h=u.length,g=0;h>g;)c=u[g++],a&&!s.call(l,c)||(n[c]=l[c]);return n}:eo;jt({target:"Object",stat:!0,forced:Object.assign!==io},{assign:io}),ot.Object.assign;var ro=St.f,oo={}.toString,so="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ao={f:function(t){return so&&"[object Window]"==oo.call(t)?function(t){try{return ro(t)}catch(t){return so.slice()}}(t):ro(v(t))}},co={f:Ft},lo=R.f,uo=Rn.forEach,ho=K("hidden"),go="Symbol",po="prototype",fo=Ft("toPrimitive"),mo=it.set,yo=it.getterFor(go),vo=Object[po],bo=o.Symbol,wo=at("JSON","stringify"),_o=P.f,So=R.f,ko=ao.f,Ao=d.f,Eo=z("symbols"),Co=z("op-symbols"),Io=z("string-to-symbol-registry"),Po=z("symbol-to-string-registry"),To=z("wks"),Oo=o.QObject,Ro=!Oo||!Oo[po]||!Oo[po].findChild,xo=a&&s((function(){return 7!=Te(So({},"a",{get:function(){return So(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=_o(vo,e);i&&delete vo[e],So(t,e,n),i&&t!==vo&&So(vo,e,i)}:So,Mo=function(t,e){var n=Eo[t]=Te(bo[po]);return mo(n,{type:go,tag:t,description:e}),a||(n.description=e),n},jo=$t?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof bo},Lo=function(t,e,n){t===vo&&Lo(Co,e,n),T(t);var i=w(e,!0);return T(n),S(Eo,i)?(n.enumerable?(S(t,ho)&&t[ho][i]&&(t[ho][i]=!1),n=Te(n,{enumerable:h(0,!1)})):(S(t,ho)||So(t,ho,h(1,{})),t[ho][i]=!0),xo(t,i,n)):So(t,i,n)},Uo=function(t,e){T(t);var n=v(e),i=ye(n).concat(qo(n));return uo(i,(function(e){a&&!Do.call(n,e)||Lo(t,e,n[e])})),t},Do=function(t){var e=w(t,!0),n=Ao.call(this,e);return!(this===vo&&S(Eo,e)&&!S(Co,e))&&(!(n||!S(this,e)||!S(Eo,e)||S(this,ho)&&this[ho][e])||n)},$o=function(t,e){var n=v(t),i=w(e,!0);if(n!==vo||!S(Eo,i)||S(Co,i)){var r=_o(n,i);return!r||!S(Eo,i)||S(n,ho)&&n[ho][i]||(r.enumerable=!0),r}},No=function(t){var e=ko(v(t)),n=[];return uo(e,(function(t){S(Eo,t)||S(Z,t)||n.push(t)})),n},qo=function(t){var e=t===vo,n=ko(e?Co:v(t)),i=[];return uo(n,(function(t){!S(Eo,t)||e&&!S(vo,t)||i.push(Eo[t])})),i};if(Dt||(bo=function(){if(this instanceof bo)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=G(t),n=function(t){this===vo&&n.call(Co,t),S(this,ho)&&S(this[ho],e)&&(this[ho][e]=!1),xo(this,e,h(1,t))};return a&&Ro&&xo(vo,e,{configurable:!0,set:n}),Mo(e,t)},rt(bo[po],"toString",(function(){return yo(this).tag})),rt(bo,"withoutSetter",(function(t){return Mo(G(t),t)})),d.f=Do,R.f=Lo,P.f=$o,St.f=ao.f=No,kt.f=qo,co.f=function(t){return Mo(Ft(t),t)},a&&(So(bo[po],"description",{configurable:!0,get:function(){return yo(this).description}}),rt(vo,"propertyIsEnumerable",Do,{unsafe:!0}))),jt({global:!0,wrap:!0,forced:!Dt,sham:!Dt},{Symbol:bo}),uo(ye(To),(function(t){!function(t){var e=ot.Symbol||(ot.Symbol={});S(e,t)||lo(e,t,{value:co.f(t)})}(t)})),jt({target:go,stat:!0,forced:!Dt},{for:function(t){var e=String(t);if(S(Io,e))return Io[e];var n=bo(e);return Io[e]=n,Po[n]=e,n},keyFor:function(t){if(!jo(t))throw TypeError(t+" is not a symbol");if(S(Po,t))return Po[t]},useSetter:function(){Ro=!0},useSimple:function(){Ro=!1}}),jt({target:"Object",stat:!0,forced:!Dt,sham:!a},{create:function(t,e){return void 0===e?Te(t):Uo(Te(t),e)},defineProperty:Lo,defineProperties:Uo,getOwnPropertyDescriptor:$o}),jt({target:"Object",stat:!0,forced:!Dt},{getOwnPropertyNames:No,getOwnPropertySymbols:qo}),jt({target:"Object",stat:!0,forced:s((function(){kt.f(1)}))},{getOwnPropertySymbols:function(t){return kt.f(Re(t))}}),wo){var Bo=!Dt||s((function(){var t=bo();return"[null]"!=wo([t])||"{}"!=wo({a:t})||"{}"!=wo(Object(t))}));jt({target:"JSON",stat:!0,forced:Bo},{stringify:function(t,e,n){for(var i,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(i=e,(b(e)||void 0!==t)&&!jo(t))return Cn(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!jo(e))return e}),r[1]=e,wo.apply(null,r)}})}bo[po][fo]||x(bo[po],fo,bo[po].valueOf),ge(bo,go),Z[ho]=!0,ot.Object.getOwnPropertySymbols;var Fo=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};jt({target:"Object",stat:!0},{is:Fo}),ot.Object.is,jt({target:"Object",stat:!0},{setPrototypeOf:pe}),ot.Object.setPrototypeOf;var Ho=Object.isFrozen,zo=s((function(){Ho(1)}));jt({target:"Object",stat:!0,forced:zo},{isFrozen:function(t){return!b(t)||!!Ho&&Ho(t)}}),ot.Object.isFrozen;var Wo=function(){var t=T(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function Vo(t,e){return RegExp(t,e)}var Go={UNSUPPORTED_Y:s((function(){var t=Vo("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:s((function(){var t=Vo("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))};a&&("g"!=/./g.flags||Go.UNSUPPORTED_Y)&&R.f(RegExp.prototype,"flags",{configurable:!0,get:Wo});var Jo=Ft("match"),Ko=function(t){var e;return b(t)&&(void 0!==(e=t[Jo])?!!e:"RegExp"==p(t))},Zo=R.f,Yo=St.f,Qo=it.set,Xo=Ft("match"),ts=o.RegExp,es=ts.prototype,ns=/a/g,is=/a/g,rs=new ts(ns)!==ns,os=Go.UNSUPPORTED_Y;if(a&&xt("RegExp",!rs||os||s((function(){return is[Xo]=!1,ts(ns)!=ns||ts(is)==is||"/a/i"!=ts(ns,"i")})))){for(var ss=function(t,e){var n,i=this instanceof ss,r=Ko(t),o=void 0===e;if(!i&&r&&t.constructor===ss&&o)return t;rs?r&&!o&&(t=t.source):t instanceof ss&&(o&&(e=Wo.call(t)),t=t.source),os&&(n=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var s=fe(rs?new ts(t,e):ts(t,e),i?this:es,ss);return os&&n&&Qo(s,{sticky:n}),s},as=function(t){t in ss||Zo(ss,t,{configurable:!0,get:function(){return ts[t]},set:function(e){ts[t]=e}})},cs=Yo(ts),ls=0;cs.length>ls;)as(cs[ls++]);es.constructor=ss,ss.prototype=es,rt(o,"RegExp",ss)}Ye("RegExp");var us=sn.codeAt;jt({target:"String",proto:!0},{codePointAt:function(t){return us(this,t)}}),Qn("String","codePointAt");var ds=function(t){if(Ko(t))throw TypeError("The method doesn't accept regular expressions");return t},hs=Ft("match"),gs=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[hs]=!1,"/./"[t](e)}catch(t){}}return!1};jt({target:"String",proto:!0,forced:!gs("includes")},{includes:function(t){return!!~String(y(this)).indexOf(ds(t),arguments.length>1?arguments[1]:void 0)}}),Qn("String","includes");var ps,fs=P.f,ms="".endsWith,ys=Math.min,vs=gs("endsWith"),bs=!(vs||(ps=fs(String.prototype,"endsWith"),!ps||ps.writable));jt({target:"String",proto:!0,forced:!bs&&!vs},{endsWith:function(t){var e=String(y(this));ds(t);var n=arguments.length>1?arguments[1]:void 0,i=ht(e.length),r=void 0===n?i:ys(ht(n),i),o=String(t);return ms?ms.call(e,o,r):e.slice(r-o.length,r)===o}}),Qn("String","endsWith");var ws="".repeat||function(t){var e=String(y(this)),n="",i=ut(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n};jt({target:"String",proto:!0},{repeat:ws}),Qn("String","repeat");var _s=P.f,Ss="".startsWith,ks=Math.min,As=gs("startsWith"),Es=!As&&!!function(){var t=_s(String.prototype,"startsWith");return t&&!t.writable}();jt({target:"String",proto:!0,forced:!Es&&!As},{startsWith:function(t){var e=String(y(this));ds(t);var n=ht(ks(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return Ss?Ss.call(e,i,n):e.slice(n,n+i.length)===i}}),Qn("String","startsWith");var Cs=/"/g,Is=function(t,e,n,i){var r=String(y(t)),o="<"+e;return""!==n&&(o+=" "+n+'="'+String(i).replace(Cs,"&quot;")+'"'),o+">"+r+"</"+e+">"},Ps=function(t){return s((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))};jt({target:"String",proto:!0,forced:Ps("anchor")},{anchor:function(t){return Is(this,"a","name",t)}}),Qn("String","anchor"),jt({target:"String",proto:!0,forced:Ps("blink")},{blink:function(){return Is(this,"blink","","")}}),Qn("String","blink"),jt({target:"String",proto:!0,forced:Ps("bold")},{bold:function(){return Is(this,"b","","")}}),Qn("String","bold"),jt({target:"String",proto:!0,forced:Ps("fixed")},{fixed:function(){return Is(this,"tt","","")}}),Qn("String","fixed"),jt({target:"String",proto:!0,forced:Ps("fontcolor")},{fontcolor:function(t){return Is(this,"font","color",t)}}),Qn("String","fontcolor"),jt({target:"String",proto:!0,forced:Ps("fontsize")},{fontsize:function(t){return Is(this,"font","size",t)}}),Qn("String","fontsize"),jt({target:"String",proto:!0,forced:Ps("italics")},{italics:function(){return Is(this,"i","","")}}),Qn("String","italics"),jt({target:"String",proto:!0,forced:Ps("link")},{link:function(t){return Is(this,"a","href",t)}}),Qn("String","link"),jt({target:"String",proto:!0,forced:Ps("small")},{small:function(){return Is(this,"small","","")}}),Qn("String","small"),jt({target:"String",proto:!0,forced:Ps("strike")},{strike:function(){return Is(this,"strike","","")}}),Qn("String","strike"),jt({target:"String",proto:!0,forced:Ps("sub")},{sub:function(){return Is(this,"sub","","")}}),Qn("String","sub"),jt({target:"String",proto:!0,forced:Ps("sup")},{sup:function(){return Is(this,"sup","","")}}),Qn("String","sup");var Ts=String.fromCharCode,Os=String.fromCodePoint,Rs=!!Os&&1!=Os.length;jt({target:"String",stat:!0,forced:Rs},{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,r=0;i>r;){if(e=+arguments[r++],ft(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?Ts(e):Ts(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}}),ot.String.fromCodePoint,jt({target:"String",stat:!0},{raw:function(t){for(var e=v(t.raw),n=ht(e.length),i=arguments.length,r=[],o=0;n>o;)r.push(String(e[o++])),o<i&&r.push(String(arguments[o]));return r.join("")}}),ot.String.raw,e(i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})})));var xs,Ms,js,Ls=o.Promise,Us=Ft("species"),Ds=function(t,e){var n,i=T(t).constructor;return void 0===i||null==(n=T(i)[Us])?e:Gt(n)},$s=at("navigator","userAgent")||"",Ns=/(iphone|ipod|ipad).*applewebkit/i.test($s),qs=o.location,Bs=o.setImmediate,Fs=o.clearImmediate,Hs=o.process,zs=o.MessageChannel,Ws=o.Dispatch,Vs=0,Gs={},Js="onreadystatechange",Ks=function(t){if(Gs.hasOwnProperty(t)){var e=Gs[t];delete Gs[t],e()}},Zs=function(t){return function(){Ks(t)}},Ys=function(t){Ks(t.data)},Qs=function(t){o.postMessage(t+"",qs.protocol+"//"+qs.host)};Bs&&Fs||(Bs=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return Gs[++Vs]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},xs(Vs),Vs},Fs=function(t){delete Gs[t]},"process"==p(Hs)?xs=function(t){Hs.nextTick(Zs(t))}:Ws&&Ws.now?xs=function(t){Ws.now(Zs(t))}:zs&&!Ns?(js=(Ms=new zs).port2,Ms.port1.onmessage=Ys,xs=Jt(js.postMessage,js,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||s(Qs)?xs=Js in E("script")?function(t){be.appendChild(E("script"))[Js]=function(){be.removeChild(this),Ks(t)}}:function(t){setTimeout(Zs(t),0)}:(xs=Qs,o.addEventListener("message",Ys,!1)));var Xs,ta,ea,na,ia,ra,oa,sa,aa={set:Bs,clear:Fs},ca=P.f,la=aa.set,ua=o.MutationObserver||o.WebKitMutationObserver,da=o.process,ha=o.Promise,ga="process"==p(da),pa=ca(o,"queueMicrotask"),fa=pa&&pa.value;fa||(Xs=function(){var t,e;for(ga&&(t=da.domain)&&t.exit();ta;){e=ta.fn,ta=ta.next;try{e()}catch(t){throw ta?na():ea=void 0,t}}ea=void 0,t&&t.enter()},ga?na=function(){da.nextTick(Xs)}:ua&&!Ns?(ia=!0,ra=document.createTextNode(""),new ua(Xs).observe(ra,{characterData:!0}),na=function(){ra.data=ia=!ia}):ha&&ha.resolve?(oa=ha.resolve(void 0),sa=oa.then,na=function(){sa.call(oa,Xs)}):na=function(){la.call(o,Xs)});var ma,ya,va=fa||function(t){var e={fn:t,next:void 0};ea&&(ea.next=e),ta||(ta=e,na()),ea=e},ba=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=Gt(e),this.reject=Gt(n)},wa={f:function(t){return new ba(t)}},_a=function(t,e){if(T(t),b(e)&&e.constructor===t)return e;var n=wa.f(t);return(0,n.resolve)(e),n.promise},Sa=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},ka=o.process,Aa=ka&&ka.versions,Ea=Aa&&Aa.v8;Ea?ya=(ma=Ea.split("."))[0]+ma[1]:$s&&(!(ma=$s.match(/Edge\/(\d+)/))||ma[1]>=74)&&(ma=$s.match(/Chrome\/(\d+)/))&&(ya=ma[1]);var Ca,Ia,Pa,Ta,Oa=ya&&+ya,Ra=aa.set,xa=Ft("species"),Ma="Promise",ja=it.get,La=it.set,Ua=it.getterFor(Ma),Da=Ls,$a=o.TypeError,Na=o.document,qa=o.process,Ba=at("fetch"),Fa=wa.f,Ha=Fa,za="process"==p(qa),Wa=!!(Na&&Na.createEvent&&o.dispatchEvent),Va="unhandledrejection",Ga=xt(Ma,(function(){if(q(Da)===String(Da)){if(66===Oa)return!0;if(!za&&"function"!=typeof PromiseRejectionEvent)return!0}if(Oa>=51&&/native code/.test(Da))return!1;var t=Da.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[xa]=e,!(t.then((function(){}))instanceof e)})),Ja=Ga||!ue((function(t){Da.all(t).catch((function(){}))})),Ka=function(t){var e;return!(!b(t)||"function"!=typeof(e=t.then))&&e},Za=function(t,e,n){if(!e.notified){e.notified=!0;var i=e.reactions;va((function(){for(var r=e.value,o=1==e.state,s=0;i.length>s;){var a,c,l,u=i[s++],d=o?u.ok:u.fail,h=u.resolve,g=u.reject,p=u.domain;try{d?(o||(2===e.rejection&&tc(t,e),e.rejection=1),!0===d?a=r:(p&&p.enter(),a=d(r),p&&(p.exit(),l=!0)),a===u.promise?g($a("Promise-chain cycle")):(c=Ka(a))?c.call(a,h,g):h(a)):g(r)}catch(t){p&&!l&&p.exit(),g(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&Qa(t,e)}))}},Ya=function(t,e,n){var i,r;Wa?((i=Na.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),o.dispatchEvent(i)):i={promise:e,reason:n},(r=o["on"+t])?r(i):t===Va&&function(t,e){var n=o.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},Qa=function(t,e){Ra.call(o,(function(){var n,i=e.value;if(Xa(e)&&(n=Sa((function(){za?qa.emit("unhandledRejection",i,t):Ya(Va,t,i)})),e.rejection=za||Xa(e)?2:1,n.error))throw n.value}))},Xa=function(t){return 1!==t.rejection&&!t.parent},tc=function(t,e){Ra.call(o,(function(){za?qa.emit("rejectionHandled",t):Ya("rejectionhandled",t,e.value)}))},ec=function(t,e,n,i){return function(r){t(e,n,r,i)}},nc=function(t,e,n,i){e.done||(e.done=!0,i&&(e=i),e.value=n,e.state=2,Za(t,e,!0))},ic=function(t,e,n,i){if(!e.done){e.done=!0,i&&(e=i);try{if(t===n)throw $a("Promise can't be resolved itself");var r=Ka(n);r?va((function(){var i={done:!1};try{r.call(n,ec(ic,t,i,e),ec(nc,t,i,e))}catch(n){nc(t,i,n,e)}})):(e.value=n,e.state=1,Za(t,e,!1))}catch(n){nc(t,{done:!1},n,e)}}};Ga&&(Da=function(t){re(this,Da,Ma),Gt(t),Ca.call(this);var e=ja(this);try{t(ec(ic,this,e),ec(nc,this,e))}catch(t){nc(this,e,t)}},(Ca=function(t){La(this,{type:Ma,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Oe(Da.prototype,{then:function(t,e){var n=Ua(this),i=Fa(Ds(this,Da));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=za?qa.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&Za(this,n,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),Ia=function(){var t=new Ca,e=ja(t);this.promise=t,this.resolve=ec(ic,t,e),this.reject=ec(nc,t,e)},wa.f=Fa=function(t){return t===Da||t===Pa?new Ia(t):Ha(t)},"function"==typeof Ls&&(Ta=Ls.prototype.then,rt(Ls.prototype,"then",(function(t,e){var n=this;return new Da((function(t,e){Ta.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof Ba&&jt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return _a(Da,Ba.apply(o,arguments))}}))),jt({global:!0,wrap:!0,forced:Ga},{Promise:Da}),ge(Da,Ma,!1),Ye(Ma),Pa=at(Ma),jt({target:Ma,stat:!0,forced:Ga},{reject:function(t){var e=Fa(this);return e.reject.call(void 0,t),e.promise}}),jt({target:Ma,stat:!0,forced:Ga},{resolve:function(t){return _a(this,t)}}),jt({target:Ma,stat:!0,forced:Ja},{all:function(t){var e=this,n=Fa(e),i=n.resolve,r=n.reject,o=Sa((function(){var n=Gt(e.resolve),o=[],s=0,a=1;ie(t,(function(t){var c=s++,l=!1;o.push(void 0),a++,n.call(e,t).then((function(t){l||(l=!0,o[c]=t,--a||i(o))}),r)})),--a||i(o)}));return o.error&&r(o.value),n.promise},race:function(t){var e=this,n=Fa(e),i=n.reject,r=Sa((function(){var r=Gt(e.resolve);ie(t,(function(t){r.call(e,t).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}}),jt({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=wa.f(e),i=n.resolve,r=n.reject,o=Sa((function(){var n=Gt(e.resolve),r=[],o=0,s=1;ie(t,(function(t){var a=o++,c=!1;r.push(void 0),s++,n.call(e,t).then((function(t){c||(c=!0,r[a]={status:"fulfilled",value:t},--s||i(r))}),(function(t){c||(c=!0,r[a]={status:"rejected",reason:t},--s||i(r))}))})),--s||i(r)}));return o.error&&r(o.value),n.promise}});var rc=!!Ls&&s((function(){Ls.prototype.finally.call({then:function(){}},(function(){}))}));jt({target:"Promise",proto:!0,real:!0,forced:rc},{finally:function(t){var e=Ds(this,at("Promise")),n="function"==typeof t;return this.then(n?function(n){return _a(e,t()).then((function(){return n}))}:t,n?function(n){return _a(e,t()).then((function(){throw n}))}:t)}}),"function"!=typeof Ls||Ls.prototype.finally||rt(Ls.prototype,"finally",at("Promise").prototype.finally),ot.Promise,e(i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})})));var oc=yt.includes,sc=Wn("indexOf",{ACCESSORS:!0,1:0});jt({target:"Array",proto:!0,forced:!sc},{includes:function(t){return oc(this,t,arguments.length>1?arguments[1]:void 0)}}),pn("includes"),Qn("Array","includes");var ac=yt.includes,cc=fi.aTypedArray;(0,fi.exportTypedArrayMethod)("includes",(function(t){return ac(cc(this),t,arguments.length>1?arguments[1]:void 0)})),e(i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})})));var lc=d.f,uc=function(t){return function(e){for(var n,i=v(e),r=ye(i),o=r.length,s=0,c=[];o>s;)n=r[s++],a&&!lc.call(i,n)||c.push(t?[n,i[n]]:i[n]);return c}},dc={entries:uc(!0),values:uc(!1)},hc=dc.values;jt({target:"Object",stat:!0},{values:function(t){return hc(t)}}),ot.Object.values;var gc=dc.entries;jt({target:"Object",stat:!0},{entries:function(t){return gc(t)}}),ot.Object.entries,jt({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){for(var e,n,i=v(t),r=P.f,o=At(i),s={},a=0;o.length>a;)void 0!==(n=r(i,e=o[a++]))&&Ti(s,e,n);return s}}),ot.Object.getOwnPropertyDescriptors,e(i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})})));var pc=Math.ceil,fc=function(t){return function(e,n,i){var r,o,s=String(y(e)),a=s.length,c=void 0===i?" ":String(i),l=ht(n);return l<=a||""==c?s:(r=l-a,(o=ws.call(c,pc(r/c.length))).length>r&&(o=o.slice(0,r)),t?s+o:o+s)}},mc={start:fc(!1),end:fc(!0)},yc=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test($s),vc=mc.start;jt({target:"String",proto:!0,forced:yc},{padStart:function(t){return vc(this,t,arguments.length>1?arguments[1]:void 0)}}),Qn("String","padStart");var bc=mc.end;jt({target:"String",proto:!0,forced:yc},{padEnd:function(t){return bc(this,t,arguments.length>1?arguments[1]:void 0)}}),Qn("String","padEnd"),e(i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})}))),Qn("Promise","finally"),e(i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})})));var wc=function(t,e,n,i,r,o,s,a){for(var c,l=r,u=0,d=!!s&&Jt(s,a,3);u<i;){if(u in n){if(c=d?d(n[u],u,e):n[u],o>0&&Cn(c))l=wc(t,e,c,ht(c.length),l,o-1)-1;else{if(l>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[l]=c}l++}u++}return l},_c=wc;jt({target:"Array",proto:!0},{flatMap:function(t){var e,n=Re(this),i=ht(n.length);return Gt(t),(e=Pn(n,0)).length=_c(e,n,n,i,0,1,t,arguments.length>1?arguments[1]:void 0),e}}),pn("flatMap"),Qn("Array","flatMap"),jt({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=Re(this),n=ht(e.length),i=Pn(e,0);return i.length=_c(i,e,e,n,0,void 0===t?1:ut(t)),i}}),pn("flat"),Qn("Array","flat"),e(i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})}))),jt({target:"Object",stat:!0},{fromEntries:function(t){var e={};return ie(t,(function(t,n){Ti(e,t,n)}),void 0,!0),e}}),ot.Object.fromEntries,e(i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})})));var Sc=function(t){return s((function(){return!!Fr[t]()||"​᠎"!="​᠎"[t]()||Fr[t].name!==t}))},kc=Gr.end,Ac=Sc("trimEnd"),Ec=Ac?function(){return kc(this)}:"".trimEnd;jt({target:"String",proto:!0,forced:Ac},{trimEnd:Ec,trimRight:Ec}),Qn("String","trimRight");var Cc=Gr.start,Ic=Sc("trimStart"),Pc=Ic?function(){return Cc(this)}:"".trimStart;jt({target:"String",proto:!0,forced:Ic},{trimStart:Pc,trimLeft:Pc}),Qn("String","trimLeft"),Qn("String","trimLeft"),Qn("String","trimRight"),e(i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})}))),ot.Promise.allSettled,e(i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})}))),jt({global:!0},{globalThis:o}),e(i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})})));var Tc=sn.charAt,Oc=Ft("matchAll"),Rc="RegExp String",xc=Rc+" Iterator",Mc=it.set,jc=it.getterFor(xc),Lc=RegExp.prototype,Uc=Lc.exec,Dc="".matchAll,$c=!!Dc&&!s((function(){"a".matchAll(/./)})),Nc=Be((function(t,e,n,i){Mc(this,{type:xc,regexp:t,string:e,global:n,unicode:i,done:!1})}),Rc,(function(){var t=jc(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,n=t.string,i=function(t,e){var n,i=t.exec;if("function"==typeof i){if("object"!=typeof(n=i.call(t,e)))throw TypeError("Incorrect exec result");return n}return Uc.call(t,e)}(e,n);return null===i?{value:void 0,done:t.done=!0}:t.global?(""==String(i[0])&&(e.lastIndex=function(t,e,n){return e+(n?Tc(t,e).length:1)}(n,ht(e.lastIndex),t.unicode)),{value:i,done:!1}):(t.done=!0,{value:i,done:!1})})),qc=function(t){var e,n,i,r,o,s,a=T(this),c=String(t);return e=Ds(a,RegExp),void 0===(n=a.flags)&&a instanceof RegExp&&!("flags"in Lc)&&(n=Wo.call(a)),i=void 0===n?"":String(n),r=new e(e===RegExp?a.source:a,i),o=!!~i.indexOf("g"),s=!!~i.indexOf("u"),r.lastIndex=ht(a.lastIndex),new Nc(r,c,o,s)};jt({target:"String",proto:!0,forced:$c},{matchAll:function(t){var e,n,i=y(this);if(null!=t){if(Ko(t)&&!~String(y("flags"in Lc?t.flags:Wo.call(t))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if($c)return Dc.apply(i,arguments);if(void 0===(n=t[Oc])&&H&&"RegExp"==p(t)&&(n=qc),null!=n)return Gt(n).call(t,i)}else if($c)return Dc.apply(i,arguments);return e=String(i),new RegExp(t,"g")[Oc](e)}}),Oc in Lc||x(Lc,Oc,qc),Qn("String","matchAll"),e(i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})}))),e(i((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})})))}()},4143:(t,e,n)=>{var i,r,o,s,a,c,l,u,d,h,g,p,f,m,y,v,b,w,_,S,k,A,E,C,I,P,T,O,R,x;!function(M){var j="object"==typeof n.g?n.g:"object"==typeof self?self:"object"==typeof this?this:{};function L(t,e){return t!==j&&("function"==typeof Object.create?Object.defineProperty(t,"__esModule",{value:!0}):t.__esModule=!0),function(n,i){return t[n]=e?e(n,i):i}}i=function(t){!function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])};r=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)},o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},a=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},c=function(t,e){return function(n,i){e(n,i,t)}},l=function(t,e,n,i,r,o){function s(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var a,c=i.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!e&&t?i.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,i.name):{}),h=!1,g=n.length-1;g>=0;g--){var p={};for(var f in i)p[f]="access"===f?{}:i[f];for(var f in i.access)p.access[f]=i.access[f];p.addInitializer=function(t){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(t||null))};var m=(0,n[g])("accessor"===c?{get:d.get,set:d.set}:d[l],p);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(a=s(m.get))&&(d.get=a),(a=s(m.set))&&(d.set=a),(a=s(m.init))&&r.push(a)}else(a=s(m))&&("field"===c?r.push(a):d[l]=a)}u&&Object.defineProperty(u,i.name,d),h=!0},u=function(t,e,n){for(var i=arguments.length>2,r=0;r<e.length;r++)n=i?e[r].call(t,n):e[r].call(t);return i?n:void 0},d=function(t){return"symbol"==typeof t?t:"".concat(t)},h=function(t,e,n){return"symbol"==typeof e&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})},g=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))},f=function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},m=function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||x(e,t,n)},x=Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]},y=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},v=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},b=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t},w=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i},_=function(t,e,n){if(n||2===arguments.length)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},S=function(t){return this instanceof S?(this.v=t,this):new S(t)},k=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){o.push([t,e,n,i])>1||a(t,e)}))})}function a(t,e){try{(n=r[t](e)).value instanceof S?Promise.resolve(n.value.v).then(c,l):u(o[0][2],n)}catch(t){u(o[0][3],t)}var n}function c(t){a("next",t)}function l(t){a("throw",t)}function u(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}},A=function(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:S(t[i](e)),done:!1}:r?r(e):e}:r}},E=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=y(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){!function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}(i,r,(e=t[n](e)).done,e.value)}))}}},C=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t};var n=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};I=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&x(e,t,i);return n(e,t),e},P=function(t){return t&&t.__esModule?t:{default:t}},T=function(t,e,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:e.get(t)},O=function(t,e,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(t,n):r?r.value=n:e.set(t,n),n},R=function(t,e){if(null===e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?e===t:t.has(e)},t("__extends",r),t("__assign",o),t("__rest",s),t("__decorate",a),t("__param",c),t("__esDecorate",l),t("__runInitializers",u),t("__propKey",d),t("__setFunctionName",h),t("__metadata",g),t("__awaiter",p),t("__generator",f),t("__exportStar",m),t("__createBinding",x),t("__values",y),t("__read",v),t("__spread",b),t("__spreadArrays",w),t("__spreadArray",_),t("__await",S),t("__asyncGenerator",k),t("__asyncDelegator",A),t("__asyncValues",E),t("__makeTemplateObject",C),t("__importStar",I),t("__importDefault",P),t("__classPrivateFieldGet",T),t("__classPrivateFieldSet",O),t("__classPrivateFieldIn",R)}(L(j,L(t)))}.apply(e,[e]),void 0===i||(t.exports=i)}()},3110:(t,e,n)=>{n.r(e),n.d(e,{AkwaNotify:()=>a,createAkwaNotify:()=>c});var i=n(4143),r=n(4485),o=n(5194),s=n(4152);let a=class extends o.R{async connectedCallback(){await super.connectedCallback(),this.hasAttribute("closeable")&&this._addCloseButton(),this.closeAfter&&this._addTimeout(this.closeAfter),this.emit("ready")}get closeAfter(){return(0,s.p3)(this.getAttribute("close-after"))}_addCloseButton(){this.closeButton=(0,s.B9)(),this.insertBefore(this.closeButton,this.firstChild),this._addEventListener()}_addEventListener(){this.closeButton.addEventListener("click",(t=>{this.close(),t.preventDefault()}),!0)}close(){this.remove()}_addTimeout(t){setTimeout((()=>{this.close()}),t)}};function c({type:t="info",closeable:e=!1,closeAfter:n,text:i}={}){const r=document.createElement("a-notify");if(r.setAttribute("type",t),!0===e&&r.setAttribute("closeable","true"),void 0!==n&&r.setAttribute("close-after",n.toString()),void 0!==i){const t=document.createElement("p");t.textContent=i,r.append(t)}return r}a=(0,i.__decorate)([(0,r.J)("a-notify")],a)},2483:(t,e,n)=>{n.d(e,{D:()=>o,Z:()=>s});var i=n(4152);const r="akwa-debug";function o(){return window.location.hash.startsWith(`#${r}`)||(0,i.h2)()||"true"===window.localStorage.akwaDebug}function s(t,e="background: #43b8e9; border-radius: 2px; color: #fff"){return(...n)=>{if(!o())return;const i=`#${r}=`,{hash:s}=window.location;if(s.includes(i)){const e=s.slice(i.length).toLowerCase().split(",").map((t=>t.toLowerCase()));if(!e.includes(t.toLowerCase()))return}console.log(`%c ≋ ${t} `,e,...n)}}},4485:(t,e,n)=>{n.d(e,{J:()=>r});var i=n(4152);function r(t,e){return n=>{(0,i.iD)(t,n,e)}}},5194:(t,e,n)=>{n.d(e,{R:()=>r});var i=n(4152);class r extends HTMLElement{constructor(){super(...arguments),this.ready=!1}get _width(){return(0,i.p3)(this.getAttribute("width"))}get _height(){return(0,i.p3)(this.getAttribute("height"))}get outerHeight(){return(0,i.Pb)(this)}get visibleHeight(){return(0,i.Q5)(this)}get mediaQuery(){return this.getAttribute("media")}get toggleClassOnMedia(){return this.getAttribute("toggle-class-on-media")}get toggleAttrOnMedia(){return this.getAttribute("toggle-attr-on-media")}get hasToggleClassOnMedia(){return this.hasAttribute("toggle-class-on-media")}get hasToggleAttrOnMedia(){return this.hasAttribute("toggle-attr-on-media")}get name(){return this.getAttribute("name")}get needsConsent(){return this.hasAttribute("needs-consent")}get layout(){return this.getAttribute("layout")||"fixed"}hide(){(0,i.Cp)(this)}show(){(0,i.$Z)(this)}isVisible(){return(0,i.pn)(this)}emit(t,e,n=!1){this.dispatchEvent(new window.CustomEvent(t,{detail:e,bubbles:n}))}waitUntilReady(){return new Promise((t=>{this.ready?t():this.addEventListener("ready",(()=>{t()}))}))}_ready(t="ready"){this.ready=!0,this.emit(t)}matchesMedia(){return!!this.mediaQuery&&this.ownerDocument?.defaultView?.matchMedia(this.mediaQuery).matches}_applyMediaQuery(){const t=this.matchesMedia();this.hasToggleAttrOnMedia||this.hasToggleClassOnMedia?(this.hasToggleAttrOnMedia&&this.toggleAttribute(this.toggleAttrOnMedia,!t),this.hasToggleClassOnMedia&&this.classList.toggle(this.toggleClassOnMedia,!t)):this.classList.toggle("a-u-hidden-by-media-query",!t)}async connectedCallback(){await new Promise((t=>setTimeout(t,0))),this.hasAttribute("media")&&(this._applyMediaQuery(),(0,i.ib)((()=>{this._applyMediaQuery()})))}getMandatoryAttribute(t){const e=this.getAttribute(t);if(null===e)throw new Error(`attribute missing: [${t}]`);return e}query(t){const e=this.querySelector(t);if(!e)throw new TypeError(`${t} missing`);return e}queryAll(t){const e=this.querySelectorAll(t);if(!e)throw new TypeError(`${t} missing`);return e}getNumberAttribute(t){const e=this.getAttribute(t);if(null!==e)return(0,i.p3)(e)}}},8891:t=>{t.exports=function(){!function(t,e){const n=function(){const n=this;this.mediaStVersion="4.1.3",this.instance=[],this.mediaSessions={},this.maxMediaRequests=500,this.ignoreDuplicatedRequest=!0,this.ignoreDuplicatedRequestTimeout=3e3,this.getPixelInstance=function(t,e){if("undefined"!=typeof webtrekkUnloadObjects)for(let n=0,i=webtrekkUnloadObjects.length;n<i;n++){const i=webtrekkUnloadObjects[n];if(i.trackId){if("1"!==i.cookie||i.eid||i.firstParty(),i.trackId===t)return[i];if(-1!==i.trackId.indexOf(t))return[{trackDomain:e,trackId:t,eid:i.eid,pixelSampling:i.pixelSampling,deactivatePixel:i.deactivatePixel}]}}return"undefined"!=typeof webtrekk&&webtrekk.trackId&&webtrekk.trackDomain?(webtrekk.eid="undefined"!=typeof wt_cookie_eid&&wt_cookie_eid,webtrekk.deactivatePixel="undefined"!=typeof wt_deactivatePixel&&wt_deactivatePixel,[webtrekk]):[]},this.getAllPixelInstances=function(){if("undefined"!=typeof webtrekkUnloadObjects){for(let t=0,e=webtrekkUnloadObjects.length;t<e;t++){const e=webtrekkUnloadObjects[t];"1"!==e.cookie||e.eid||e.firstParty()}return webtrekkUnloadObjects}return[]},this.escape=function(t){try{return encodeURIComponent(t)}catch(e){return escape(t)}},this.getMediaCategory=function(t,e){let i,r,o="";for(r in e)i=`${r}`,(t||-1===i.indexOf("mg"))&&(o+=`&${i}=${n.escape(e[i])}`);return o},this.init=function(t,e,i){i=i||0,t&&e&&(n.instance=n.getPixelInstance(e,t),0>=n.instance.length&&(t={trackDomain:t,trackId:e,eid:!1,pixelSampling:i||0,deactivatePixel:!1},Math&&Math.random&&0!==parseInt(Math.random()*parseInt(i))&&(t.deactivatePixel=!0),n.instance.push(t)))},this.getPositionInterval=function(t){const e="undefined"!=typeof wt_mediaInterval?parseInt(wt_mediaInterval):60;return"0"===t?6e4:10<=parseInt(t)/e?parseInt(t)/e*1e3:1e4},this.checkPositionTime=function(t){if(null===(t=n.mediaSessions[t]).posTime)return t.posTime=(new Date).getTime(),!0;const e=(new Date).getTime();return!(e-t.posTime<t.posInterval||(t.posTime=e,0))},this.checkMediaRequest=function(t,e,i){if(!n.ignoreDuplicatedRequest)return!0;if(e=`${e}_${i}`,void 0===(t=n.mediaSessions[t]).sendMediaRequest[e])t.sendMediaRequest[e]=(new Date).getTime();else{if((i=(new Date).getTime())-t.sendMediaRequest[e]<=n.ignoreDuplicatedRequestTimeout)return t.sendMediaRequest[e]=i,!1;t.sendMediaRequest[e]=i}return!0},this.initializeMediaSession=function(t,e,i){"init"===i&&void 0!==n.mediaSessions[t]&&delete n.mediaSessions[t],void 0===n.mediaSessions[t]&&(n.mediaSessions[t]={posInterval:n.getPositionInterval(e),posTime:null,maxMediaRequests:"undefined"!=typeof wt_maxMediaRequests?wt_maxMediaRequests:n.maxMediaRequests,sendMediaRequest:{}},n.ignoreDuplicatedRequest="undefined"==typeof wt_ignoreDuplicatedRequest||wt_ignoreDuplicatedRequest,n.ignoreDuplicatedRequestTimeout="undefined"!=typeof wt_ignoreDuplicatedRequestTimeout?parseInt(wt_ignoreDuplicatedRequestTimeout):3e3)},this.sendinfo_media=function(e,i,r,o,s,a,c,l){if(e&&(0>=n.instance.length&&("object"==typeof webtrekk&&webtrekk.trackDomain&&webtrekk.trackId?n.init(webtrekk.trackDomain,webtrekk.trackId):n.instance=n.getAllPixelInstances()),0<n.instance.length)){o&&!isNaN(parseInt(o))||(o="0");let u="init"===i||"play"===i,d="";if(a=`&bw=${a||""}&vol=${c||""}`,a+=`&mut=${l||""}`,a+=`&pu=${n.escape(t.document.location.href.split("#")[0])}`,s)if("string"==typeof s){for(d=s.split(";"),s={},l=0;l<d.length;l++)2<=(c=d[l].split("=")).length&&(s[c[0]]=c[1]);d=n.getMediaCategory(u,s)}else"object"==typeof s&&(d=n.getMediaCategory(u,s));if(n.initializeMediaSession(e,o,i),!("pos"===i&&!n.checkPositionTime(e)||"pos"!==i&&!n.checkMediaRequest(e,i,r)||0>=n.mediaSessions[e].maxMediaRequests&&"eof"!==i&&"stop"!==i))for(n.mediaSessions[e].maxMediaRequests--,"eof"!==i&&"stop"!==i||delete n.mediaSessions[e],u=0;u<n.instance.length;u++)(s=n.instance[u]).deactivatePixel||(l=`st,1,${n.baseparams()}&mi=${n.escape(e)}&mk=${n.escape(i)}&mt1=${r}&mt2=${o}`,s.eid&&(l+=`&eid=${s.eid}`),l+=d,l+=a,n.quicksend(s.trackDomain,s.trackId,l))}},this.quicksend=function(i,r,o){var s=`${s="https:"==location.protocol?"https:":"http:"}//${i}/${r}/wt?p=${n.mediaStVersion},${o}`;if((i={}).Image="function"!=typeof t.Image?function(){return e.createElement("img")}:t.Image,void 0===a)var a=[];a[r=a.length]=new i.Image,a[r].addEventListener("load",(function(){return!1})),a[r].src=s},this.getBrowserHeight=function(){let n=0;try{n=t.innerHeight}catch(t){}if(!n)try{n=e.documentElement.clientHeight}catch(t){}if(!n)try{n=e.body.clientHeight}catch(t){}return void 0===n&&(n=-1),n},this.getBrowserWidth=function(){let n=0;try{n=t.innerWidth}catch(t){}if(!n)try{n=e.documentElement.clientWidth}catch(t){}if(!n)try{n=e.body.clientWidth}catch(t){}return void 0===n&&(n=-1),n},this.baseparams=function(){var t=(t=`${t=(t=`${t=`${screen.width}x${screen.height},`}${"Netscape"!=navigator.appName?screen.colorDepth:screen.pixelDepth},`)+(navigator.cookieEnabled||navigator.cookieEnabled&&-1!=e.cookie.indexOf("=")?"1,":"0,")}${(new Date).getTime()},`)+"1",i=n.getBrowserHeight(),r=n.getBrowserWidth();return i&&i>screen.height&&(i=screen.height),r&&r>screen.width&&(r=screen.width),`${t},${r}x${i},`+(navigator.javaEnabled()?"1":"0")},t.wt_init_media=n.init,t.wt_sendinfo_media=n.sendinfo_media};void 0===t.webtrekkMediaTracking&&t.webtrekkMediaTracking instanceof n||(t.webtrekkMediaTracking=new n)}(window,document)}},337:t=>{t.exports=function(){!function(t,e,n,i){if(t.wts=t.wts||[],-1===e.cookie.indexOf("wt_r=1")){const r=e.getElementsByTagName(n)[0];(n=e.createElement(n)).async=!0,n.addEventListener("load",(function(){if(void 0!==t.wt_r&&!isNaN(t.wt_r)){const n=new Date,i=n.getTime()+1e3*parseInt(t.wt_r);n.setTime(i),e.cookie=`wt_r=1;path=/;expires=${n.toUTCString()}`}})),n.addEventListener("error",(function(){void 0!==t.wt_mcp_hide&&"function"==typeof t.wt_mcp_hide.show&&(t.wt_mcp_hide.show(),t.wt_mcp_hide.show=function(){})})),n.src=`//${function(e){let n="";if(e.customDomain&&e.customPath?n=`${e.customDomain}/${e.customPath}`:e.tiDomain&&e.tiId&&(n=`${e.tiDomain}/resp/api/get/${e.tiId}?url=${encodeURIComponent(t.location.href)}&v=5`),e.option)for(const t in e.option)n+=`&${t}=${encodeURIComponent(e.option[t])}`;return n}(i)}`,r.parentNode.insertBefore(n,r)}}(window,document,"script",_tiConfig)}},8570:(t,e,n)=>{function i(t){return t.replace("CURRENT_TIMESTAMP",(new Date).getTime().toString()).replace("RANDOM",Math.random().toString())}n.d(e,{Z:()=>i})},458:(t,e,n)=>{function i(t={}){const e=new FormData;for(const n in t)e.append(n,t[n]);return e}n.d(e,{k:()=>i})},4152:(t,e,n)=>{n.d(e,{$Z:()=>S,B9:()=>w,Cd:()=>c,Cp:()=>_,H0:()=>d,H5:()=>j,JG:()=>I,Pb:()=>E,Q5:()=>C,Rh:()=>U,Tw:()=>l,Vs:()=>i.V,WY:()=>R,Wb:()=>y,aV:()=>$,az:()=>f,d9:()=>x,dS:()=>m,h2:()=>u,iD:()=>p,ib:()=>g,jO:()=>P,ki:()=>r.k,nQ:()=>O,nh:()=>h,nq:()=>A,p3:()=>D,pn:()=>k,uR:()=>b,uX:()=>M,vl:()=>L,wm:()=>T});var i=n(8132),r=n(458),o=n(2483),s=n(8570);function a(...t){return(0,o.Z)("Utils")(...t)}function c(t){(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?t():document.addEventListener("DOMContentLoaded",(()=>{t()}))}function l(t){return[...new Set(t)]}function u(){return["localhost","127.0.0.1","0.0.0.0",".dave.",".staging."].some((t=>window.location.hostname.includes(t)))}function d(){return["www.heise.de","wwwtest.heise.de"].includes(window.location.hostname)}function h(){return"dfptest.heise.de"===window.location.hostname}function g(t){let e;window.addEventListener("resize",(()=>{window.clearTimeout(e),e=window.setTimeout(t,500)}))}function p(t,e,n){window.customElements.define(t,e,n)}function f(t,e={},n=[]){Array.isArray(n)||(n=[n]);const i=document.createElement(t);return Object.keys(e).forEach((t=>{i.setAttribute(t,e[t])})),n.forEach((t=>{i.classList.add(t)})),i}function m(t){return function(t){const e=document.createElement("div");return e.innerHTML=t.trim(),e.childNodes}(t)[0]}function y(t){a("Appending style sheet:",t),document.head.querySelector(`link[href="${t}"]`)||document.head.append(m(`<link rel="stylesheet" type="text/css" href="${t}" />`))}const v={};async function b(t,e={}){return v[t]=v[t]||new Promise(((n,i)=>{if(function(t){return document.querySelectorAll(`script[src="${t}"]`).length>0}(t))return void n();a("Loading script",t,e);const r=(0,s.Z)(t);let o=document.createElement("script");o.src=r,Object.keys(e).forEach((t=>{o.setAttribute(t,e[t])})),o.addEventListener("load",o.onreadystatechange=(t,i)=>{(i||!o.readyState||/loaded|complete/.test(o.readyState))&&(o.onload=o.onreadystatechange=null,o=void 0,i||(a("Loaded script:",r,e),n()))}),o.addEventListener("error",i),document.querySelector("head")?.append(o)})),v[t]}function w(){return f("button",{"aria-label":"Close",type:"button"},"close")}function _(t){t.setAttribute("hidden","")}function S(t){t.removeAttribute("hidden")}function k(t){const e=t.offsetParent;return!t.hasAttribute("hidden")&&null!==e&&e!==t.ownerDocument}function A(t){return t.offsetHeight}function E(t){const e=window.getComputedStyle(t);return[t.clientHeight||t.offsetHeight,parseInt(e.marginTop,10),parseInt(e.marginBottom,10),parseInt(e.borderTopWidth,10),parseInt(e.borderBottomWidth,10)].reduce(((t,e)=>t+e),0)}function C(t){const e=E(t),n=window.innerHeight,i=t.getBoundingClientRect(),r=i.top,o=i.bottom;return Math.max(0,r>0?Math.min(e,n-r):o<n&&o||n)}function I(t,e={}){const n=function(t){const e=new URLSearchParams;return Object.keys(t).sort().forEach((n=>e.set(n,t[n]))),e.toString()}(e);if(!n)return t;const i=t.includes("?")?"&":"?";return`${t}${i}${n}`}function P(t){return t[Math.floor(Math.random()*t.length)]}function T(t="a-",e=1,n=1e3){return e=Math.ceil(e),n=Math.floor(n),`${t}${Math.floor(Math.random()*(n-e))}${e}`}function O(t=[]){const e=new URL(window.location.href);a("URL to remove params from:",e),a("params to remove:",t),t.forEach((t=>e.searchParams.delete(t))),window.history.replaceState({},document.title,e.toString())}function R(t,e={},n={}){return Object.keys(e).forEach((n=>{t.searchParams.set(n,e[n])})),window.fetch(t.href,{credentials:"same-origin",...n})}function x(t){return JSON.parse(JSON.stringify(t))}function M(t){window.location.href=t}function j(){window.location.reload()}function L(t=window.location.href){"string"==typeof t&&(t=new URL(t));const e={};return t.searchParams.forEach(((t,n)=>{e[n]=t})),e}function U(t,e){return Object.fromEntries(Object.keys(t).map((n=>[`${e}${n}`,t[n]])))}function D(t){switch(typeof t){case t:return t;case"string":return parseInt(t,10);default:return}}function $(t){const e=document.createElement("textarea");return e.innerHTML=t,e.value}},8132:(t,e,n)=>{function i(t,e){let n;const i=new Promise(((e,i)=>{n=setTimeout((()=>{i(new Error("Timeout"))}),t)}));return Promise.race([e,i]).finally((()=>{clearTimeout(n)}))}n.d(e,{V:()=>i})},5906:(t,e,n)=>{n.r(e),n(2315),n(2597),n(7453),n(4297),n(2219),n(8020),n(8346),n(9326),window.WebComponents=window.WebComponents||{},window.WebComponents.ready=!0,document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))},7453:()=>{window.Element.prototype.matches||(window.Element.prototype.matches=window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector),window.Element.prototype.closest||(window.Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(this))return null;do{if(e.matches(t))return e;e=e.parentElement}while(null!==e);return null})},4297:()=>{!function(){if("function"==typeof window.CustomEvent)return!1;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}t.prototype=window.Event.prototype,window.CustomEvent=t}()},2219:()=>{[window.Element.prototype,window.CharacterData.prototype,window.DocumentType.prototype].forEach((function(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.remove()}})}))},8020:()=>{[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach((function(t){t.hasOwnProperty("append")||Object.defineProperty(t,"append",{configurable:!0,enumerable:!0,writable:!0,value:function(){const t=Array.prototype.slice.call(arguments),e=document.createDocumentFragment();t.forEach((function(t){const n=t instanceof Node;e.append(n?t:document.createTextNode(String(t)))})),this.append(e)}})}))},8346:()=>{function t(t){const e=this.parentNode;let n=arguments.length;const i=+(e&&"object"==typeof t);if(e){for(;n-- >i;)e&&"object"!=typeof arguments[n]&&(arguments[n]=document.createTextNode(arguments[n])),e||!arguments[n].parentNode?e.insertBefore(this.previousSibling,arguments[n]):arguments[n].remove();i&&e.replaceChild(t,this)}}window.Element.prototype.replaceWith||(window.Element.prototype.replaceWith=t),window.CharacterData.prototype.replaceWith||(window.CharacterData.prototype.replaceWith=t),window.DocumentType.prototype.replaceWith||(window.CharacterData.prototype.replaceWith=t)},9326:()=>{Element.prototype.toggleAttribute||(Element.prototype.toggleAttribute=function(t,e){return void 0!==e&&(e=!!e),this.hasAttribute(t)?!!e||(this.removeAttribute(t),!1):!1!==e&&(this.setAttribute(t,""),!0)})}},s={};function a(t){var e=s[t];if(void 0!==e)return e.exports;var n=s[t]={exports:{}};return o[t].call(n.exports,n,n.exports,a),n.exports}a.m=o,t=[],a.O=(e,n,i,r)=>{if(!n){var o=1/0;for(u=0;u<t.length;u++){for(var[n,i,r]=t[u],s=!0,c=0;c<n.length;c++)(!1&r||o>=r)&&Object.keys(a.O).every((t=>a.O[t](n[c])))?n.splice(c--,1):(s=!1,r<o&&(o=r));if(s){t.splice(u--,1);var l=i();void 0!==l&&(e=l)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[n,i,r]},a.F={},a.E=t=>{Object.keys(a.F).map((e=>{a.F[e](t)}))},a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},n=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,a.t=function(t,i){if(1&i&&(t=this(t)),8&i)return t;if("object"==typeof t&&t){if(4&i&&t.__esModule)return t;if(16&i&&"function"==typeof t.then)return t}var r=Object.create(null);a.r(r);var o={};e=e||[null,n({}),n([]),n(n)];for(var s=2&i&&t;"object"==typeof s&&!~e.indexOf(s);s=n(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>t[e]));return o.default=()=>t,a.d(r,o),r},a.d=(t,e)=>{for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.f={},a.e=t=>Promise.all(Object.keys(a.f).reduce(((e,n)=>(a.f[n](t,e),e)),[])),a.u=t=>"js/"+({121:"gallery",198:"embetty",422:"prismjs",598:"prebid"}[t]||t)+"."+{14:"89aad6",94:"6f1936",110:"180376",121:"817fd6",133:"ffbd2e",198:"bde696",422:"327aba",440:"85d079",587:"f5706c",598:"b4b497",938:"f4f636"}[t]+".ltc.js",a.miniCssF=t=>"css/"+(422===t?"prismjs":t)+".css",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i={},r="akwa:",a.l=(t,e,n,o)=>{if(i[t])i[t].push(e);else{var s,c;if(void 0!==n)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==t||d.getAttribute("data-webpack")==r+n){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",r+n),s.src=t),i[t]=[e];var h=(e,n)=>{s.onerror=s.onload=null,clearTimeout(g);var r=i[t];if(delete i[t],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((t=>t(n))),e)return e(n)},g=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),c&&document.head.appendChild(s)}},a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.p="/assets/akwa/v24/",(()=>{if("undefined"!=typeof document){var t={808:0,110:0};a.f.miniCss=(e,n)=>{t[e]?n.push(t[e]):0!==t[e]&&{14:1,110:1,422:1,440:1}[e]&&n.push(t[e]=(t=>new Promise(((e,n)=>{var i=a.miniCssF(t),r=a.p+i;if(((t,e)=>{for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var r=(s=n[i]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(r===t||r===e))return s}var o=document.getElementsByTagName("style");for(i=0;i<o.length;i++){var s;if((r=(s=o[i]).getAttribute("data-href"))===t||r===e)return s}})(i,r))return e();((t,e,n,i,r)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=n=>{if(o.onerror=o.onload=null,"load"===n.type)i();else{var s=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.href||e,c=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=a,o.parentNode.removeChild(o),r(c)}},o.href=e,document.head.appendChild(o)})(t,r,0,e,n)})))(e).then((()=>{t[e]=0}),(n=>{throw delete t[e],n})))}}})(),(()=>{var t={808:0,110:0};a.f.j=(e,n)=>{var i=a.o(t,e)?t[e]:void 0;if(0!==i)if(i)n.push(i[2]);else if(14!=e){var r=new Promise(((n,r)=>i=t[e]=[n,r]));n.push(i[2]=r);var o=a.p+a.u(e),s=new Error;a.l(o,(n=>{if(a.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",s.name="ChunkLoadError",s.type=r,s.request=o,i[1](s)}}),"chunk-"+e,e)}else t[e]=0},a.F.j=e=>{if((!a.o(t,e)||void 0===t[e])&&14!=e){t[e]=null;var n=document.createElement("link");a.nc&&n.setAttribute("nonce",a.nc),n.rel="prefetch",n.as="script",n.href=a.p+a.u(e),document.head.appendChild(n)}},a.O.j=e=>0===t[e];var e=(e,n)=>{var i,r,[o,s,c]=n,l=0;if(o.some((e=>0!==t[e]))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(c)var u=c(a)}for(e&&e(n);l<o.length;l++)r=o[l],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(u)},n=self.webpackChunkakwa=self.webpackChunkakwa||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),a.O(0,[808],(()=>{[94,598,133,422].map(a.E)}),5);var c={};(()=>{try{window.performance.mark("testStart")}catch(t){}a(5906);try{window.performance.mark("testEnd"),window.performance.measure("Polyfills","testStart","testEnd")}catch(t){}try{const t=window.performance.getEntriesByName("Polyfills")[0].duration.toFixed(0);console.log(`Performance Polyfills [ms]: ${t}`)}catch(t){console.log("no measurement for polyfill performance availabe ...",t)}})(),(()=>{var t={};a.r(t),a.d(t,{fixed:()=>oe,responsive:()=>se}),a(8134);var e,n=a(4143);!function(t){t[t.Transient=0]="Transient",t[t.Singleton=1]="Singleton",t[t.ResolutionScoped=2]="ResolutionScoped",t[t.ContainerScoped=3]="ContainerScoped"}(e||(e={}));const i=e,r="injectionTokens";function o(t){const e=Reflect.getMetadata("design:paramtypes",t)||[],n=Reflect.getOwnMetadata(r,t)||{};return Object.keys(n).forEach((t=>{e[+t]=n[t]})),e}function s(t){return!!t.useToken}function c(t){return null!=t.useValue}function l(t){return!!t.useFactory}class u{constructor(t){this.wrap=t,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}createProxy(t){let e,n=!1;return new Proxy({},this.createHandler((()=>(n||(e=t(this.wrap()),n=!0),e))))}createHandler(t){const e={};return this.reflectMethods.forEach((n=>{e[n]=(...e)=>(e[0]=t(),(0,Reflect[n])(...e))})),e}}function d(t){return"string"==typeof t||"symbol"==typeof t}function h(t){return"object"==typeof t&&"token"in t&&"multiple"in t}function g(t){return"object"==typeof t&&"token"in t&&"transform"in t}function p(t){return!!t.useClass}class f{constructor(){this._registryMap=new Map}entries(){return this._registryMap.entries()}getAll(t){return this.ensure(t),this._registryMap.get(t)}get(t){this.ensure(t);const e=this._registryMap.get(t);return e[e.length-1]||null}set(t,e){this.ensure(t),this._registryMap.get(t).push(e)}setAll(t,e){this._registryMap.set(t,e)}has(t){return this.ensure(t),this._registryMap.get(t).length>0}clear(){this._registryMap.clear()}ensure(t){this._registryMap.has(t)||this._registryMap.set(t,[])}}class m extends f{}class y{constructor(){this.scopedResolutions=new Map}}function v(t,e,n){const[,i=null]=t.toString().match(/constructor\(([\w, ]+)\)/)||[],r=function(t,e){return null===t?`at position #${e}`:`"${t.split(",")[e].trim()}" at position #${e}`}(i,e);return function(t,e,n="    "){return[t,...e.message.split("\n").map((t=>n+t))].join("\n")}(`Cannot inject the dependency ${r} of "${t.name}" constructor. Reason:`,n)}class b extends f{}class w extends f{}class _{constructor(){this.preResolution=new b,this.postResolution=new w}}const S=new Map;class k{constructor(t){this.parent=t,this._registry=new m,this.interceptors=new _,this.disposed=!1,this.disposables=new Set}register(t,e,n={lifecycle:i.Transient}){let r;if(this.ensureNotDisposed(),r=function(t){return p(t)||c(t)||s(t)||l(t)}(e)?e:{useClass:e},s(r)){const e=[t];let n=r;for(;null!=n;){const t=n.useToken;if(e.includes(t))throw new Error(`Token registration cycle detected! ${[...e,t].join(" -> ")}`);e.push(t);const i=this._registry.get(t);n=i&&s(i.provider)?i.provider:null}}if((n.lifecycle===i.Singleton||n.lifecycle==i.ContainerScoped||n.lifecycle==i.ResolutionScoped)&&(c(r)||l(r)))throw new Error(`Cannot use lifecycle "${i[n.lifecycle]}" with ValueProviders or FactoryProviders`);return this._registry.set(t,{provider:r,options:n}),this}registerType(t,e){return this.ensureNotDisposed(),d(e)?this.register(t,{useToken:e}):this.register(t,{useClass:e})}registerInstance(t,e){return this.ensureNotDisposed(),this.register(t,{useValue:e})}registerSingleton(t,e){if(this.ensureNotDisposed(),d(t)){if(d(e))return this.register(t,{useToken:e},{lifecycle:i.Singleton});if(e)return this.register(t,{useClass:e},{lifecycle:i.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}let n=t;return e&&!d(e)&&(n=e),this.register(t,{useClass:n},{lifecycle:i.Singleton})}resolve(t,e=new y){this.ensureNotDisposed();const n=this.getRegistration(t);if(!n&&d(t))throw new Error(`Attempted to resolve unregistered dependency token: "${t.toString()}"`);if(this.executePreResolutionInterceptor(t,"Single"),n){const i=this.resolveRegistration(n,e);return this.executePostResolutionInterceptor(t,i,"Single"),i}if(function(t){return"function"==typeof t||t instanceof u}(t)){const n=this.construct(t,e);return this.executePostResolutionInterceptor(t,n,"Single"),n}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")}executePreResolutionInterceptor(t,e){if(this.interceptors.preResolution.has(t)){const n=[];for(const i of this.interceptors.preResolution.getAll(t))"Once"!=i.options.frequency&&n.push(i),i.callback(t,e);this.interceptors.preResolution.setAll(t,n)}}executePostResolutionInterceptor(t,e,n){if(this.interceptors.postResolution.has(t)){const i=[];for(const r of this.interceptors.postResolution.getAll(t))"Once"!=r.options.frequency&&i.push(r),r.callback(t,e,n);this.interceptors.postResolution.setAll(t,i)}}resolveRegistration(t,e){if(this.ensureNotDisposed(),t.options.lifecycle===i.ResolutionScoped&&e.scopedResolutions.has(t))return e.scopedResolutions.get(t);const n=t.options.lifecycle===i.Singleton,r=t.options.lifecycle===i.ContainerScoped,o=n||r;let a;return a=c(t.provider)?t.provider.useValue:s(t.provider)?o?t.instance||(t.instance=this.resolve(t.provider.useToken,e)):this.resolve(t.provider.useToken,e):p(t.provider)?o?t.instance||(t.instance=this.construct(t.provider.useClass,e)):this.construct(t.provider.useClass,e):l(t.provider)?t.provider.useFactory(this):this.construct(t.provider,e),t.options.lifecycle===i.ResolutionScoped&&e.scopedResolutions.set(t,a),a}resolveAll(t,e=new y){this.ensureNotDisposed();const n=this.getAllRegistrations(t);if(!n&&d(t))throw new Error(`Attempted to resolve unregistered dependency token: "${t.toString()}"`);if(this.executePreResolutionInterceptor(t,"All"),n){const i=n.map((t=>this.resolveRegistration(t,e)));return this.executePostResolutionInterceptor(t,i,"All"),i}const i=[this.construct(t,e)];return this.executePostResolutionInterceptor(t,i,"All"),i}isRegistered(t,e=!1){return this.ensureNotDisposed(),this._registry.has(t)||e&&(this.parent||!1)&&this.parent.isRegistered(t,!0)}reset(){this.ensureNotDisposed(),this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()}clearInstances(){this.ensureNotDisposed();for(const[t,e]of this._registry.entries())this._registry.setAll(t,e.filter((t=>!c(t.provider))).map((t=>(t.instance=void 0,t))))}createChildContainer(){this.ensureNotDisposed();const t=new k(this);for(const[e,n]of this._registry.entries())n.some((({options:t})=>t.lifecycle===i.ContainerScoped))&&t._registry.setAll(e,n.map((t=>t.options.lifecycle===i.ContainerScoped?{provider:t.provider,options:t.options}:t)));return t}beforeResolution(t,e,n={frequency:"Always"}){this.interceptors.preResolution.set(t,{callback:e,options:n})}afterResolution(t,e,n={frequency:"Always"}){this.interceptors.postResolution.set(t,{callback:e,options:n})}dispose(){return(0,n.__awaiter)(this,void 0,void 0,(function*(){this.disposed=!0;const t=[];this.disposables.forEach((e=>{const n=e.dispose();n&&t.push(n)})),yield Promise.all(t)}))}getRegistration(t){return this.isRegistered(t)?this._registry.get(t):this.parent?this.parent.getRegistration(t):null}getAllRegistrations(t){return this.isRegistered(t)?this._registry.getAll(t):this.parent?this.parent.getAllRegistrations(t):null}construct(t,e){if(t instanceof u)return t.createProxy((t=>this.resolve(t,e)));const n=(()=>{const n=S.get(t);if(!n||0===n.length){if(0===t.length)return new t;throw new Error(`TypeInfo not known for "${t.name}"`)}const i=n.map(this.resolveParams(e,t));return new t(...i)})();var i;return"function"!=typeof(i=n).dispose||i.dispose.length>0||this.disposables.add(n),n}resolveParams(t,e){return(n,i)=>{try{return h(n)?g(n)?n.multiple?this.resolve(n.transform).transform(this.resolveAll(n.token),...n.transformArgs):this.resolve(n.transform).transform(this.resolve(n.token,t),...n.transformArgs):n.multiple?this.resolveAll(n.token):this.resolve(n.token,t):g(n)?this.resolve(n.transform,t).transform(this.resolve(n.token,t),...n.transformArgs):this.resolve(n,t)}catch(t){throw new Error(v(e,i,t))}}}ensureNotDisposed(){if(this.disposed)throw new Error("This container has been disposed, you cannot interact with a disposed container")}}const A=new k,E=function(){return function(t){const e=o(t);return class extends t{constructor(...n){super(...n.concat(e.slice(n.length).map(((e,i)=>{try{return h(e)?g(e)?e.multiple?A.resolve(e.transform).transform(A.resolveAll(e.token),...e.transformArgs):A.resolve(e.transform).transform(A.resolve(e.token),...e.transformArgs):e.multiple?A.resolveAll(e.token):A.resolve(e.token):g(e)?A.resolve(e.transform).transform(A.resolve(e.token),...e.transformArgs):A.resolve(e)}catch(e){const r=i+n.length;throw new Error(v(t,r,e))}}))))}}}},C=function(t){return e=t,function(t,n,i){const o=Reflect.getOwnMetadata(r,t)||{};o[i]=e,Reflect.defineMetadata(r,o,t)};var e},I=function(){return function(t){S.set(t,o(t))}},P=function(){return function(t){I()(t),A.registerSingleton(t)}};if("undefined"==typeof Reflect||!Reflect.getMetadata)throw new Error("tsyringe requires a reflect polyfill. Please add 'import \"reflect-metadata\"' to the top of your entry point.");var T,O=a(4485),R=a(5194);!function(t){t.infonline="infonline",t.upscore="upscore",t.webtrekk="webtrekk",t["infonline-base"]="infonline-base"}(T||(T={}));var x=a(2483),M=a(4152),j=a(9553),L=a.n(j);class U{constructor(t){this.topic=t,this.debug=(0,x.Z)(t)}log(...t){this.debug(...t)}}const D=JSON.parse('{"ad":{"defaultPreloadDistance":1000,"defaultReloadTime":30000,"gpt":{"scriptUrl":"https://securepubads.g.doubleclick.net/tag/js/gpt.js"},"prebid":{"enabled":true,"requestTimeout":1000,"failsafeTimeout":2500}},"consentManagement":{"instanceId":"4Ms5x38k","scriptUrl":"https://cmp.heise.de/unified/wrapperMessagingWithoutDetection.js","eventName":"cmp-heise","initializedEventName":"consent_status","consentObjectCheckInterval":30,"consentObjectCheckTimeout":8000,"ucStatusToken":"uc_user_interaction"},"cam":{"enabled":false,"realtimeEngineUrl":"https://rtc.dymatrix.cloud/rtc/8j1IaSr-rZkjCtjabiOgL_1qeecuJpZbqL-hR1wFaZw"},"medianest":{"retargetingUrl":"https://www.rvty.net/ads/ReAsync.js","trackingUrl":"https://www.rvty.net/ads/Track.js","globalTrackingId":"5c822fcb3db30","retargetingIds":{"ho":60253,"ct":58927,"ix":60256,"hplusShop":58930}},"plenigo":{"eventNames":{"statistic":"plenigo.Statistic","purchaseSuccess":"plenigo.PurchaseSuccess"},"returnUrl":"https://www.heise.de/plus/","scriptUrlStaging":"https://static.plenigo-stage.com/static_resources/javascript/MNLT8MPO5LSP49MBLRUK/plenigo_sdk.min.js","scriptUrl":"https://static.plenigo.com/static_resources/javascript/uKsVXtClm8qbFVR7inTv/plenigo_sdk.min.js"},"upscore":{"scriptUrl":"https://files.upscore.com/async/upScore.js","config":{"config":{"domain":"heise.de"},"data":{"author":"die Redaktionen"}},"recommendations":{"scriptUrl":"https://cdn.thenewsbox.net/reco/L76LO4XZ57"}},"googleNewsShowcase":{"iframeUrl":"/sso/login/google/widget","gsiScript":"https://accounts.google.com/gsi/client","swgScript":"https://news.google.com/swg/js/v1/swg.js","swgGaaScript":"https://news.google.com/swg/js/v1/swg-gaa.js","googleApiClientId":"353373094206-hrvg2qnlkimh8l4bga7hq2psoce7si7u.apps.googleusercontent.com","allowedReferrers":["www.heise.de","www.heise.de.seri01.dave.heise.de","www.heise.de.stko02.dave.heise.de"]},"pur":{"checkoutUrl":"/api/accountservice/subscribe/pur","affiliateId":"17957"},"video":{"ad":{"numRedirects":10,"tag":"https://pubads.g.doubleclick.net/gampad/ads?url=[referrer_url]&description_url=[description_url]&env=vp&impl=s&correlator=[timestamp]&tfcd=0&npa=0&gdfp_req=1&output=vast&sz=640x480&unviewed_position_start=1&ad_rule=1","targeting":{},"unit":"/6514/www.heise.de/video","testIdentifier":"gamtest","testParams":"test1,test2,test3"},"partnerId":2238431,"uiConfId":43422901,"scriptUrl":"https://cdnapisec.kaltura.com/p/2238431/embedPlaykitJs/uiconf_id/43422901"},"webtrekk":{"readyEventName":"webtrekk.ready"},"login":{"url":"/sso/login/urls"},"infonlineBase":{"defaultDomainServiceName":"data-fb7f8b3ae8.heise.de"},"userTopic":{"url":"https://www.heise.de/api/user-topic/"},"clickPerformance":{"baseUrl":"https://www.heise.de/api/click-performance/"}}');var $;const N="akwaConfig-v2";let q=$=class{constructor(){this.logger=new U($.name)}get _domConfig(){const t=document.querySelectorAll("[data-akwa-config]");return 0===t.length?{}:L().all([...t].map((t=>JSON.parse(t.innerHTML))))}get _storageConfig(){const t=window.localStorage.getItem(N);if(!t)return{};try{return JSON.parse(t)}catch(t){return this.logger.log("Failed to parse config: ",t),{}}}_getConfig(){return L().all([D,this._domConfig,this._storageConfig])}_saveConfigToLocalStorage(t){window.localStorage.setItem(N,JSON.stringify(t))}get(t,e){return t.split(".").reduce(((t,n)=>t?.[n]??e),this._getConfig())}set(t,e){const n=this._storageConfig;t.split(".").reduce(((n,i,r)=>n[i]=t.split(".").length===r+1?e:n[i]||{}),n),this._saveConfigToLocalStorage(n)}delete(t){const e=this._storageConfig;delete e[t],this._saveConfigToLocalStorage(e)}};q=$=(0,n.__decorate)([P()],q);var B=a(150);let F=class{constructor(){this.md=new B.Z}detect(){let t="desktop";const e=window.matchMedia("(max-width: 768px)").matches,n=document.querySelector("html[data-responsive]");return(this.md.isMobile()||e&&n)&&(t="mobile"),t}};var H,z,W;F=(0,n.__decorate)([P()],F),function(t){t.Configure="configure",t.PageView="pageview",t.ThreeP="3p"}(H||(H={}));const V=(0,x.Z)("InfonlineBase");let G=class{constructor(t,e){this.deviceDetection=t,this.configService=e,this.defaultDomainServiceName=this.configService.get("infonlineBase.defaultDomainServiceName")}async load(t){if(V("Load:",t),!t?.vars?.cp)throw new Error("Infonline: Missing `cp` parameter");this.config=t.vars;const e=t.options?.domainServiceName??this.defaultDomainServiceName;await(0,M.uR)(`https://${e}/iomm/latest/bootstrap/stub.js`),await(0,M.uR)(`https://${e}/iomm/latest/manager/base/es6/bundle.js`);const n={st:this.isMobile?"mobheise":"heise",dn:t.vars.dn||e,dg:t.vars.dg,mh:5};V("configure:",n),window.IOMm(H.Configure,n),this.reload({cp:t.vars.cp,co:t.vars.co,pt:t.vars.pt}),this.activateSurvey(!!t.options?.disableSurvey)}get isMobile(){return"mobile"===this.deviceDetection.detect()}activateSurvey(t){}reload(t){const e=t?.cp??this.config?.cp;if(!e)throw new Error("Infonline reload(): Missing `cp` parameter");const n={cp:e,...this.config,...t};V("reload:",n),window.IOMm(H.PageView,n)}};G=(0,n.__decorate)([P(),(0,n.__metadata)("design:paramtypes",["function"==typeof(z=void 0!==F&&F)?z:Object,"function"==typeof(W=void 0!==q&&q)?W:Object])],G);class J extends Error{static isHttpError(t){return t.hasOwnProperty("response")}}let K=class{async get(t,e={}){const n=await window.fetch(t,{credentials:"same-origin",...e});if(n.status>=400){const e=new J(`HTTP request failed with ${n.status} for ${t}.`);throw e.response=n,e}return n}};var Z,Y;K=(0,n.__decorate)([I()],K);const Q=(0,x.Z)("login-status"),X="heiseLogin-v2";let tt=class{constructor(t,e){this.configService=t,this.http=e}get _localStorageStatus(){return JSON.parse(window.localStorage.getItem(X)||"{}")}get hlsUrl(){const t=this.configService.get("login.url");return new URL(t,window.location.origin)}get status(){return this._status=this._status||new Promise((async(t,e)=>{if(this.configService.get("disableLoginService"))return void t({});const n=await(0,M.WY)(this.hlsUrl,void 0,{withCredentials:!0});if(n.status>=400)return void e(new Error("login api error"));const i=await n.json();Q("status:",i),window.localStorage.setItem(X,JSON.stringify(i)),t(i)})),this._status}async isLoggedIn(){const t=await this.status;return 1===t.sso_logged_in||1===t.logged_in}isCachedLoggedIn(){const t=this._localStorageStatus;return 1===t?.sso_logged_in||1===t?.logged_in}async getEmail(){return(await this.status).user_email}async getRegistrationProvider(){return(await this.status).registration_provider??void 0}getCachedRegistrationProvider(){return this._localStorageStatus?.registration_provider??void 0}async getUserHash(){return(await this.status).user_hash}getCachedUserHash(){return this._localStorageStatus?.user_hash}async getURLs(){return(await this.status).urls}async getUserId(){return(await this.status).user_id??void 0}async loginWithGoogle(t){const e=new FormData;e.append("google_token",t);const n=await this.http.get("/sso/login/google/login",{method:"POST",body:e,credentials:"include"});return delete this._status,n.json()}};var et;tt=(0,n.__decorate)([I(),P(),(0,n.__metadata)("design:paramtypes",["function"==typeof(Z=void 0!==q&&q)?Z:Object,"function"==typeof(Y=void 0!==K&&K)?Y:Object])],tt);const nt=(0,x.Z)("paid-content lib");let it=class{constructor(t){this.login=t}get pageURL(){return new URL(window.location.href)}getURLFor(t={},e=this.pageURL){const n=new URL(e.toString());return Object.entries(t).forEach((([t,e])=>{n.searchParams.set(t,e)})),n}getStatus(){return this.status=this.status||new Promise((async(t,e)=>{const n=await this._request("/access-rights");if(n.status>=400)return void e(new Error("paid content api error"));const i=await n.json();nt("status:",i),t(i)})),this.status}async getStatusForAccessType(t="heiseplus"){return(await this.getStatus()).items?.find((e=>e.id===t))}getCachedAccessProvider(t="heiseplus"){this._cacheStatus();const e=this._getCachedStatus();if(!e||0===Object.keys(e).length)return;const n=e.items?.find((e=>e.id===t));return n?.type}_getCachedStatus(){return JSON.parse(window.localStorage.getItem("paidContentStatus"))}async _cacheStatus(){if(await this.login.isLoggedIn())try{const t=await this.getStatus();window.localStorage.setItem("paidContentStatus",JSON.stringify(t))}catch{window.localStorage.removeItem("paidContentStatus")}}async hasAccess(){return!!await this.login.isLoggedIn()&&void 0!==await this.getStatusForAccessType("heiseplus")}async getPlenigoSession(){const t=await this._request("/sessions",{},{method:"post"});if(!(t.status>=400))return await t.text()}async getIntanShopUrl(t=this.pageURL){const e=await this._request("/shop-url",{return_url:this.getURLFor({intanCheckout:"success"},t),error_url:this.getURLFor({intanCheckout:"error"},t)}),n=await e.json();return new URL(n.shopUrl)}async getPlenigoCheckoutData(){const t=await this._request("/checkout");if(!(t.status>=400))return t.json()}get isSuccessReturnPage(){return this.isPlenigoSuccessReturnPage||this.isIntanSuccessReturnPage}get isPlenigoSuccessReturnPage(){return"success"===this.pageURL.searchParams.get("paymentState")}get isIntanSuccessReturnPage(){return this._isIntanSuccessReturnPage||(this._isIntanSuccessReturnPage="success"===this.pageURL.searchParams.get("intanCheckout")),this._isIntanSuccessReturnPage}get checkoutData(){if(this._checkoutData)return this._checkoutData;const t=JSON.parse(this.pageURL.searchParams.get("orderDetails"));return this._checkoutData={page:"confirm",orderId:this.pageURL.searchParams.get("orderId"),productName:this.pageURL.searchParams.get("productName"),productId:t.items[0].productId},this._checkoutData}getIntanErrorMessage(){const{searchParams:t}=this.pageURL;if(t.has("error_code")&&t.has("error_msg")&&t.has("user_msg"))return t.get("user_msg")}clearIntanErrorMessage(){(0,M.nQ)(["error_code","error_msg","user_msg"])}isReturningFromPayPal(){return this.pageURL.searchParams.has("ba_token")}async _request(t,e={},n={}){const i=new URL(`/api/accountservice/subscriptions${t}`,this.pageURL.origin);return(0,M.WY)(i,e,n)}};var rt,ot;it=(0,n.__decorate)([P(),(0,n.__param)(0,C(tt)),(0,n.__metadata)("design:paramtypes",["function"==typeof(et=void 0!==tt&&tt)?et:Object])],it);let st=class extends R.R{constructor(t,e){super(),this.paidContent=t,this.login=e,this.started=!1,this.logger=new U("paid-content")}async connectedCallback(){if(await super.connectedCallback(),this.started)return;this.started=!0,this.logger.log("active",this);const t=this.paidContent.getIntanErrorMessage();if(t&&await this.login.isLoggedIn()){await a.e(110).then(a.bind(a,3110));const e=(0,M.dS)(`<a-notify type="error">${t}</a-notify>`);this.insertBefore(e,this.firstChild),this.paidContent.clearIntanErrorMessage()}}};st=(0,n.__decorate)([(0,O.J)("a-paid-content"),E(),(0,n.__param)(0,C(it)),(0,n.__param)(1,C(tt)),(0,n.__metadata)("design:paramtypes",["function"==typeof(rt=void 0!==it&&it)?rt:Object,"function"==typeof(ot=void 0!==tt&&tt)?ot:Object])],st);const at={Vimeo:"5eac148d4bfee33e7280d13b",Gravatar:"5eea207fb914d72ebf61126c",Geizhals:"5fcd706b66c7810f7cbbd85b",Cleverpush:"5e77928e9cb08971eb078f60",Upscore:"5f67b818227779433deec6a7",Podigee:"5e717ad49a0b5040d5750815",Youtube:"5e7ac3fae30e7d1bc1ebf5e8",Dymatrix:"5fcd70bfc00f161398c1616f",Kaltura:"5ef9bb3dbcc0cb09c5c1c3a3",Vgwort:"5ef513df0b45880aa11f804d",Tankeguenstig:"5fce46b0af075b269f7b9458",Preisvergleichinternetservices:"5fcd706b66c7810f7cbbd85b",Amazonaffiliates:"5f0c1ccb0cde710e37e8d6c5",Kr3m:"5e717c3a9a0b5040d5750816",Twitch:"5ec85c9cb8e05c4a2002f42e",Datawrapper:"5f96d385a228635d7b29aca1"},ct={Kameleoon:{IabId:820,SpId:"5f48d229b8e05c60a307ad97"},GoogleAdvertisingProduct:{IabId:755,SpId:"5f1aada6b8e05c306c0597d7"},Prebid:{IabId:887,SpId:"5f92a62aa22863685f4daa4c"},TripleLift:{IabId:28,SpId:"5e98e7f0b8e05c1c467daaf0"},Magnite:{IabId:52,SpId:"5e7ced57b8e05c485246cce5"},Xandr:{IabId:32,SpId:"5e7ced57b8e05c4854221bba"},Pubmatic:{IabId:76,SpId:"5eab3d5ab8e05c241a63c5db"},IndexExchange:{IabId:10,SpId:"5e7ced57b8e05c485246ccd8"},Teads:{IabId:132,SpId:"5eab3d5ab8e05c2bbe33f399"},Outbrain:{IabId:164,SpId:"5e7ced57b8e05c485246ccde"},Opinary:{IabId:488,SpId:"5ef5c3a5b8e05c69980eaa5a"},Yoc:{IabId:154,SpId:"5ebee9f5b8e05c43d547d7cf"},Stroer:{IabId:1057,SpId:"61694da9293cdf6512470221"},DoubleVerify:{IabId:126,SpId:"5e37fc3e56a5e6615502f9c7"}};var lt;!function(t){t.CmpUiShown="cmpuishown",t.UserActionComplete="useractioncomplete",t.TcLoaded="tcloaded"}(lt||(lt={}));let ut=class{constructor(){this.configService=A.resolve(q),this.config=this.configService.get("consentManagement"),this.debug=(0,x.Z)("Sourcepoint")}isInDom(){const t=null!==document.querySelector(`script[src='${this.config.scriptUrl}']`);return t?this.debug("Sourcepoint-Script was found in DOM!"):this.debug("Sourcepoint-Script was not found in DOM!"),t}async isActive(){return this._isActive=this._isActive||new Promise((async t=>{if(!this.isInDom())return this.debug("Sourcepoint is not running!"),void t(!1);if(this._tcfApiAndSourcepointAvailable())return this.debug("Sourcepoint is up and running!"),void t(!0);try{await this.waitUntilReady(),t(!0)}catch(e){console.warn(e),t(!1)}})),this._isActive}_tcfApiAndSourcepointAvailable(){return"__tcfapi"in window&&"_sp_"in window}async waitUntilReady(){return new Promise(((t,e)=>{const n=setTimeout((()=>{e(new Error("Timeout: __tcfapi and _sp_ could not be found on window"))}),this.config.consentObjectCheckTimeout),i=setInterval((()=>{this._tcfApiAndSourcepointAvailable()&&(clearInterval(i),clearTimeout(n),t())}),this.config.consentObjectCheckInterval)}))}addEventListener(t,e){window.addEventListener(this.config.eventName,(n=>{n.detail.event===t&&e(n.detail)}))}};ut=(0,n.__decorate)([P()],ut);let dt=class{getConsentStatus(t){return new Promise((e=>{window.__tcfapi("getTCData",2,((n,i)=>{i?e(t.every((t=>!0===n.vendor.consents[t]))):(console.warn(`could not request consent for id ${t.join(",")}`),e(!1))}),t)}))}getCustomConsentStatus(t){return new Promise((e=>{window.__tcfapi("getCustomVendorConsents",2,((n,i)=>{i?e(!!n.consentedVendors.find((e=>e._id===at[t]))):(console.warn(`could not request consent for ${String(t)}`),e(!1))}))}))}getAllGrantsStatus(){return new Promise((t=>{window.__tcfapi("getCustomVendorConsents",2,(function(e,n){if(n){for(const n in e.grants)e.grants[n].vendorGrant||t(!1);t(!0)}t(!1)}))}))}addEventListener(t,e){window.__tcfapi("addEventListener",2,((n,i)=>{i&&n.eventStatus===t&&e(n)}))}postCustomConsent(t=[],e=[],n=[],i){window.__tcfapi("postCustomConsent",2,((t,e)=>{e&&i&&i(t)}),t,e,n)}postRejectAll(t){window.__tcfapi("postRejectAll",2,((e,n)=>{n?t&&t(e):console.error("could not reject consent:",e)}))}};var ht,gt;dt=(0,n.__decorate)([P()],dt);const pt=(0,x.Z)("ConsentManagement"),ft="optIn";let mt=class{constructor(t,e){this.sourcepointService=t,this.tcfService=e,this._requestedConsents={},this.configService=A.resolve(q),this.config=this.configService.get("consentManagement"),this.debugPrinted=!1}get isEnabled(){const t=document.documentElement.hasAttribute("data-consentmanagement");return this.debugPrinted||(pt("Consent management feature is:",t),this.debugPrinted=!0),t}async isCmpProviderActive(){return this.sourcepointService.isActive()}async isConsentGiven(t){return!this.isEnabled||(await this.isCmpProviderActive()?await this.getConsentFromCmpProvider(t):this.getConsentFromLocalStorage(t))}async getConsentFromCmpProvider(t){if(!t)return this.isFullConsentGiven();if(this.isCustomVendor(t))return this.isCustomConsentGiven(t);if(this.isIabVendor(t))return this.isConsentGivenForIabOrAtp([ct[t].IabId],t);throw new Error(`${t} is not a defined vendor`)}getConsentFromLocalStorage(t){return!!t&&this.configService.get(`${ft}.${t}`,!1)}addEventListener(t,e){this.sourcepointService.addEventListener(t,e)}async waitUntilConsentIsGiven(){return this.isEnabled&&await this.isCmpProviderActive()?new Promise((t=>{this.tcfService.addEventListener(lt.TcLoaded,(()=>t()))})):Promise.resolve()}async isConsentGivenForIabOrAtp(t,e){return!this.isEnabled||!!await this.isCmpProviderActive()&&(this._requestedConsents[e]=this._requestedConsents[e]||new Promise((async e=>{let n;try{n=await this.tcfService.getConsentStatus(t)}catch{n=!1}pt(`Consent for id(s) '${t.join(",")}' is:`,n),e(n)})),this._requestedConsents[e])}async isCustomConsentGiven(t){return!this.isEnabled||!!await this.isCmpProviderActive()&&(this._requestedConsents[t]=this._requestedConsents[t]||new Promise((async e=>{let n;if(!(t in at))throw new Error(`${t} is not a custom vendor`);try{n=await this.tcfService.getCustomConsentStatus(t)}catch{n=!1}pt(`Consent '${t}' is:`,n),e(n)})),this._requestedConsents[t])}isIabConsentId(t){return/^\d+$/.test(t)}isIabVendor(t){return t in ct}isCustomVendor(t){return t in at}async setCustomConsent(t,e){this.isEnabled&&(await this.isCmpProviderActive()?this.setCustomConsentToCmpProvider(t):this.setCustomConsentToLocalStorage(t,e))}setCustomConsentToCmpProvider(t){let e;if(!this.isCustomVendor(t))throw this.isIabVendor(t)?new Error("Cannot post consent for IAB vendor"):new Error("Unknown vendor id");e=at[t],this.tcfService.postCustomConsent([e])}setCustomConsentToLocalStorage(t,e){this.configService.set(`${ft}.${t}`,e)}get consentUUID(){return window.document.cookie.split(";").map((t=>t.split("="))).reduce(((t,e)=>(t[decodeURIComponent(e[0].trim())]=decodeURIComponent(e[1].trim()),t)),{}).consentUUID||void 0}async isFullConsentGiven(){return!this.isEnabled||!!await this.isCmpProviderActive()&&this.tcfService.getAllGrantsStatus()}rejectAllConsents(t){return this.tcfService.postRejectAll(t)}};var yt,vt,bt,wt,_t,St,kt;mt=(0,n.__decorate)([P(),(0,n.__param)(0,C(ut)),(0,n.__param)(1,C(dt)),(0,n.__metadata)("design:paramtypes",["function"==typeof(ht=void 0!==ut&&ut)?ht:Object,"function"==typeof(gt=void 0!==dt&&dt)?gt:Object])],mt),function(t){t[t.LoggedOut=0]="LoggedOut",t[t.LoggedIn=1]="LoggedIn",t[t.Subscribed=2]="Subscribed"}(yt||(yt={})),function(t){t[t.Free=0]="Free",t[t.Plus=1]="Plus",t[t.Sponsored=2]="Sponsored"}(vt||(vt={})),function(t){t[t.False=0]="False",t[t.True=1]="True"}(bt||(bt={}));const At=(0,x.Z)("Upscore");let Et=class{constructor(t,e,n,i){this.configService=t,this.login=e,this.paidContent=n,this.consentManagement=i}async load(t){const e=L()(this.configService.get("upscore.config"),t.vars||{});e.data=e.data||{},e.data.user_status=await this.getUserStatus(),At("config:",e),this.initWindowVendorFunction();const n=await this.consentManagement.isCustomConsentGiven("Upscore");t.options?.enableRecommendations&&n&&(await this.initWindowRecommendationFunction(e.data.object_id),At("Recommendations have been loaded")),await(0,M.uR)(this.configService.get("upscore.scriptUrl")),window.upScore(e)}async getUserStatus(){return await this.login.isLoggedIn()?await this.paidContent.hasAccess()?yt.Subscribed:yt.LoggedIn:yt.LoggedOut}initWindowVendorFunction(){window.upScore=window.upScore||function(t){(window.upScore.q=window.upScore.q||[]).push(t)},window.upScore.ls=Date.now()}async initWindowRecommendationFunction(t){window._uprec=window._uprec||function(t){(window._uprec.q=window._uprec.q||[]).push(t)},await(0,M.uR)(this.configService.get("upscore.recommendations.scriptUrl")),window._uprec({data:{object_id:t,user_status:await this.getUserStatus()}})}reload(){}};Et=(0,n.__decorate)([P(),(0,n.__param)(0,C(q)),(0,n.__param)(1,C(tt)),(0,n.__param)(2,C(it)),(0,n.__param)(3,C(mt)),(0,n.__metadata)("design:paramtypes",["function"==typeof(wt=void 0!==q&&q)?wt:Object,"function"==typeof(_t=void 0!==tt&&tt)?_t:Object,"function"==typeof(St=void 0!==it&&it)?St:Object,"function"==typeof(kt=void 0!==mt&&mt)?kt:Object])],Et);const Ct=(0,x.Z)("AdBlockPlus"),It="/assets/akwa/v24/js/px.js";let Pt;async function Tt(){return Pt=Pt||new Promise((async t=>{try{await Promise.all([(0,M.uR)(`${It}?ch=1`),(0,M.uR)(`${It}?ch=2`)]),Ct("is not active"),t(!1)}catch(e){const n=e.target.src.includes("ch=2");Ct(n?"is active":"is not active"),t(n)}})),Pt}class Ot{constructor(){this._events={}}on(t,e){this._events[t]=this._events[t]||[],this._events[t].push(e)}emit(t,e){(this._events[t]||[]).forEach((t=>{t(e)}))}async emitAsync(t,e){for(const n of this._events[t]||[])await n(e)}}var Rt,xt,Mt;const jt=(0,x.Z)("CAM"),Lt="bucketData",Ut="userBuckedFetched";let Dt=class extends Ot{constructor(t,e,n){super(),this.configService=t,this.login=e,this.consentManagement=n,this.userBucketFetched=!1,this.recommendations=[]}async init(t,e){this.config.enabled&&(this.webtrekkEverId=t,this.webtrekkTiConfig=e,this.webtrekkEverId&&await this.hasConsent()&&await this.fetchUserBucket())}async fetchUserBucket(){try{jt("Fetching user bucket ...",this.rteConfig);const t=await(0,M.WY)(new URL(this.config.realtimeEngineUrl),{},{method:"POST",body:JSON.stringify(this.rteConfig)});this.cachedUserBucket=await t.json(),this.userBucketFetched=!0,this.emit(Ut,this.cachedUserBucket),jt("user bucket",this.cachedUserBucket)}catch(t){return void jt("Could not get bucket and score data...",t)}}set cachedUserBucket(t){this.configService.set(`cam.${Lt}`,t)}get cachedUserBucket(){if(!this.config.enabled)throw new Error("Cam is disabled");return this.config[Lt]}get config(){return this.configService.get("cam")}get rteConfig(){const t={everId:this.webtrekkEverId,timestamp:this.getRfcDateString(),profileUpdate:{"content-events":[{contentId:this.webtrekkTiConfig.contentId,userAgent:window.navigator.userAgent,referrer:window.document.referrer,...(0,M.Rh)(this.webtrekkTiConfig.contentGroup,"cg"),...(0,M.Rh)(this.webtrekkTiConfig.customParameter,"cp"),...(0,M.Rh)(this.webtrekkTiConfig.customSessionParameter,"cs")}]}};return this.login.getCachedUserHash()&&(t.emailHash=this.login.getCachedUserHash(),t.profileUpdate["idgraph:updates"]=[{key:this.login.getCachedUserHash(),type:"emailhash"}]),this.webtrekkTiConfig.cid&&(t.profileUpdate["content-events"][0].cid=this.webtrekkTiConfig.cid),jt("config:",t),t}getRfcDateString(t=new Date){return`${t.getFullYear()}-${`0${t.getMonth()+1}`.slice(-2)}-${`0${t.getDate()}`.slice(-2)}T${`0${t.getHours()}`.slice(-2)}:${`0${t.getMinutes()}`.slice(-2)}:${`0${t.getSeconds()}`.slice(-2)}${t.getTimezoneOffset()>=0?"+":"-"}${`0${Math.trunc(Math.abs(t.getTimezoneOffset()/60))}`.slice(-2)}:${`0${Math.trunc(Math.abs(t.getTimezoneOffset()%60))}`.slice(-2)}`}findCidsOnPage(){return[...document.querySelectorAll("[data-cid]")].map((t=>parseInt(t.getAttribute("data-cid"),10)))}setRecommendations(t){0===this.recommendations.length&&(this.recommendations=Object.keys(t).filter((t=>t.startsWith("nbc")&&"nbc6"!==t)).sort().map((e=>parseInt(t[e],10))))}async getUserBucket(){const t=this.userBucketFetched?this.cachedUserBucket:await new Promise((t=>{this.on(Ut,t)}));if(!t)throw new Error("userBucket is not set");return t}getRecommendationsForSlot(t){return this.recommendations[t-1]}async getCidForEvergreen(){if(!this.config.enabled)return;const t=await this.getUserBucket(),e=parseInt(t.nbc6);if(!e)throw new Error(`No teaser found for evergreen ${e}`);return e}async getCidForSlot(t,{unique:e=!1}={}){if(!this.config.enabled)return;const n=await this.getUserBucket();if(6===t)return await this.getCidForEvergreen();this.setRecommendations(n),e&&this.findCidsOnPage().includes(this.getRecommendationsForSlot(t))&&this.recommendations.splice(t-1,1);const i=this.getRecommendationsForSlot(t);if(jt("unique:",e,"cids:",this.recommendations,"candidate:",i,"includes?",this.findCidsOnPage().includes(i),"cidsOnPage:",this.findCidsOnPage()),!i)throw new Error(`No teaser found for slot ${t}`);return i}async hasConsent(){return await this.consentManagement.isConsentGiven("Dymatrix")}};Dt=(0,n.__decorate)([P(),(0,n.__param)(0,C(q)),(0,n.__param)(1,C(tt)),(0,n.__param)(2,C(mt)),(0,n.__metadata)("design:paramtypes",["function"==typeof(Rt=void 0!==q&&q)?Rt:Object,"function"==typeof(xt=void 0!==tt&&tt)?xt:Object,"function"==typeof(Mt=void 0!==mt&&mt)?Mt:Object])],Dt);var $t,Nt,qt,Bt,Ft,Ht=a(8891),zt=a.n(Ht),Wt=a(337),Vt=a.n(Wt);const Gt=(0,x.Z)("Webtrekk"),Jt="everId";let Kt=class{constructor(t,e,n,i,r){this.configService=t,this.login=e,this.deviceDetection=n,this.paidContent=i,this.cam=r,this.config=this.configService.get("webtrekk"),this.options={},this.mediaInitialized=!1,this.queue=[],this.loaded=!1;try{this.addListener()}catch(t){console.error({error:t})}}enqueue(t){if(this.loaded)return Gt("enqueue to window.wts:",t),void this.getWts().push(t);Gt("enqueue to own queue:",t),this.queue.push(t)}getWts(){return window.wts=window.wts||[],window.wts}enqueuePageImpression(){this.disablePageImpression?this.configService.set("webtrekk.disablePageImpression",!1):(Gt("Trigger initial PI",this.tiConfig),this.getWts().push(["send","pageupdate",!0]),this.handleSendOnce())}get sendOnce(){return this.options.sendOnce}handleSendOnce(){this.sendOnce&&this.configService.set(`webtrekk.sendOnce.${this.sendOnce.id}`,new Date)}async load(t){this.vars=t.vars||{},this.options=t.options||{},window._tiConfig=this.tiConfig,this.enqueuePageImpression(),this.queue.forEach((t=>{Gt("enqueue to window.wts",t),this.getWts().push(t)})),this.queue=[],this.loaded=!0,Vt()(),await this.cam.init(this.cachedEverId,this.tiConfig)}get cachedEverId(){return window.wt?.eid||this.getEverIdFromCookie()||this.config[Jt]}addListener(){document.addEventListener(this.config.readyEventName,(()=>{Gt("webtrekk is ready"),this.configService.set(`webtrekk.${Jt}`,window.wt.eid||this.getEverIdFromCookie())}))}get tiConfig(){return L()(this.vars,this.baseParams)}async sendAdditionalParameters(){this.reload({customSessionParameter:{7:await Tt()?"abp":"none"}})}pageImpressionAlreadySent(){if(!this.sendOnce)return!1;const t=!!this.configService.get(`webtrekk.sendOnce.${this.sendOnce.id}`);return t&&Gt(`Page impression already send: "${this.sendOnce.id}"`),t}get disablePageImpression(){return this.pageImpressionAlreadySent()||this.options.disablePageImpression||this.config.disablePageImpression||this.paidContent.isReturningFromPayPal()}get baseParams(){const t={customerId:this.login.getCachedUserHash(),customParameter:{17:this.deviceDetection.detect()},customSessionParameter:{1:this.login.isCachedLoggedIn()?"1":"0"}};try{this.cam.cachedUserBucket&&(t.cam=this.cam.cachedUserBucket)}catch(t){Gt(t.message)}const e=this.loginParams,n=this.getMeteringProviderFromCookie();return n&&(t.meteringProvider=n),L().all([t,e,{...this.config.params}])}get loginParams(){const t={};return this.login.isCachedLoggedIn()&&(t.customSessionParameter={2:this.paidContent.getCachedAccessProvider()||"no"},this.login.getCachedRegistrationProvider()&&(t.registrationProvider=this.login.getCachedRegistrationProvider())),t}reload(t,{requestType:e="click"}={}){const n=L().all([this.baseParams,"click"===e?{linkId:"webtrekk_ignore"}:{},t]);Gt("reload webtrekk - type:",e,"options:",(0,M.d9)(n)),this.enqueue(["send",e,n])}reloadMedia(...t){Gt("reloadMedia:",...t),this.mediaInitialized||(zt()(),Gt("init media"),window.wt_init_media("prophet.heise.de",window._tiConfig.tiId||"288689636920174"),this.mediaInitialized=!0),window.wt_sendinfo_media(...t)}getEverIdFromCookie(){if(window.document.cookie.includes("wt3_eid"))return new RegExp(`wt3_eid.*?${this.tiConfig.tiId}%7C(\\d{19})`).exec(window.document.cookie)?.[1]}getMeteringProviderFromCookie(){if(window.document.cookie.includes("meteringProvider"))return new RegExp("meteringProvider=([^;]+)").exec(window.document.cookie)?.[1]}};Kt=(0,n.__decorate)([P(),(0,n.__param)(0,C(q)),(0,n.__param)(1,C(tt)),(0,n.__param)(2,C(F)),(0,n.__param)(3,C(it)),(0,n.__param)(4,C(Dt)),(0,n.__metadata)("design:paramtypes",["function"==typeof($t=void 0!==q&&q)?$t:Object,"function"==typeof(Nt=void 0!==tt&&tt)?Nt:Object,"function"==typeof(qt=void 0!==F&&F)?qt:Object,"function"==typeof(Bt=void 0!==it&&it)?Bt:Object,"function"==typeof(Ft=void 0!==Dt&&Dt)?Ft:Object])],Kt);let Zt=class{};Zt=(0,n.__decorate)([function(t=[]){return function(e){return t.forEach((t=>{var{token:e,options:i}=t,r=(0,n.__rest)(t,["token","options"]);return A.register(e,r,i)})),e}}([{token:T.webtrekk,useToken:Kt},{token:T.upscore,useToken:Et},{token:T["infonline-base"],useToken:G}])],Zt);let Yt=class extends R.R{async connectedCallback(){await super.connectedCallback(),await this.service.load(this.parseConfig()),this._ready()}get type(){const t=this.getMandatoryAttribute("type");if(!Object.keys(T).includes(t))throw new Error(`unknown service: ${t}`);return t}get service(){return A.resolve(T[this.type])}parseConfig(){const t=this.querySelector('[type="application/json"]')?.textContent;if(t)return JSON.parse(t)}async reload(...t){this.service||this.addEventListener("ready",(()=>{this.service.reload(...t)})),await this.service.reload(...t)}reloadMedia(...t){this.service.reloadMedia&&(this.service||this.addEventListener("ready",(()=>{this.service.reloadMedia(...t)})),this.service.reloadMedia(...t))}};var Qt,Xt,te,ee,ne,ie;Yt=(0,n.__decorate)([(0,O.J)("a-analytics"),E()],Yt),function(t){t.fixed="fixed",t.responsive="responsive"}(Qt||(Qt={})),function(t){t.gpt="gpt"}(Xt||(Xt={})),function(t){t.allAdsRegistered="allAdsRegistered",t.beforeDefineSlot="beforeDefineSlot",t.servicesEnabled="servicesEnabled",t.slotDefined="slotDefined",t.slotRenderEnded="slotRenderEnded",t.slotEmpty="slotEmpty",t.impressionViewable="impressionViewable",t.beforeRefreshSlot="beforeRefreshSlot"}(te||(te={})),function(t){t.auctionInit="auctionInit",t.auctionEnd="auctionEnd",t.beforeRequestBidsauctio="beforeRequestBidsauctio",t.bidRequested="bidRequested",t.bidResponse="bidResponse",t.bidAdjustment="bidAdjustment",t.bidWon="bidWon",t.bidTimeout="bidTimeout",t.setTargeting="setTargeting",t.requestBids="requestBids",t.addAdUnits="addAdUnits",t.adRenderFailed="adRenderFailed",t.bidderDone="bidderDone"}(ee||(ee={})),function(t){t[t.width=300]="width",t[t.height=600]="height"}(ne||(ne={})),function(t){t.adSizeChanged="adSizeChanged"}(ie||(ie={}));let re=class extends R.R{constructor(){super(...arguments),this.logger=new U("Paternoster"),this.clip=(0,M.az)("div",{},["a-paternoster-clip"]),this.container=(0,M.az)("div",{},["a-paternoster-centered","a-paternoster-container"])}async connectedCallback(){if(await super.connectedCallback(),!this.shouldBeDisplayed())return this.logger.log("Remove because not matching [media]:",this),void this.remove();this.style.height=`${this.height}px`,this.createClip(),this.ad&&await this.handleAd(),this._ready()}get height(){return(0,M.p3)(this.getAttribute("height"))||300}createClip(){[...this.children].forEach((t=>{this.container.append(t)})),this.clip.append(this.container),this.append(this.clip)}get ad(){return this.querySelector("a-ad")}shouldBeDisplayed(){return!this.hasMedia||this.matchesMedia()}get hasMedia(){return this.hasAttribute("media")}async handleAd(){if(!this.ad)throw new Error("No <a-ad> found");await this.ad.waitUntilReady(),this.append((0,M.dS)('<span class="a-ad-label" data-nosnippet>Anzeige</span>')),this.classList.add("a-paternoster-ad"),this.ad.strategy.on(te.slotEmpty,(({ad:t})=>{this.ad===t&&(this.logger.log("Remove <a-paternoster> with empty ad:",this),this.remove())})),this.addEventListener(ie.adSizeChanged,(t=>{this.onSizeChanged(t.detail)}))}onSizeChanged(t){const[e,n]=t;n===ne.height?this.enablePaternoster():this.disablePaternoster()}disablePaternoster(){this.style.height="auto",this.clip&&this.clip.classList.remove("a-paternoster-clip"),this.container&&this.container.classList.remove("a-paternoster-container")}enablePaternoster(){this.style.height=`${this.height}px`,this.clip&&this.clip.classList.add("a-paternoster-clip"),this.container&&this.container.classList.add("a-paternoster-container")}};function oe(t){t.style.width=`${t.getAttribute("width")}px`,t.style.height=`${t.getAttribute("height")}px`}function se(){}re=(0,n.__decorate)([(0,O.J)("a-paternoster"),E()],re);const ae=t=>class extends t{constructor(){super(...arguments),this.observer=new window.IntersectionObserver((([t])=>this.intersectionChange(t)),{root:this.observableRoot,rootMargin:this.observableRootMargin,threshold:this.observableRootThreshold})}async connectedCallback(){await super.connectedCallback(),this.shouldObserve?this.createObserver():this.becomesVisible()}get shouldObserve(){return!0}get observableRootMargin(){return`0px 0px ${Math.max(window.innerHeight,this.preloadDistance)}px 0px`}get preloadDistance(){return(0,M.p3)(this.getAttribute("preload-distance"))||this.defaultPreloadDistance}get defaultPreloadDistance(){return 1e3}get observableRootThreshold(){return 0}get observableRoot(){}createObserver(){this.observer.observe(this)}becomesVisible(t){}becomesHidden(t){}intersectionChange(t){t.isIntersecting?this.becomesVisible(t):this.becomesHidden(t)}unobserve(){this.observer.unobserve(this)}};var ce,le;const ue=(0,x.Z)("UserTopic"),de="topic";let he=class{constructor(t,e){this.configService=t,this.webtrekk=e,this.config=this.configService.get("userTopic"),this.fetchUserTopic()}set cachedTopic(t){this.configService.set(`userTopic.${de}`,t)}get cachedTopic(){return this.config[de]}async fetchUserTopic(){const t=this.webtrekk.cachedEverId;if(t)try{const e=await fetch(new URL(`${this.config.url}/${t}`),{}),n=await e.json();this.cachedTopic=n.GET,ue("Topic for everID fetched",n.GET)}catch(t){ue("Could not fetch topic...",t)}else ue("no everId - no userTopic...")}};var ge,pe;he=(0,n.__decorate)([P(),(0,n.__param)(0,C(q)),(0,n.__param)(1,C(Kt)),(0,n.__metadata)("design:paramtypes",["function"==typeof(ce=void 0!==q&&q)?ce:Object,"function"==typeof(le=void 0!==Kt&&Kt)?le:Object])],he);let fe=class{constructor(t,e){this.configService=t,this.consentManagement=e,this.logger=new U("GptService"),window.googletag=window.googletag||{cmd:[]},this.loadVendorScript()}async loadVendorScript(){this.logger.log("Loading vendor script ..."),await this.hasConsent()?(await(0,M.uR)(this.configService.get("ad.gpt.scriptUrl")),this.logger.log("Vendor script loaded")):this.logger.log("Vendor script not loaded, no consent given")}async hasConsent(){return this.consentManagement.isConsentGivenForIabOrAtp([ct.GoogleAdvertisingProduct.IabId],"Gpt")}findAdUnit(){return document.querySelector("a-ad")?.getAttribute("unit")}run(t){return new Promise((e=>{window.googletag.cmd.push((()=>{t(window.googletag),e()}))}))}defineSlot(...t){return new Promise((e=>{this.run((n=>{this.logger.log("defineSlot:",...t);const i=n.defineSlot(...t);i.addService(n.pubads()),e(i)}))}))}defineOutOfPageSlot(...t){return new Promise((e=>{this.run((n=>{this.logger.log("defineOutOfPageSlot:",...t);const i=n.defineOutOfPageSlot(...t);i.addService(n.pubads()),e(i)}))}))}setPersonalizedAds(t){return this.logger.log(`personalizedAds is ${t.toString()}`),this.run((e=>{e.pubads().setRequestNonPersonalizedAds(t?0:1)}))}disableInitialLoad(){return this.logger.log("disableInitialLoad"),this.run((t=>{t.pubads().disableInitialLoad()}))}enableSingleRequest(){return this.logger.log("enableSingleRequest"),this.run((t=>{t.pubads().enableSingleRequest()}))}refresh(t){return this.logger.log("refresh"),this.run((e=>{e.pubads().refresh(t?[t]:void 0)}))}enableServices(){return this.logger.log("Enabling services ..."),this.run((t=>{t.enableServices()}))}on(t,e){return this.logger.log(`Add pubads() event listner for ${t}`),this.run((n=>{n.pubads().addEventListener(t,e)}))}display(t){return this.logger.log("display:",t),this.run((e=>{e.display(t)}))}setGlobalTargeting(t){return this.run((e=>{this.logger.log("Setting global targeting:",t),Object.keys(t).forEach((n=>{e.pubads().setTargeting(n,t[n])}))}))}destroySlot(t){return this.logger.log("Destroying slot:",t),this.run((e=>{e.destroySlots([t])}))}setSafeframeConfig(){const t={allowOverlayExpansion:!0,allowPushExpansion:!0,sandbox:!0};return this.logger.log("Set safeframe config:",t),this.run((e=>{e.pubads().setSafeFrameConfig(t)}))}};var me;fe=(0,n.__decorate)([P(),(0,n.__param)(1,C(mt)),(0,n.__metadata)("design:paramtypes",["function"==typeof(ge=void 0!==q&&q)?ge:Object,"function"==typeof(pe=void 0!==mt&&mt)?pe:Object])],fe);let ye=class{constructor(t){this.gptService=t,this.logger=new U("Gpt.Adomik")}setup(t){t.on(te.allAdsRegistered,(()=>{const t=(0,M.jO)(["a","b","c","d","e","f","g","h","i","j"]);this.gptService.setGlobalTargeting({test:`test_${t}`})}))}};ye=(0,n.__decorate)([I(),(0,n.__metadata)("design:paramtypes",["function"==typeof(me=void 0!==fe&&fe)?me:Object])],ye);let ve=class{constructor(){this.logger=new U("Gpt.AcceptableAd")}async shouldRender(t){const e=await Tt();return e&&t.isAcceptable||!e&&!t.isAcceptable}setup(t){t.on(te.beforeDefineSlot,(async({ad:t,remove:e})=>{await this.shouldRender(t)?await Tt()&&t.isAcceptable&&(this.logger.log("Setting acceptable:",t),t.setAttribute("is-acceptable",""),t.setAttribute("unit",`${t.unit}/abp`)):e()}))}};var be,we,_e;ve=(0,n.__decorate)([I()],ve),function(t){t.Low="low",t.Mid="mid",t.High="high"}(_e||(_e={}));let Se=class{constructor(t,e){this.gptService=t,this.cam=e,this.logger=new U("Gpt.Cam")}getAffinityGroup(t){return"string"==typeof t&&(t=parseInt(t,10)),t<41?_e.Low:t<58?_e.Mid:_e.High}async setup(t){if(await this.cam.hasConsent())try{const e=this.cam.cachedUserBucket;if(!e)return;t.on(te.beforeDefineSlot,(async()=>{const t={hpa:this.getAffinityGroup(e.hpa),uc:e.uc};this.logger.log("Setting targeting:",t),await this.gptService.setGlobalTargeting(t)}))}catch(t){this.logger.log(t)}}};Se=(0,n.__decorate)([I(),(0,n.__param)(0,C(function(t){if(void 0===t)throw new Error("Attempt to `delay` undefined. Constructor must be wrapped in a callback");return new u(t)}((()=>fe)))),(0,n.__metadata)("design:paramtypes",["function"==typeof(be=void 0!==fe&&fe)?be:Object,"function"==typeof(we=void 0!==Dt&&Dt)?we:Object])],Se);const ke=JSON.parse('{"W":{"v":{"300x250":"heise_desktop_300x250_prebid","300x600":"heise_desktop_300x600_prebid","970x250":"heise_desktop_970x250_prebid","generic":"heise_hdx_generic_prebid"}}}');var Ae;let Ee=class{constructor(t){this.consentManagement=t,this.logger=new U("PrebidService"),window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],this.loadPrebid()}async hasConsent(){return await this.consentManagement.isConsentGivenForIabOrAtp([ct.IndexExchange.IabId,ct.Magnite.IabId,ct.Prebid.IabId,ct.Pubmatic.IabId,ct.TripleLift.IabId,ct.Xandr.IabId,ct.Yoc.IabId],"Prebid")}async loadPrebid(){try{this.prebid=await this.loadVendorScript(),this.prebid.processQueue()}catch(t){console.error(t)}}async enqueue(t){return new Promise((e=>{window.pbjs.que.push((()=>{t(),e()}))}))}async setConfig(t){await this.enqueue((()=>{this.logger.log("setConfig()",t),this.prebid.setConfig(t)}))}async addAdUnits(t){await this.enqueue((()=>{this.logger.log("addAdUnits()",t),this.prebid.addAdUnits(t)}))}async requestBids(t){await this.enqueue((()=>{this.logger.log("requestBids()",t),this.prebid.requestBids(t)}))}async setTargetingForGPTAsync(t){await this.enqueue((()=>{this.logger.log("setTargetingForGPTAsync()"),this.prebid.setTargetingForGPTAsync(t)}))}on(t,e,n){this.prebid.onEvent(t,e,n)}async loadVendorScript(){const{prebid:t}=await Promise.all([a.e(94),a.e(598)]).then(a.bind(a,4981));return t}};var Ce,Ie,Pe,Te;Ee=(0,n.__decorate)([P(),(0,n.__param)(0,C(mt)),(0,n.__metadata)("design:paramtypes",["function"==typeof(Ae=void 0!==mt&&mt)?Ae:Object])],Ee),function(t){t.Phone="phone"}(Te||(Te={}));let Oe=class{constructor(t,e,n){this.prebidService=t,this.configService=e,this.gptService=n,this.logger=new U("Gpt.Prebid")}async setup(t){await this.prebidService.hasConsent()&&this.configService.get("ad.prebid.enabled")&&(t.on(te.slotRenderEnded,(({ad:t})=>{t.isNoBidding||this.setSizeOnBidWon(t)})),t.on(te.allAdsRegistered,(async t=>{const e=t.filter((t=>!t.isNoBidding));await this.onAllAdsRegistered(e)})),t.on(te.beforeRefreshSlot,(async({ad:t})=>{t.isNoBidding||await this.onBeforeRefresh(t)})))}setSizeOnBidWon(t){this.prebidService.on(ee.bidWon,(e=>{this.logger.log("ad served by prebid:",e,t),t.isPrebidAd=!0,t.applySize([e.width,e.height])}),t.innerId)}async onBeforeRefresh(t){await this.prebidService.requestBids({bidsBackHandler:async e=>{this.logger.log("Bids back handler",e),await new Promise((e=>{this.gptService.run((n=>{t.reloadCounter++,this.prebidService.setTargetingForGPTAsync([t.innerId,{reload:`${t.reloadCounter}`}]),e()}))}))},timeout:this.configService.get("ad.prebid.requestTimeout",800)})}async onAllAdsRegistered(t){await this.setupPrebid(t)}async setupPrebid(t){const e=t.map((t=>this.getPrebidDefinition(t)));this.logger.log({prebidAdUnits:e}),await this.prebidService.setConfig({consentManagement:{gdpr:{cmpApi:"iab",timeout:8e3,defaultGdprScope:!0}},currency:{adServerCurrency:"EUR"},priceGranularity:"high",rubicon:{singleRequest:!0},sizeConfig:[{mediaQuery:"(min-width: 0px) and (max-width: 767px)",labels:[Te.Phone]}]}),await this.prebidService.addAdUnits(e),await new Promise((t=>{this.prebidService.requestBids({bidsBackHandler:()=>{this.logger.log("Bids back handler"),this.gptService.run((e=>{this.prebidService.setTargetingForGPTAsync(),t()}))},timeout:this.configService.get("ad.prebid.requestTimeout",800)})}))}_getTripleliftPlacementId(t){return ke.W.v[t.join("x")]}_buildTripleliftBidder(t){const e=[...t.filter((t=>this._getTripleliftPlacementId(t))).map((t=>({bidder:"triplelift",params:{inventoryCode:this._getTripleliftPlacementId(t)}})))];return 0===e.length&&e.push({bidder:"triplelift",params:{inventoryCode:ke.W.v.generic}}),e}getPrebidDefinition(t){const e=t.sizes.filter((t=>Array.isArray(t)));return{code:t.innerId,mediaTypes:{banner:{sizes:e}},bids:[{bidder:"rubicon",params:{accountId:"21770",siteId:"305362",zoneId:"1540604"}},{bidder:"pubmatic",params:{publisherId:"158983",adSlot:"heise.de"}},{bidder:"appnexus",params:{placementId:"14352348"}},{bidder:"visx",labelAny:[Te.Phone],params:{uid:"922159"}},...this._buildTripleliftBidder(e),{bidder:"ix",params:{siteId:"326400"}}]}}};var Re,xe,Me;Oe=(0,n.__decorate)([I(),(0,n.__metadata)("design:paramtypes",["function"==typeof(Ce=void 0!==Ee&&Ee)?Ce:Object,"function"==typeof(Ie=void 0!==q&&q)?Ie:Object,"function"==typeof(Pe=void 0!==fe&&fe)?Pe:Object])],Oe);let je=class extends Ot{constructor(t,e,n){super(),this.gptService=t,this.webtrekk=e,this.userTopic=n,this.logger=new U("GptStrategy"),this.slots={},this.registeredAds=[],this.plugins=[A.resolve(ve),A.resolve(ye),A.resolve(Oe),A.resolve(Se)],this.setupOnce=new Promise((t=>{this.plugins.forEach((t=>t.setup(this))),t()}))}async getAdCount(){let t='a-ad[type="gpt"]:not([acceptable])';null!==document.querySelector('a-ad[type="gpt"][acceptable]')&&await Tt()&&(t='a-ad[type="gpt"][acceptable]');const e=document.querySelectorAll(t);this.logger.log("selected ads",e);const n=[...e].filter((t=>t.shouldBeDisplayed())).length;return this.logger.log("ad count",n),n}onSlotRenderEnded(t,e,n){n.isEmpty?this.onSlotEmpty(t,e):(t.setAttribute("has-ad",""),t.label||t.addLabel(),t.applySize(n.size),this.emit(te.slotRenderEnded,{ad:t,slot:e,event:n}))}onSlotEmpty(t,e){this.emit(te.slotEmpty,{ad:t,slot:e}),t.hasKeepEmpty?t.markAsEmpty():(this.gptService.destroySlot(e),this.logger.log("Remove empty:",t),t.remove())}async register(t){this.logger.log("Register:",t),await this.setupOnce;let e=!0;if(await this.emitAsync(te.beforeDefineSlot,{ad:t,remove:()=>{this.logger.log("Removing ad:",{ad:t}),t.remove(),e=!1}}),!e)return;const n=await this.defineSlot(t);await this.emitAsync(te.slotDefined,{ad:t,slot:n}),this.addListener(t,n),this.slots[t.innerId]=n,t.isSafeframe&&(this.logger.log("Activating safeframe mode"),n.setForceSafeFrame(!0)),Object.entries(t.targeting).forEach((([t,e])=>{this.logger.log("Set targeting:",t,e),n.setTargeting(t,e)})),this.registeredAds.push(t),this.logger.log("registered ads count",this.registeredAds.length),this.registeredAds.length===await this.getAdCount()&&await this.onAllAdsRegistered()}addListener(t,e){this.gptService.on(te.slotRenderEnded,(n=>{n.slot===e&&this.onSlotRenderEnded(t,e,n)})),this.gptService.on(te.impressionViewable,(n=>{n.slot===e&&this.onImpressionViewable(t)}))}onImpressionViewable(t){this.logger.log("ad is viewable",t),t.isMobileInterstitial&&this.webtrekk.reload({customClickParameter:{14:"mobile-interstitial",15:window.location.href,17:"open"}}),this.emit(te.impressionViewable,{ad:t})}async defineSlot(t){return t.isMobileInterstitial?this.gptService.defineOutOfPageSlot(t.unit,5):this.gptService.defineSlot(t.unit,t.sizes,t.innerId)}async refresh(t){let e=!0;if(await this.emitAsync(te.beforeRefreshSlot,{ad:t,cancelRefresh:()=>{this.logger.log("gpt refresh canceled:",{ad:t,slot:this.slots[t.innerId]}),e=!1}}),e)return this.logger.log("Will refresh ad",t.innerId),this.gptService.refresh(this.slots[t.innerId])}async setGlobalTargeting(){const t=this.userTopic.cachedTopic;try{const e=document.querySelector("body[data-ad-targeting]");await this.gptService.setGlobalTargeting({...JSON.parse(e?.getAttribute("data-ad-targeting")||"{}"),...t?{Interessen:`${t}`}:{}})}catch{}}async onAllAdsRegistered(){await this.emitAsync(te.allAdsRegistered,this.registeredAds),await this.setGlobalTargeting(),await this.gptService.setSafeframeConfig(),await this.gptService.disableInitialLoad(),await this.gptService.enableSingleRequest(),await this.gptService.enableServices(),await this.emitAsync(te.servicesEnabled),await this.gptService.refresh(),this.registeredAds.forEach((t=>{this.gptService.display(this.slots[t.innerId])}))}};var Le,Ue;je=(0,n.__decorate)([P(),(0,n.__param)(2,C(he)),(0,n.__metadata)("design:paramtypes",["function"==typeof(Re=void 0!==fe&&fe)?Re:Object,"function"==typeof(xe=void 0!==Kt&&Kt)?xe:Object,"function"==typeof(Me=void 0!==he&&he)?Me:Object])],je);let De=Le=class extends(ae(R.R)){constructor(t){super(),this.configService=t,this.logger=new U("Ad"),this.innerId="a-ad-"+Le.counter++,this.container=(0,M.dS)(`<div class="a-ad-inner" id="${this.innerId}"></div>`),this._initialized=!1,this.isMinActiveViewHeightOfElementInViewport=!1,this.isAllowedToReload=!1,this.isTimerActive=!1,this.config=this.configService.get("ad"),this.reloadCounter=0,this.isPrebidAd=!1,this.strategies={gpt:je}}async connectedCallback(){if(await super.connectedCallback(),!this._initialized){if(this._initialized=!0,!this.shouldBeDisplayed())return this.logger.log("Remove because not matching [media]:",this),void this.remove();if(void 0!==this.quota&&Math.random()>this.quota)return this.logger.log("Remove because above quota",this),void this.remove();this.setMaxBoundaries(),this.append(this.container),t[this.layout](this),this.strategy=this.getStrategy(this.type),await this.strategy.register(this),this.addEventListeners(),this._ready()}}addEventListeners(){document.addEventListener("visibilitychange",(()=>{this.startRefresh()}))}startTimer(){this.isTimerActive||(this.isTimerActive=!0,this.timer=setTimeout((()=>{this.isTimerActive=!1,this.refresh()}),this.config.defaultReloadTime))}setMaxBoundaries(){this.maxWidth&&(this.container.style.maxWidth=`${this.maxWidth}px`),this.maxHeight&&(this.container.style.maxHeight=`${this.maxHeight}px`)}addLabel(){this.isEmbedded||this.prepend((0,M.dS)('<span class="a-ad-label" data-nosnippet>Anzeige</span>'))}get observableRootMargin(){return"0px"}get observableRootThreshold(){return.51}async startRefresh(){void 0!==this.timer?await this.refresh():this.startTimer()}async becomesVisible(t){this.isMinActiveViewHeightOfElementInViewport=!0,await this.startRefresh()}becomesHidden(t){this.isMinActiveViewHeightOfElementInViewport=!1}get unit(){const t=this.configService.get("ad.adUnitOverride")||this.getAttribute("unit")||document.body.getAttribute("data-ad-unit");if(!t)throw new Error("ad-unit nicht konfiguriert!");return this.logger.log("ad-unit is: ",t,this),t}get disableReload(){return this.hasAttribute("disable-reload")}get hasKeepEmpty(){return this.hasAttribute("keep-empty")}get canRefresh(){return!this.disableReload&&!this.isTimerActive&&this.isPrebidAd&&this.isMinActiveViewHeightOfElementInViewport&&!document.hidden}async refresh(){this.canRefresh&&(this.logger.log("ad will reload",this),await Promise.resolve(this.strategy.refresh(this)),this.startTimer())}markAsEmpty(){this.logger.log("Mark as empty:",this),this.setAttribute("is-empty","")}getStrategy(t){return A.resolve(this.strategies[t])}shouldBeDisplayed(){return"none"!==this.style.display&&!(this.hasMedia&&!this.matchesMedia())&&(!this.isMobileInterstitial||this.shouldInterstitialBeDisplayed())}shouldInterstitialBeDisplayed(){const t=new Date(this.configService.get("lastPi")),e=new Date(this.configService.get("currentPi"));if(t&&e){const n=36e5;return e.getTime()-t.getTime()<n}return!1}get hasMedia(){return this.hasAttribute("media")}get isEmbedded(){return this.hasAttribute("embedded")}get maxWidth(){return this.getNumberAttribute("max-width")}get maxHeight(){return this.getNumberAttribute("max-height")}get layout(){return this.getAttribute("layout")||Qt.responsive}get type(){return this.getAttribute("type")||"gpt"}get isAcceptable(){return this.hasAttribute("acceptable")}get isSafeframe(){return this.hasAttribute("safeframe")}get isMobileInterstitial(){return this.hasAttribute("mobile-interstitial")}get isNoBidding(){return this.hasAttribute("no-bidding")}get quota(){const t=this.getAttribute("quota");if(t)return parseFloat(t)}get targeting(){return JSON.parse(this.getAttribute("targeting")||"{}")}parseSizes(t){return t.split(",").map((t=>{const e=t.split("x");return 1===e.length?e[0]:e.map((t=>parseInt(t)))}))}get sizes(){return this.hasAttribute("sizes")?this.parseSizes(this.getAttribute("sizes")):[[this._width,this._height]]}get label(){return this.querySelector(".a-ad-label")}applySize(t){if(this.isMobileInterstitial)return;if("string"==typeof t)return this.logger.log("Apply 100% width for size:",t,this),void(this.container.style.width="100%");const[e,n]=t;0===e&&(this.logger.log("Apply 100% width for size:",t,this),this.container.style.width="100%"),this.layout===Qt.fixed&&(this.logger.log("Apply size",t,this),this.style.width="auto",this.style.height=`${n+(0,M.Pb)(this.label)}px`),this.emit(ie.adSizeChanged,t,!0)}};De.counter=0,De=Le=(0,n.__decorate)([(0,O.J)("a-ad"),E(),(0,n.__param)(0,C(q)),(0,n.__metadata)("design:paramtypes",["function"==typeof(Ue=void 0!==q&&q)?Ue:Object])],De);const $e=["autos","ct","developer","download","foto","ho","ix","mac-and-i","make","preisvergleich","security","tr","tp","tipps"],Ne=["Artikel_Standard","Startseite","Uebersicht"],qe=[...Ne,"Sonstige"],Be=[...qe,"Artikel_Paywall","Foren","Newsticker"];function Fe(t){return void 0!==t&&$e.includes(t)}function He(){return window.location.hostname.includes("telepolis.de")?"TEL":"HEI"}var ze,We,Ve,Ge;let Je=class extends R.R{constructor(t,e,n,i){super(),this.userTopic=t,this.consentManagement=e,this.paidContent=n,this.configService=i,this.initialized=!1}async connectedCallback(){await super.connectedCallback(),window.adHandler=window.adHandler||{cmd:[]},this.init(),await this.loadScripts(),(0,x.D)()&&window.adHandler.service.debug()}init(){this.initialized||(this.initialized=!0,this.consentManagement.isEnabled||(window.adHandler.disableConsentManagement=!0),window.adHandler.cmd.push((()=>{this.setPrefixedTargeting("channel",this.channel),this.setPrefixedTargeting("keyword",this.keywords),this.setPrefixedTargeting("hostname",window.location.hostname),this.setPrefixedTargeting("url",window.location.pathname),this.contentId&&this.setPrefixedTargeting("identifier",this.contentId),this.gamTest&&this.setPrefixedTargeting("gamtest",this.gamTest),this.userTopic.cachedTopic&&this.setPrefixedTargeting("topic",this.userTopic.cachedTopic),window.adHandler.service.setTargeting("pay",this.pay),window.adHandler.service.setTargeting("heiseplus",this.isHeisePlus),this.shouldInterstitialBeDisplayed()&&window.adHandler.service.getAdUnitsByTag("webinterstitial").enable("adUnit"),window.adHandler.service.request()})))}setPrefixedTargeting(t,e){window.adHandler.service.setTargeting(`${He()}_${t}`,e)}async loadScripts(){const t=this.configService.get("clickPerformance.baseUrl");await(0,M.uR)(`${t}${He()}_Framework_Core.js`),await(0,M.uR)(`${t}${He()}_${this.pagetype}_mapping.js`)}get pagetype(){const t=this.getMandatoryAttribute("pagetype");if(!function(t){return void 0!==t&&Be.includes(t)}(t))throw new TypeError(`Invalid pagetype: ${t}`);return t}get channel(){const t=this.getAttribute("channel");if(!t)return"ho";if(!Fe(t))throw new TypeError("Invalid channel");return t}get keywords(){const t=this.getAttribute("keywords"),e=JSON.parse(t||"[]");if(!Array.isArray(e))throw new TypeError("Keywords must be an array");return e}get contentId(){return this.getAttribute("content-id")}get gamTest(){return new URLSearchParams(window.location.search).get("gamtest")}get pay(){return void 0!==this.paidContent.getCachedAccessProvider()?"true":"false"}get isHeisePlus(){return this.hasAttribute("is-heise-plus")?"true":"false"}shouldInterstitialBeDisplayed(){if(void 0===(t=this.pagetype)||!Ne.includes(t))return!1;var t;const e=new Date(this.configService.get("lastPi")),n=new Date(this.configService.get("currentPi"));if(e&&n){const t=36e5;return n.getTime()-e.getTime()<t}return!1}};Je=(0,n.__decorate)([(0,O.J)("a-click-performance"),E(),(0,n.__param)(0,C(he)),(0,n.__param)(1,C(mt)),(0,n.__param)(2,C(it)),(0,n.__param)(3,C(q)),(0,n.__metadata)("design:paramtypes",["function"==typeof(ze=void 0!==he&&he)?ze:Object,"function"==typeof(We=void 0!==mt&&mt)?We:Object,"function"==typeof(Ve=void 0!==it&&it)?Ve:Object,"function"==typeof(Ge=void 0!==q&&q)?Ge:Object])],Je);var Ke,Ze=a(8570);let Ye=class extends R.R{constructor(t){super(),this.consentManagement=t,this.logger=new U("Pixel")}async connectedCallback(){await super.connectedCallback();const t=await this.consentManagement.isCustomConsentGiven(this.name);if(!this.needsConsent||t){this.logger.log("Loading Pixel: ",this.src);const t=document.createElement("img");t.setAttribute("src",(0,Ze.Z)(this.src)),t.setAttribute("width","0"),t.setAttribute("height","0"),document.body.append(t)}this._ready()}get name(){const t=this.getAttribute("name");if(!t)throw new Error("name is missing");return t}get src(){const t=this.getAttribute("src");if(!t)throw new Error("src is missing");return t}};Ye=(0,n.__decorate)([(0,O.J)("a-pixel"),E(),(0,n.__param)(0,C(mt)),(0,n.__metadata)("design:paramtypes",["function"==typeof(Ke=void 0!==mt&&mt)?Ke:Object])],Ye);const Qe=(0,x.Z)("LazyLoading"),Xe=t=>class extends(ae(t)){constructor(){super(...arguments),this.initialized=!1}get shouldObserve(){return!this.hasAttribute("instant")}intersectionChange(t){t.isIntersecting&&this.isVisible()&&(this.initialized||(this.initialized=!0,this.unobserve(),Qe("becomesVisible:",this),this.becomesVisible()))}};var tn,en,nn;const rn=(0,x.Z)("Teaser");let on=class{constructor(t,e,n){this.configService=t,this.httpService=e,this.cam=n,this.debug=(0,x.Z)("ArticleService")}get baseUrl(){return this.configService.get("teaser.service.baseUrl","/api")}get janusBaseUrl(){return this.configService.get("teaser.service.janusBaseUrl","/content/content-web")}enableTeaserTracking(t){window.wt_ttv2=window.wt_ttv2||[],window.wt_ttv2.push(t)}async getJanusTeaser(t,e){return rn(`getting html from janus for cid ${t}`),(await this.httpService.get((0,M.JG)(`${this.janusBaseUrl}/teasers/${t}`,e)))?.text()}async getHeiseIrContainerTeaser(t,e,n){return rn(`getting html from heise-ir-container for cid ${t}`),(await this.httpService.get((0,M.JG)(`${this.baseUrl}/articles/${t}/teaser/${e}`,n)))?.text()}async getTeaserForSlot(t,{type:e="stage",unique:n,...i}={},r=!1){const o=void 0!==n,s=await this.cam.getCidForSlot(t,{unique:o});if(s)return r?await this.getJanusTeaser(s,i):await this.getHeiseIrContainerTeaser(s,e,i);rn("no cid found for slot:",t)}};var sn;on=(0,n.__decorate)([I(),P(),(0,n.__param)(0,C(q)),(0,n.__param)(1,C(K)),(0,n.__param)(2,C(Dt)),(0,n.__metadata)("design:paramtypes",["function"==typeof(tn=void 0!==q&&q)?tn:Object,"function"==typeof(en=void 0!==K&&K)?en:Object,"function"==typeof(nn=void 0!==Dt&&Dt)?nn:Object])],on);let an=class extends(Xe(R.R)){constructor(t){super(),this.articleService=t,this.initialized=!1}async connectedCallback(){await super.connectedCallback(),this.hasAttribute("instant")&&await this.render()}get slotId(){const t=(0,M.p3)(this.getAttribute("slot-id")||this.getAttribute("slot"));if(!t)throw new TypeError("Slot-ID missing");return t}async intersectionChange(t){this.shouldObserve&&t.isIntersecting||this.initialized||(this.initialized=!0,await this.render())}get type(){return this.getAttribute("type")}async getHtml(){return this.articleService.getTeaserForSlot(this.slotId,Object.fromEntries([...this.attributes].filter((({name:t})=>!["slot","instant","use-janus"].includes(t))).map((({name:t,value:e})=>[t,e]))),this.useJanus)}get useJanus(){return this.hasAttribute("use-janus")}get trackingLink(){return this.querySelector("[data-teaser-tracking-id]")}get teaserSlot(){return this.querySelector("[data-slot]")}get target(){return this.teaserSlot||this}get teaserTrackingOptions(){const t=this.trackingLink;return{selector:t,data:{name:t?.getAttribute("data-teaser-tracking-name"),rank:t?.getAttribute("data-teaser-tracking-rank"),content:t?.getAttribute("data-teaser-tracking-content")}}}async render(){try{const t=await this.getHtml()||"";this.target.innerHTML=t,this.trackingLink&&this.articleService.enableTeaserTracking(this.teaserTrackingOptions)}catch(t){console.debug(t),this.teaserSlot&&(this.innerHTML="")}}};var cn,ln;an=(0,n.__decorate)([(0,O.J)("a-teaser"),E(),(0,n.__param)(0,C(on)),(0,n.__metadata)("design:paramtypes",["function"==typeof(sn=void 0!==on&&on)?sn:Object])],an);const un="a-android-native-app-prompt",dn=`${un}__load-app`,hn=`${un}__close-banner`,gn=`${un}__text`,pn="androidNativeAppBannerPrompt.closedLastTime",fn="512x512";let mn=class extends R.R{constructor(t,e){super(),this.consentManagement=t,this.configService=e,this.logger=new U("android-native-app-prompt")}async connectedCallback(){await super.connectedCallback(),this._addBeforeInstallPromptEventListener()}_addBeforeInstallPromptEventListener(){this.logger.log("Warten auf das beforeinstallprompt-Event"),window.addEventListener("beforeinstallprompt",(t=>{t.preventDefault(),this.deferredPrompt=t,this.logger.log("beforeinstallprompt-Event wurde empfangen"),this._initPrompt()}))}async _initPrompt(){await this._shouldPromptBeDisplayed()?(this.logger.log("App-Install-Hinweis kann angezeigt werden"),this._addNativeAppPrompt()):this.logger.log("App-Install-Hinweis wird nicht angezeigt")}async _shouldPromptBeDisplayed(){this.logger.log("Muss noch auf Consent gewartet werden?"),await this.consentManagement.waitUntilConsentIsGiven();const t=new Date(this.configService.get(pn)),e=new Date;return t.getTime()?(this.logger.log(`App-Install-Hinweis wurde schonmal angezeigt. (${t.toString()})`),e.getTime()-t.getTime()>6048e5):(this.logger.log("App-Install-Hinweis wurde noch nie geschlossen."),!0)}async _addNativeAppPrompt(){this.logger.log("Informationen aus Manifest-Datei abrufen");const t=await this.getAppIcon(),e=await this.getAppName();if(this.logger.log("App-Install-Hinweis generieren"),!this.querySelector(`.${un}`)){const n=`\n        <div class="${un}">\n          <button class="${hn}">x</button>\n          <img\n            src="${t}"\n            width="48"\n            height="48"\n            alt="Logo ${e}"\n            class="${un}__image"\n          >\n          <div class="${gn}">\n            <strong>${e}</strong>-App im Android Play Store\n          </div>\n          <button class="${dn}">Jetzt laden</button>\n        </div>\n      `;this.insertAdjacentHTML("beforeend",n),this._addUiEventListener()}window.setTimeout((()=>{this._toggleContainer()}),1e3)}_toggleContainer(){this.querySelector(`.${un}`)?.classList.toggle("is-shown")}async _callNativePrompt(){this.deferredPrompt&&(await this.deferredPrompt.prompt(),await this.deferredPrompt.userChoice.then((t=>("accepted"===t.outcome?this.logger.log("App-Angebot wurde angenommen"):this.logger.log("App-Angebot wurde abgelehnt"),this.deferredPrompt=void 0,!0))))}_addUiEventListener(){this.querySelector(`.${hn}`)?.addEventListener("click",(()=>{this.logger.log("Schliessen-Button wurde gedrueckt"),this._toggleContainer(),this.configService.set(pn,new Date)})),this.querySelector(`.${dn}`)?.addEventListener("click",(()=>{this.logger.log('"Jetzt laden"-Button wurde gedrueckt'),this._callNativePrompt()}))}async getAppIcon(){const t=(await this.getManifest()).icons.find((t=>t.sizes===fn));if(!t)throw new Error(`Kein ${fn} App-Icon auffindbar in Manifest-Datei`);return t.src}async getAppName(){return(await this.getManifest()).name}async getManifest(){if(this.manifest)return this.manifest;const t=await fetch(this.manifestUrl);if(!t||200!==t.status)throw new Error("Manifest-Datei konnte nicht geladen werden");const e=await t.json();return this.manifest=e,this.manifest}get manifestUrl(){const t=document.querySelector('link[rel="manifest"]');if(!t||!t.href)throw new Error("Kein Verweis auf eine Manifest-Datei im DOM");return t.href}};mn=(0,n.__decorate)([(0,O.J)("a-android-native-app-prompt"),E(),(0,n.__param)(0,C(mt)),(0,n.__param)(1,C(q)),(0,n.__metadata)("design:paramtypes",["function"==typeof(cn=void 0!==mt&&mt)?cn:Object,"function"==typeof(ln=void 0!==q&&q)?ln:Object])],mn);let yn=class extends R.R{constructor(){super(...arguments),this.logger=new U("anti-forgery")}async connectedCallback(){await super.connectedCallback(),this._addEventListener()}get url(){return this.getMandatoryAttribute("url")}get form(){const t=this.closest("form");if(!t)throw new Error("a-anti-forgery-input muss innerhalb eines Formulars sein");return t}_addEventListener(){this.logger.log("EventListener auf Focus im Form",this.form),this.form.addEventListener("focusin",(()=>{this._addTokenToForm()}),{once:!0})}async _addTokenToForm(){const t=await this.getToken();this.render(t)}async getToken(){const t=await(0,M.WY)(new URL(this.url,window.location.origin)),{requestToken:e}=await t.json();if(!e)throw new Error("Token konnte nicht geholt werden");return e}render(t){const e=(0,M.az)("input",{type:"hidden",name:"_antiForgery",value:t});this.append(e),this.logger.log("Token eingefuegt")}};yn=(0,n.__decorate)([(0,O.J)("a-anti-forgery-input")],yn);let vn=class{constructor(){this.logger=new U("HighlighterService")}async highlight(t,e){const n=await this.getHighlighter();return e in n.languages?(this.logger.log("Highlighting for language:",e),n.highlight((0,M.aV)(t),n.languages[e],e)):(this.logger.log("Language not supported:",e),t)}async getHighlighter(){return Promise.all([a.e(133),a.e(422)]).then(a.bind(a,2918))}};var bn;vn=(0,n.__decorate)([P()],vn);let wn=class extends R.R{constructor(t){super(),this.highlighter=t}async connectedCallback(){await super.connectedCallback();const t=this.codeElement.innerHTML;try{const e=await this.highlighter.highlight(t,this.language);this.codeElement.innerHTML=e.toString()}catch(t){console.debug(t)}}get language(){const t=this.getAttribute("language");if(!t)throw new Error('Attribute "language" is missing');return t}get codeElement(){const t=this.querySelector("code");if(!t)throw new Error("code-Element is missing");return t}};wn=(0,n.__decorate)([(0,O.J)("a-code"),E(),(0,n.__param)(0,C(vn)),(0,n.__metadata)("design:paramtypes",["function"==typeof(bn=void 0!==vn&&vn)?bn:Object])],wn);const _n="Enter",Sn="is-open",kn="close-text";class An extends R.R{async connectedCallback(){await super.connectedCallback(),this.target.id=(0,M.wm)(),this.trigger&&(this._addListener(),this._prepareTrigger()),this.hasAttribute(kn)&&this.getAttribute(kn).length>0&&(this.openText=this.trigger.textContent,this.closeText=this.getAttribute(kn),this._addTextWrapper()),this.hasAttribute("has-indicator")&&this._addArrow(),this.hasAttribute(Sn)&&await this.open(!0)}get trigger(){return this.query("[data-collapse-trigger]")}get target(){return this.query("[data-collapse-target]")}_prepareTrigger(){this.trigger.hasAttribute("tabindex")||this.trigger.setAttribute("tabindex","0"),"BUTTON"!==this.trigger.nodeName&&this.trigger.setAttribute("role","button"),this.trigger.setAttribute("aria-controls",this.target.id)}_addTextWrapper(){this.trigger.textContent="",this.triggerTextWrapper=(0,M.az)("span",{"data-collapse-trigger-wrapper":""}),this.triggerTextWrapper.textContent=this.openText,this.trigger.append(this.triggerTextWrapper)}_addListener(){this.trigger.addEventListener("click",(async t=>{this.isDisabled||this.trigger.contains(t.target)&&(await this.toggle(),t.preventDefault())}),!0),this.trigger.addEventListener("keydown",(async t=>{this.isDisabled||t.key===_n&&await this.toggle()}))}_addArrow(){this.arrow=(0,M.az)("span",{"data-collapse-arrow":""}),this.trigger.append(this.arrow)}async toggle(){this.isOpen()?await this.close():await this.open()}toggleTriggerText(){this.closeText&&(this.triggerTextWrapper.textContent=this.triggerTextWrapper.textContent===this.closeText?this.openText:this.closeText)}_awaitTransitionEnd(){return new Promise((t=>{this.target.addEventListener("transitionend",(()=>{t()}),{once:!0})}))}async close(){!this.isOpen()&&this.isOpening&&(this.shouldClose=!0),this.isOpen()&&!this.isClosing&&await this._close()}isOpen(){return this.target.hasAttribute(Sn)}get isDisabled(){return this.hasAttribute("disabled")}async _close(){this.toggleTriggerText(),this.isOpen()&&(this.isClosing=!0,this.emit("toggle",{collapsed:!0}),this.target.style.height=`${this.target.scrollHeight}px`,(0,M.nq)(this.target),window.requestAnimationFrame((()=>{this.removeAttribute(Sn),this.target.removeAttribute(Sn),this.target.style.removeProperty("height"),this.arrow&&this.arrow.removeAttribute(Sn)})),await this._awaitTransitionEnd(),this.target.setAttribute("aria-expanded","false"),this.isClosing=!1,this.shouldOpen&&await this._open())}async open(t){!this.isClosed()&&this.isClosing&&(this.shouldOpen=!0),this.isClosed()&&!this.isOpening&&await this._open(t)}isClosed(){return!this.isOpen()}async _open(t){this.toggleTriggerText(),this.isOpen()||(this.isOpening=!0,this.emit("toggle",{collapsed:!1}),window.requestAnimationFrame((()=>{this.setAttribute(Sn,""),this.arrow&&this.arrow.setAttribute(Sn,"")})),t||(this.target.style.height=`${this.target.scrollHeight}px`,await this._awaitTransitionEnd()),window.requestAnimationFrame((()=>{this.target.setAttribute(Sn,""),this.target.style.removeProperty("height")})),this.target.setAttribute("aria-expanded","true"),this.isOpening=!1,this.shouldClose&&await this._close())}}const En="sneak-peek",Cn="sneak-peek-elements";let In=class extends An{async connectedCallback(){await super.connectedCallback(),this.hasAttribute(En)&&this._setupSneakPeek(),this.hasAttribute(Cn)&&this._setupSneakPeekElements(),(0,M.ib)((()=>{this.hasAttribute(Cn)&&this._setSneakPeekElementsHeight()})),this.emit("ready")}get sneakPeekElementsAmount(){return(0,M.p3)(this.getAttribute(Cn))||3}get sneakPeekElementsContainer(){const t=this.querySelector("[data-sneak-peek-elements-container]");if(!t)throw new TypeError("[data-sneak-peek-elements-container] missing");return t}get sneakPeekHeight(){return(0,M.p3)(this.getAttribute("sneak-peek-height"))||150}get sneakPeekThreshold(){return(0,M.p3)(this.getAttribute("sneak-peek-threshold"))||25}get sneakPeekElements(){const t=this.getAttribute("sneak-peek-elements-selector");return[...t?this.sneakPeekElementsContainer.querySelectorAll(t):this.sneakPeekElementsContainer.children].slice(0,this.sneakPeekElementsAmount)}get content(){const t=this.querySelector("[data-collapse-content]");if(!t)throw new TypeError("[data-collapse-content] missing");return t}_disableSneakPeek(t){this.removeAttribute(t),this.trigger.style.display="none",super.toggle()}_setupSneakPeek(){const t=this.sneakPeekHeight+this.sneakPeekThreshold;this.content.scrollHeight<=t?this._disableSneakPeek(En):this.target.style.minHeight=`${t}px`}_setSneakPeekElementsHeight(){const t=this.sneakPeekElements[this.sneakPeekElements.length-1],e=(0,M.Pb)(t)+t.offsetTop;this.target.style.minHeight=`${e}px`}_setupSneakPeekElements(){this.sneakPeekElementsContainer.children.length<=this.sneakPeekElementsAmount?this._disableSneakPeek(Cn):this._setSneakPeekElementsHeight()}};In=(0,n.__decorate)([(0,O.J)("a-collapse")],In);let Pn=class extends R.R{async connectedCallback(){await super.connectedCallback(),this.collapseChildren=this.querySelectorAll(this.target),this.addEventListener("toggle",(t=>{t.detail.collapsed||this.closeAllChildrenExcept(t.target)}),!0)}get target(){return this.getAttribute("target")||"a-collapse"}closeAllChildrenExcept(t){[...this.collapseChildren].filter((e=>e!==t)).forEach((t=>{t.close()}))}};var Tn,On;Pn=(0,n.__decorate)([(0,O.J)("a-collapse-group")],Pn),function(t){t.Dark="dark",t.Light="light",t.Auto="auto"}(On||(On={}));let Rn=class extends R.R{constructor(t){super(),this.configService=t,this.state=this.configService.get("colorScheme.scheme")||On.Auto}async connectedCallback(){await super.connectedCallback(),this.render(),this.setState(this.state),this.setScheme(this.state),this._addEventListeners()}_addEventListeners(){this._mediaQuery.addEventListener("change",(t=>{this.state===On.Auto&&this.toggleDarkScheme(t.matches)})),this.querySelectorAll('input[type="radio"]').forEach((t=>{t.addEventListener("click",(()=>{t.checked&&(this.setState(t.value),this.setScheme(t.value))}))}))}setState(t){this.state=t,this.configService.set("colorScheme.scheme",t),this.setAttribute("state",t);const e=this.querySelector(`input[value="${t}"]`);e&&(e.checked=!0)}setScheme(t){t===On.Dark?this.setDarkScheme():t===On.Light?this.setLightScheme():this.setAutoScheme()}toggleDarkScheme(t){t?this.setDarkScheme():this.setLightScheme()}get _mediaQuery(){return window.matchMedia("(prefers-color-scheme: dark)")}setDarkScheme(){document.documentElement.classList.add("dark"),this.setAttribute("scheme","dark")}setLightScheme(){document.documentElement.classList.remove("dark"),this.setAttribute("scheme","light")}setAutoScheme(){this.toggleDarkScheme(this._mediaQuery.matches)}render(){this.setAttribute("title","Farb-Schema der Seite einstellen:"),this.innerHTML='\n      <span class="a-color-scheme__slider"></span>\n      <label class="a-color-scheme__option a-color-scheme__option--dark">\n        <input class="a-color-scheme__radio" type=\'radio\' value="dark" name="scheme">\n        <span class="a-color-scheme__icon a-color-scheme__icon--moon"></span>\n        <span class="a-color-scheme__label">Dunkles Schema</span>\n      </label>\n      <label class="a-color-scheme__option a-color-scheme__option--auto">\n        <input class="a-color-scheme__radio" type=\'radio\' value="auto" name="scheme">\n        <span class="a-color-scheme__icon a-color-scheme__icon--auto"></span>\n        <span class="a-color-scheme__label">Betriebssystemeinstellung übernehmen</span>\n      </label>\n      <label class="a-color-scheme__option a-color-scheme__option--light">\n        <input class="a-color-scheme__radio" type=\'radio\' value="light" name="scheme">\n        <span class="a-color-scheme__icon a-color-scheme__icon--sun"></span>\n        <span class="a-color-scheme__label">Helles Schema</span>\n      </label>\n    '}};Rn=(0,n.__decorate)([(0,O.J)("a-color-scheme"),E(),(0,n.__param)(0,C(q)),(0,n.__metadata)("design:paramtypes",["function"==typeof(Tn=void 0!==q&&q)?Tn:Object])],Rn);let xn=class extends R.R{constructor(){super(...arguments),this.logger=new U("dsb-customer-hub"),this.iframeId=(0,M.wm)("dsb-customer-hub-")}async connectedCallback(){await super.connectedCallback();const t=await a.e(587).then(a.t.bind(a,8587,19));this.appendIframe(),t.iframeResizer({bodyBackground:"#fff",log:!1},`#${this.iframeId}`),this.addListener(),this._ready()}appendIframe(){this.logger.log("Preparing iframe with src: ",this.src),this.iframe=(0,M.az)("iframe",{id:this.iframeId,src:this.src,width:"100%",height:"0",frameborder:"0",scrolling:"0"}),this.append(this.iframe)}addListener(){window.addEventListener("message",(t=>{t.source===this.iframe?.contentWindow&&t.data.sso&&this.handleSso(t.data.sso)}),!1)}handleSso(t){"sessionTimedOut"!==t&&"linkTimedOut"!==t&&"linkReused"!==t||window.location.reload()}get src(){const t=this.getAttribute("src");if(!t)throw new Error("attribute src is neccessary for this component");return t}};var Mn,jn,Ln;xn=(0,n.__decorate)([(0,O.J)("a-dsb-customer-hub"),E()],xn);const Un=(0,x.Z)("Events");function Dn(t){if(!t)return[];/^{\[/.test(t)||(t=`[${t}]`),t.includes('"')||(t=t.replace(/'/g,'"'));try{return JSON.parse(t)}catch(e){throw new Error(`Error parsing "${t}": ${e}`)}}function $n(t){const e=/^(\w+):(\w+)\.(\w+)(?:\((.*)\))?$/.exec(t);if(!e)throw new Error(`Could not parse Event String "${t}"`);const[,n,i,r,o]=e;return{eventName:n,serviceName:i,methodName:r,args:Dn(o)}}function Nn(t){return t.getAttribute("on")||t.getAttribute("data-on")}const qn={webtrekk:Kt};async function Bn(t){const e=t.target.closest("[on],[data-on]");if(!e)return;const{eventName:n,serviceName:i,methodName:r,args:o}=$n(Nn(e));if(n===t.type)try{Un(`Dispatching event "${n}": ${i}.${r}(`,...o,")");const t=A.resolve(qn[i]);await t[r](...o)}catch(t){console.error(t)}}let Fn=class{constructor(t,e,n){this.configService=t,this.webtrekk=e,this.consentManagement=n,this.webtrekkReloadedWallOpen=!1,this.webtrekkReloadedWallClose=!1}async onTcfApiEvent(t,e){this.consentManagement.isEnabled&&await this.consentManagement.isCmpProviderActive()&&window.__tcfapi("addEventListener",2,((n,i)=>{i&&n.eventStatus===t&&e(n)}))}installListener(){(0,M.Cd)((()=>{const t=[...document.querySelectorAll("[on],[data-on]")].map((t=>$n(Nn(t)))).map((({eventName:t})=>t));(0,M.Tw)(t).forEach((t=>{document.addEventListener(t,Bn)}))})),this.onTcfApiEvent(lt.CmpUiShown,(t=>{this.webtrekkReloadedWallOpen||(this.webtrekk.reload({linkId:"ho.consent-wall",customClickParameter:{19:"open"}}),this.webtrekkReloadedWallOpen=!0)})),this.consentManagement.addEventListener("purCheckoutRedirect",(()=>{this.webtrekk.reload({linkId:"ho.consent-wall",customClickParameter:{19:"close-pur"}}),(0,M.uX)((0,M.JG)(this.configService.get("pur.checkoutUrl"),{a:window.location.pathname,affiliateId:this.configService.get("pur.affiliateId")}))})),this.consentManagement.addEventListener("loginRedirect",(()=>{const t=this.configService.get("pur.affiliateId"),e=new URL(window.location.toString());e.search=`?affiliateId=${t}`,this.webtrekk.reload({linkId:"ho.consent-wall",customClickParameter:{19:"close-login"}}),(0,M.uX)((0,M.JG)("/sso/login",{forward:e.toString()}))})),this.consentManagement.addEventListener("postRejectAll",(()=>{this.consentManagement.rejectAllConsents((()=>{this.configService.delete("optIn"),(0,M.H5)()}))})),this.onTcfApiEvent(lt.UserActionComplete,(t=>{this.webtrekkReloadedWallClose||(this.configService.set(`consent.${ct.Kameleoon.IabId}`,t.vendor.consents[ct.Kameleoon.IabId]),this.configService.delete("optIn"),this.webtrekkReloadedWallClose=!0,this.configService.set("webtrekk",{disablePageImpression:!0}),this.webtrekk.reload({linkId:"ho.consent-wall",customClickParameter:{19:"close-accept"}}),setTimeout((()=>{this.configService.delete("currentPi"),this.configService.delete("lastPi"),(0,M.H5)()}),200))}))}};Fn=(0,n.__decorate)([P(),(0,n.__param)(0,C(q)),(0,n.__param)(1,C(Kt)),(0,n.__param)(2,C(mt)),(0,n.__metadata)("design:paramtypes",["function"==typeof(Mn=void 0!==q&&q)?Mn:Object,"function"==typeof(jn=void 0!==Kt&&Kt)?jn:Object,"function"==typeof(Ln=void 0!==mt&&mt)?Ln:Object])],Fn);const Hn=Fn;var zn;A.resolve(Hn).installListener();let Wn=class extends(Xe(R.R)){constructor(t){super(),this.consentManagement=t,this.logger=new U("iframe"),this.inheritedAttributes=["rel","name","allowfullscreen"]}async connectedCallback(){if(await super.connectedCallback(),!this.iframe){if(this.needsConsent&&this.name&&!await this.consentManagement.isCustomConsentGiven(this.name))return;this._ready()}}becomesVisible(){this.iframe||(this.addListener(),this.appendIframe())}appendIframe(){this.logger.log("preparing iframe: ",this.getAttribute("src")),this.iframe=document.createElement("iframe"),this.setAttributesToIframe(),this.iframe.setAttribute("width","100%"),this.iframe.setAttribute("height","100%"),this.width&&(this.style.width=`${this.width}px`),this.height&&(this.style.height=`${this.height}px`),this.append(this.iframe)}addListener(){window.addEventListener("message",(t=>{const{source:e,data:n}=t,{height:i}=n;e===this.iframe.contentWindow&&i&&(this.iframe.setAttribute("height",i.toString()),this.style.height=`${i}px`,this.style.setProperty("--ho-a-iframe-podcast-player-height",`${i}px`))}))}setAttributesToIframe(){this.inheritedAttributes.filter((t=>this.hasAttribute(t))).forEach((t=>{this.iframe.setAttribute(t,this.getAttribute(t))})),this.iframe.setAttribute("scrolling","no"),this.iframe.setAttribute("src",this.src)}get src(){const t=this.getMandatoryAttribute("src");if(this.enableDarkMode&&t){const e=new URL(t);return e.searchParams.append("dark-mode","true"),e.toString()}return t}get width(){return this.getAttribute("width")}get height(){return this.getAttribute("height")}get enableDarkMode(){return this.hasAttribute("enable-dark-mode")&&!!this.closest(".dark")}};Wn=(0,n.__decorate)([(0,O.J)("a-iframe"),E(),(0,n.__param)(0,C(mt)),(0,n.__metadata)("design:paramtypes",["function"==typeof(zn=void 0!==mt&&mt)?zn:Object])],Wn);var Vn=a(6735),Gn=a.n(Vn);const Jn=["slow-2g","2g","3g"];class Kn extends(Xe(R.R)){constructor(){super(...arguments),this.inheritedAttributes=["alt","crossorigin","longdesc"]}static get observedAttributes(){return["src"]}attributeChangedCallback(t,e,n){n!==e&&null!==e&&this.updateImageSrc()}get quality(){return this.devicePixelRatio>1?(0,M.p3)(this.getAttribute("high-dpi-quality"))||30:(0,M.p3)(this.getAttribute("quality"))||50}get ignoreDevicePixelRatio(){return this.hasAttribute("ignore-device-pixel-ratio")||Jn.includes(this.userConnection?.effectiveType||"")||this.userConnection?.saveData}get userConnection(){return navigator.connection||navigator.mozConnection||navigator.webkitConnection}get devicePixelRatio(){return this.ignoreDevicePixelRatio?1:window.devicePixelRatio||1}async connectedCallback(){await super.connectedCallback(),this.emit("ready")}get box(){const t=this.getAttribute("box");return t?t.split(":").map((t=>(0,M.p3)(t))):[]}createImage(){this.img=this.querySelector("img")||(0,M.az)("img",{},[]),this.inheritedAttributes.filter((t=>this.hasAttribute(t))).forEach((t=>{this.img.setAttribute(t,this.getAttribute(t))})),this.append(this.img)}get src(){return this.getAttribute("src")}get width(){return this.getAttribute("width")}get height(){return this.getAttribute("height")}createImageSrc(t,e=this.quality,n=1){const i=Math.round(t*this.devicePixelRatio*n);return new(Gn())(this.src).asWidthUrl(i,{quality:e,withoutEnlargement:!0,forceFormat:"avif,webp,jpeg"})}_setImageSrc(t){this.img.setAttribute("src",t)}_setCssAspectRatio(t,e){this.style.setProperty("--aspect-ratio-width",t),this.style.setProperty("--aspect-ratio-height",e)}_loadImage(t,e){this.tmpImage=(0,M.az)("img",{src:t}),this.tmpImage.addEventListener("load",(()=>e(t)),!1)}updateImageSrc(){const t=this.offsetWidth;if(0===t)return;this.width&&this.height&&this._setCssAspectRatio(this.width,this.height),this.img||this.createImage();const e=this.createImageSrc(t);this.img.getAttribute("src")!==e&&this._loadImage(e,(t=>this._setImageSrc(t)))}becomesVisible(){this.updateImageSrc(),(0,M.ib)((()=>{this.updateImageSrc()}))}}class Zn extends R.R{async connectedCallback(){await super.connectedCallback(),this.style.display="block";const t=new(Gn())(this.getAttribute("src")).asWidthUrl(this.offsetWidth,{withoutEnlargement:!0});this.append((0,M.az)("img",{src:t},[]))}}const Yn=!!window.MSInputMethodContext&&!!document.documentMode;(0,M.iD)("a-img",Yn?Zn:Kn);var Qn=a(9012);let Xn=class extends R.R{constructor(){super(...arguments),this.modalId=(0,M.wm)()}async connectedCallback(){await super.connectedCallback(),this.setAttribute("modal-id",this.modalId),this.modal=new Qn.default({showCloseButton:!1,parent:`[modal-id="${this.modalId}"]`}),this._addEventListener(),this.emit("ready")}get aImg(){return this.querySelector("a-img")}get devicePixelRatio(){return this.aImg?.ignoreDevicePixelRatio?1:window.devicePixelRatio||1}getNumericAttribute(t,e){return(0,M.p3)(this.getAttribute(t))||e}get quality(){return this.aImg?this.aImg.quality:this.devicePixelRatio>1?this.getNumericAttribute("high-dpi-quality",50):this.getNumericAttribute("quality",75)}get caption(){return(this.querySelector("[data-lightbox-caption]")||this.querySelector("figcaption"))?.innerHTML}get src(){return this.aImg?.src||this.getAttribute("src")}get alt(){return this.aImg?.getAttribute("alt")||this.querySelector("img")?.getAttribute("alt")||void 0}toggleModal(){this.modal.isActive()?this.modal.hide():this.showModal()}handleClick(t){const e=t.target;this.modal.isActive()&&"A"===e.tagName&&e.closest("figcaption")||(this.modal.isActive()||"IMG"===e.tagName)&&(this.toggleModal(),t.preventDefault())}handleKeypress(t){t!==_n||this.modal?.isActive()||this.showModal()}_addEventListener(){this.addEventListener("click",(t=>{this.handleClick(t)})),this.addEventListener("keydown",(t=>{this.handleKeypress(t.key)}))}showModal(){this.lightbox||(this.lightbox=this._createLightbox(),this.modal.stage.append(this.lightbox)),this.modal.show()}_createImage(){const t=Math.round(window.innerWidth*this.devicePixelRatio),e=new(Gn())(this.src).asWidthUrl(t,{quality:this.quality});return(0,M.dS)(`\n      <img src="${e}" alt="${this.alt||""}" class="a-lightbox__img">\n    `)}_createLightbox(){const t=(0,M.dS)('\n      <figure class="a-lightbox__stage"></figure>\n    ');if(t.append(this._createImage()),this.caption){const e=(0,M.dS)(`\n        <figcaption class="a-lightbox__caption">\n          ${this.caption}\n        </figcaption>\n      `);t.append(e)}return t}};Xn=(0,n.__decorate)([(0,O.J)("a-lightbox")],Xn);let ti=class extends R.R{async connectedCallback(){await super.connectedCallback(),this.addAnimation(this.type),this.emit("ready")}get type(){return this.getAttribute("type")||"dots"}set type(t){this.setAttribute("type",t)}addAnimation(t){"dots"!==t&&"ellipse"!==t||this.createDots(t)}createDots(t){const e=document.createElement("div");for(let n=0;n<3;n++){const n=document.createElement("span");"ellipse"===t&&(n.innerHTML="."),e.append(n)}this.innerHTML=e.innerHTML}};var ei;ti=(0,n.__decorate)([(0,O.J)("a-loader")],ti);let ni=class extends R.R{constructor(t){super(),this.login=t}async connectedCallback(){await super.connectedCallback(),this.URLs=await this.login.getURLs(),this.loggedIn=await this.login.isLoggedIn(),this._render(),this.emit("ready")}_checkAttribute(t,e){return this.hasAttribute(t)?this.getAttribute(t):e}get label(){return this._checkAttribute("label","Heise-Foren:")}get separator(){return this._checkAttribute("separator","|")}get loginText(){return this._checkAttribute("login-text","Anmelden")}get logoutText(){return this._checkAttribute("logout-text","Abmelden")}get registrationText(){return this._checkAttribute("registration-text","Registrieren")}get accountText(){return this._checkAttribute("account-text","Mein Account")}get _linkConfig(){return{login:{left:{type:"sso",text:this.loginText},right:{type:"register",text:this.registrationText}},logout:{left:{type:"logout",text:this.logoutText},right:{type:"profil",text:this.accountText}}}}_createLabel(){const t=(0,M.az)("span",{},"a-login__label");return t.textContent=this.label,t}_createSeparator(){const t=(0,M.az)("span",{},"a-login__separator");return t.textContent=this.separator,t}_createLink(t,e){const n=(0,M.az)("a",{href:this.URLs[t]+this._createForwardParam(),"data-google-interstitial":"false"},["a-login__link",`a-login__link--${t}`]);return n.textContent=e,n}_createForwardParam(){const t=window.location.href.includes("?")?"&":"?";return`${window.location.search+t}forward=${encodeURIComponent(window.location.href)}`}_render(){const t=this.loggedIn?this._linkConfig.logout:this._linkConfig.login;this.innerHTML="",this.label&&this.append(this._createLabel()),this.append(this._createLink(t.left.type,t.left.text)),this.separator&&this.append(this._createSeparator()),this.append(this._createLink(t.right.type,t.right.text))}};var ii;ni=(0,n.__decorate)([(0,O.J)("a-login"),E(),(0,n.__param)(0,C(tt)),(0,n.__metadata)("design:paramtypes",["function"==typeof(ei=void 0!==tt&&tt)?ei:Object])],ni);const ri="mastodonShare",oi="data-mastodon-share-button",si="data-mastodon-share-target",ai="data-mastodon-share-dialog",ci="data-mastodon-share-input",li="Bitte geben Sie die URL Ihrer Mastodon-Instanz an";let ui=class extends R.R{constructor(t){super(),this.configService=t,this.config=this.configService.get(ri),this.dialog=this.querySelector(`[${ai}]`)}async connectedCallback(){await super.connectedCallback(),this.addButton(),this.addDialog(),this.addEventListener("click",(t=>this.handleClick(t))),this.emit("ready")}handleClick(t){if(!this.isDialogSupported())return void this.legacyHandleClick();const e=t.target;if(e.hasAttribute(oi)&&this.dialog?.showModal(),e.hasAttribute("data-mastodon-share-cancel")&&this.dialog?.close(),e.hasAttribute("data-mastodon-share-confirm")){const t=this.mastodonServerUrl;if(!t)throw new Error("Keine URL angegeben, Teilen auf Mastodon wird abgebrochen");this.saveHostToConfig(t),window.open(this.createShareUrl(t),"_blank")}}isDialogSupported(){return!!document.createElement("dialog").showModal}legacyHandleClick(){const t=window.prompt(li,this.config?.host);t&&(this.saveHostToConfig(t),window.open(this.createShareUrl(t),"_blank"))}addButton(){const t=this.querySelector(`[${si}]`);if(!t)throw new Error(`Kein Ziel-Element mit dem Attribut [${si}] gefunden`);const e=document.createElement("button");e.setAttribute(oi,""),e.append(t?.cloneNode(!0)),t.replaceWith(e)}addDialog(){if(this.dialog)return;const t=`\n      <dialog ${ai}>\n        <form method="dialog">\n          <label>\n            <p data-mastodon-share-label>\n              ${li}\n            </p>\n            <input\n              type="url"\n              required\n              ${ci}\n              aria-describedby="inputhint"\n              value="${this.config?.host??""}"\n            />\n          </label>\n          <small\n            id="inputhint"\n            data-mastodon-share-input-help\n          >\n            Beispiel: https://mastodon.social\n          </small>\n          <div data-mastodon-share-btn-group>\n            <button type="button" data-mastodon-share-cancel>Abbrechen</button>\n            <button type="submit" data-mastodon-share-confirm type="submit">Teilen</button>\n          </div>\n        </form>\n      </dialog>\n    `;this.insertAdjacentHTML("beforeend",t),this.dialog=this.querySelector("dialog")}saveHostToConfig(t){this.configService.set(ri,{host:t})}get mastodonServerUrl(){const t=this.querySelector(`[${ci}]`);return t?.validity.valid?t.value:void 0}createShareUrl(t){return`${t}/share?url=${encodeURIComponent(this.urlToShare)}&text=${encodeURIComponent(this.text)}`}get urlToShare(){return new URL(this.url,this.baseUrl).toString()}get url(){return this.getAttribute("url")??window.location.href}get baseUrl(){return this.getAttribute("base")??"https://www.heise.de"}get text(){return this.getAttribute("text")??""}};ui=(0,n.__decorate)([(0,O.J)("a-mastodon-share"),E(),(0,n.__param)(0,C(q)),(0,n.__metadata)("design:paramtypes",["function"==typeof(ii=void 0!==q&&q)?ii:Object])],ui);let di=class extends An{async connectedCallback(){await super.connectedCallback(),this.emit("ready")}};di=(0,n.__decorate)([(0,O.J)("a-menu")],di);let hi=class extends R.R{constructor(){super(...arguments),this.logger=new U("Modal"),this.stage=(0,M.az)("div",{},"stage"),this.closeButton=(0,M.B9)()}async connectedCallback(){await super.connectedCallback(),this.addEventListener("click",(()=>{this.close()})),this.stage.append(this.closeButton),this.closeButton.addEventListener("click",(()=>{this.close()})),[...this.children].forEach((t=>{this.stage.append(t)})),this.append(this.stage),this._ready()}handleKeyUp(t){"Escape"===t&&this.close()}open(){this.setAttribute("open",""),document.addEventListener("keyup",(t=>{this.handleKeyUp(t.key)})),this.setBackgroundUnscrollable()}close(){this.removeAttribute("open"),document.removeEventListener("keyup",(function(){})),this.setBackgroundScrollable()}getScrollbarWidth(){const t=document.createElement("div");t.style.cssText="\n      position: absolute;\n      top: -9999px;\n      overflow: scroll;\n      width: 50px;\n      height: 50px;\n    ",document.body.append(t);const e=t.getBoundingClientRect().width-t.clientWidth;return t.remove(),e}setBackgroundUnscrollable(){document.documentElement.style.paddingRight=`${this.getScrollbarWidth()}px`,document.documentElement.style.overflow="hidden",document.documentElement.addEventListener("touchmove",(t=>{t.preventDefault()}))}setBackgroundScrollable(){document.documentElement.style.overflow="",document.documentElement.style.paddingRight="0",document.querySelector("html,body")?.removeEventListener("touchmove",(function(){}))}};var gi,pi,fi,mi;hi=(0,n.__decorate)([(0,O.J)("a-modal")],hi),function(t){t.Teaser="teaser"}(gi||(gi={})),function(t){t.Chunk="chunk",t.ModuleId="moduleId"}(pi||(pi={})),function(t){t.Embed="embed",t.Plain="plain"}(fi||(fi={}));let yi=class{constructor(t){this.http=t}async load(t,e){const n=t.replace(`{${pi.Chunk}}`,e.toString());return this.http.get(n)}};var vi;yi=(0,n.__decorate)([I(),(0,n.__metadata)("design:paramtypes",["function"==typeof(mi=void 0!==K&&K)?mi:Object])],yi);let bi=class extends R.R{constructor(t){super(),this.module=t,this.currentChunk=0,this.endOfContentReached=!1}async connectedCallback(){await super.connectedCallback(),this.currentChunk=this.loadMoreInitialChunk,this.endOfContentNotice&&(this.endOfContentNotice.hidden=!0),this.addEventListener("click",(async t=>{t.target.closest("[data-reload-button]")&&(t.preventDefault(),await this.appendNext())}))}async load(t){const e=this.loadMoreButton;if(e.hasAttribute("disabled"))return;const n=function({type:t="dots"}={}){const e=document.createElement("a-loader");return e.setAttribute("type",t),e}(),i=setTimeout((()=>this.targetSlot.append(n)),500);e.disabled=!0;try{await t()}catch(t){console.error(t)}clearTimeout(i),n.remove(),this.endOfContentReached||(e.disabled=!1)}async appendNext(){this.currentChunk++,await this.load((async()=>{const t=await this.module.load(this.loadMoreUrl,this.currentChunk);if(200!==t.status)return void this.disableLoadMore();const e=(0,M.dS)(await t.text());this.targetSlot.append(e)}))}disableLoadMore(){this.endOfContentReached=!0,this.endOfContentNotice&&(this.endOfContentNotice.hidden=!1)}get targetSlot(){const t=this.querySelector("[data-slot]");if(!t)throw new Error("[data-slot] missing");return t}get loadMoreButton(){return this.querySelector("[data-reload-button]")}get endOfContentNotice(){return this.querySelector("[data-end-of-content-notice]")}get moduleId(){const t=this.getMandatoryAttribute("module-id");return parseInt(t,10)}get chunk(){const t=this.getAttribute("chunk");if(t)return parseInt(t,10)}get contentBase(){return this.getAttribute("content-base")??"/content/content-web"}isValidModuleType(t){return Object.values(gi).includes(t)}get type(){const t=this.getAttribute("type");return this.isValidModuleType(t)?t:gi.Teaser}get loadMoreUrl(){const t=this.getAttribute("load-more-url");return t?t.replace(`{${pi.ModuleId}}`,encodeURIComponent(this.moduleId)):`${this.contentBase}/module/${this.moduleId}?type=${fi.Plain}&chunk={${pi.Chunk}}`}get loadMoreInitialChunk(){return this.getNumberAttribute("load-more-initial-chunk")??0}};function wi(t,e,n=0){t[n]((()=>{++n===t.length?e():wi(t,e,n)}))}bi=(0,n.__decorate)([(0,O.J)("a-module"),E(),(0,n.__metadata)("design:paramtypes",["function"==typeof(vi=void 0!==yi&&yi)?vi:Object])],bi),a(3110);const _i=["application/javascript","text/javascript"];function Si(t,e){if(0===t.length)return;const n=[];let i;t.forEach((t=>{i=t.getAttribute("type"),i&&!_i.includes(i)||n.push((e=>{!function(t,e){const n=document.createElement("script");n.type="text/javascript",t.src?(n.addEventListener("load",e),n.addEventListener("error",e),n.src=t.src):n.textContent=t.textContent,document.head.append(n),t.remove(),t.src||e()}(t,e)}))})),wi(n,e)}var ki;const Ai="data-should-persist",Ei="a-opt-in-allow";let Ci=class extends R.R{constructor(t){super(),this.consentManagement=t,this.logger=new U("OptIn"),this.isAllowed=!1,this.isStealthMode=!1,this.shouldPersist=!1,this.isPersistable=!1,this.toolbar=(0,M.dS)('<footer class="opt-in__toolbar"></footer>'),this.reloadLink=(0,M.dS)('<a href="#"> Seite neu laden</a>')}async connectedCallback(){await super.connectedCallback(),this.setAttribute("is-active",""),this.optInButton||(this.setAttribute("is-stealth",""),this.isStealthMode=!0),this.shouldBePersistable&&(this.isPersistable=!0),await this.consentGiven?this.allowContent():this._addOptInEventListener(),this.isPersistable&&this._addPersistanceEventListener()}get type(){return this.getAttribute("type")?this._normalizeType(this.getAttribute("type")):void 0}get shouldBePersistable(){return void 0!==this.type&&!!this.querySelector(`[${Ai}]`)}get consentGiven(){return this.consentManagement.isConsentGiven(this.type)}get checkboxText(){return this.getAttribute("checkbox-text")||"Diesen Inhalt immer laden"}_normalizeType(t){return t[0].toUpperCase()+t.slice(1).toLowerCase()}_addOptInEventListener(){document.addEventListener(Ei,(t=>{t.detail?.type===this.type&&this.allowContent()})),!this.isStealthMode&&this.optInButton&&this.optInButton.addEventListener("click",(()=>{this.allowContent()}))}_handleCheckboxChange(t){t.closest(`[${Ai}]`)&&(this.shouldPersist=t.checked),t.closest("[data-opt-out]")&&(this.shouldPersist=!0,this.setAllowedStatus(t.checked),this.toolbar.append(this.reloadLink))}_addPersistanceEventListener(){this.addEventListener("change",(t=>{this._handleCheckboxChange(t.target)})),this.addEventListener("click",(t=>{t.target===this.reloadLink&&(0,M.H5)()}))}get optInButton(){return this.querySelector("[data-opt-in]")}setAllowedStatus(t){this.isAllowed=t,this.shouldPersist&&this.isPersistable&&this.type&&(this.logger.log(t?"persist":"remove",`type ${this.type}`),this.consentManagement.setCustomConsent(this.type,t))}async createOptOutCheckbox(){return(0,M.dS)(`\n      <label class="opt-in__cta-persistence opt-in__cta-persistence--no-margin">\n        <input\n          class="opt-in__persistence-checkbox"\n          data-opt-out type="checkbox"\n          ${await this.consentGiven?"checked":""}\n        >\n        ${this.checkboxText}\n      </label>\n    `)}async allowContent(){if(this.isAllowed)return;const t=this.querySelector("noscript")?.textContent;if(!t)throw new Error("no script content");this.setAllowedStatus(!0),this.setAttribute("is-allowed",""),this.type&&this.emit(Ei,{type:this.type},!0),this.innerHTML=t,Si(this.querySelectorAll("script"),(()=>this.dispatchDOMContentLoadedEvent())),this.isPersistable&&!await this.consentManagement.isCmpProviderActive()&&(this.toolbar.append(await this.createOptOutCheckbox()),this.append(this.toolbar))}dispatchDOMContentLoadedEvent(){}};var Ii;Ci=(0,n.__decorate)([(0,O.J)("a-opt-in"),E(),(0,n.__param)(0,C(mt)),(0,n.__metadata)("design:paramtypes",["function"==typeof(ki=void 0!==mt&&mt)?ki:Object])],Ci);let Pi=class{constructor(t){this.config=t}get mustWaitRemote(){return this.config.get("remoteLogin.mustWaitRemote",!1)}get timeout(){return this.config.get("remoteLogin.timeout",1e4)}};var Ti,Oi,Ri;Pi=(0,n.__decorate)([I(),(0,n.__metadata)("design:paramtypes",["function"==typeof(Ii=void 0!==q&&q)?Ii:Object])],Pi);let xi=Ti=class{constructor(t,e){this.config=t,this.http=e,this.logger=new U(Ti.name)}canSendBeacon(){return"sendBeacon"in navigator}async login(t){await(this.canSendBeacon()&&!this.config.mustWaitRemote?this.remoteLoginBeacon(t):this.remoteLoginFetch(t))}remoteLoginBeacon(t){t.forEach((t=>{navigator.sendBeacon(t.url,(0,M.ki)(t.data))}))}async remoteLoginFetch(t){this.logger.log({mustWaitRemote:this.config.mustWaitRemote,timeout:this.config.timeout});const e=t.map((async t=>{try{const e=this.http.get(t.url,{method:"POST",body:(0,M.ki)(t.data),credentials:"include"});return await(this.config.mustWaitRemote?e:(0,M.Vs)(this.config.timeout,e))}catch(t){return this.logger.log(t),Promise.resolve()}}));try{await Promise.all(e)}catch(t){this.logger.log(t)}}};var Mi;xi=Ti=(0,n.__decorate)([I(),(0,n.__metadata)("design:paramtypes",["function"==typeof(Oi=void 0!==Pi&&Pi)?Oi:Object,"function"==typeof(Ri=void 0!==K&&K)?Ri:Object])],xi);let ji=class{constructor(t){this.config=t}get iframeUrl(){const t=this.config.get("googleNewsShowcase.iframeUrl");return new URL(t,window.location.origin).toString()}get gsiScript(){return this.config.get("googleNewsShowcase.gsiScript")}get swgScript(){return this.config.get("googleNewsShowcase.swgScript")}get swgGaaScript(){return this.config.get("googleNewsShowcase.swgGaaScript")}get googleApiClientId(){return this.config.get("googleNewsShowcase.googleApiClientId")}get allowedReferrers(){return this.config.get("googleNewsShowcase.allowedReferrers")}};var Li,Ui,Di,$i,Ni,qi,Bi;ji=(0,n.__decorate)([P(),(0,n.__metadata)("design:paramtypes",["function"==typeof(Mi=void 0!==q&&q)?Mi:Object])],ji);let Fi=Li=class{constructor(t,e,n,i,r,o){this.login=t,this.config=e,this.remoteLogin=n,this.paidContent=i,this.http=r,this.consentManagement=o,this.logger=new U(Li.name),this.errorCallbacks=[]}async startExtendedAccess(){this.isGoogleNewsShowcaseRequest()?(await this.consentManagement.waitUntilConsentIsGiven(),this.logger.log("Starting extended access"),await this.loadVendorScripts(),await this.init()):this.logger.log("No GAA, extended access will not start")}async init(){const t=await this.createUserEntitlementState();GaaMetering.init({userState:t,googleApiClientId:this.config.googleApiClientId,allowedReferrers:this.config.allowedReferrers,registerUserPromise:this.registerUser(),handleLoginPromise:this.handleLogin(),publisherEntitlementPromise:this.publisherEntitlement(),unlockArticle:()=>this.unlockArticle(),showPaywall:(...t)=>this.showPaywall(t)})}async createUserEntitlementState(){const t=await this.login.getUserId();if(t){const e=await this.paidContent.getStatusForAccessType(),n=await this.getRegistrationTimestamp();return!0===e?.granted?{granted:!0,grantReason:"SUBSCRIBER",id:this.generateGoogleUserIdFromHlsUserId(t),registrationTimestamp:n}:{granted:!1,id:this.generateGoogleUserIdFromHlsUserId(t),registrationTimestamp:n}}return{granted:!1}}async getRegistrationTimestamp(){const t=new URL("/sso/login/info",window.location.href),e=await this.http.get(t.toString(),{headers:{Accept:"application/json"}});return new Date((await e.json()).created).valueOf()/1e3}async registerUser(){const t=await GaaMetering.getGaaUserPromise();try{const e=await this.login.loginWithGoogle(t.credential);await this.login.getRegistrationProvider(),this.remoteLogin.login(e.remote_login_urls)}catch(t){await this.callErrorCallbacks(t)}return await this.createUserEntitlementState()}async handleLogin(){await GaaMetering.getLoginPromise();const t=new URL("/sso/login",window.location.href);t.searchParams.append("forward",window.location.href),window.location.href=t.toString()}async publisherEntitlement(){return this.createUserEntitlementState()}async unlockArticle(){const t=new URL("/api/accountservice/subscriptions/google-extended-access/grant",window.location.href),e=await this.http.get(t.toString(),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({url:window.location.href}),credentials:"same-origin"}),n=await e.json();window.location.replace(n.url)}showPaywall(...t){this.logger.log("showPaywall",t)}generateGoogleUserIdFromHlsUserId(t){return`hls${t}`}async loadVendorScripts(){await Promise.all([(0,M.uR)(this.config.swgScript),(0,M.uR)(this.config.swgGaaScript,{"subscriptions-control":"manual"}),(0,M.uR)(this.config.gsiScript)])}isGoogleNewsShowcaseRequest(){const t=(0,M.vl)();return 0===["gaa_at","gaa_n","gaa_sig","gaa_ts"].filter((e=>!t[e])).length}onErrorCallback(t){return this.errorCallbacks.push(t),this}async callErrorCallbacks(t){await Promise.all(this.errorCallbacks.map((e=>e(t))))}};var Hi,zi;Fi=Li=(0,n.__decorate)([I(),(0,n.__metadata)("design:paramtypes",["function"==typeof(Ui=void 0!==tt&&tt)?Ui:Object,"function"==typeof(Di=void 0!==ji&&ji)?Di:Object,"function"==typeof($i=void 0!==xi&&xi)?$i:Object,"function"==typeof(Ni=void 0!==it&&it)?Ni:Object,"function"==typeof(qi=void 0!==K&&K)?qi:Object,"function"==typeof(Bi=void 0!==mt&&mt)?Bi:Object])],Fi);let Wi=class extends R.R{constructor(t,e){super(),this.paidContent=t,this.showcase=e}async connectedCallback(){await super.connectedCallback(),this.hasGoogleCurtain&&(this.showcase.onErrorCallback(this.handleErrorCallback.bind(this)),this.showcase.startExtendedAccess()),await this.paidContent.hasAccess()||(this.style.display="block"),this.emit("ready")}get hasGoogleCurtain(){return this.hasAttribute("google-curtain")}async handleErrorCallback(t){let e="error_occurred";J.isHttpError(t)&&t.response&&(e=(await t.response.json()).error_key||"error_occurred"),this.openErrorModal(e)}openErrorModal(t){const e=function({body:t}){const e=document.createElement("a-modal");return"string"==typeof t?e.innerHTML=t:t instanceof HTMLElement&&e.append(t),e}({body:this.getErrorMessageHtml(t)});e.style.zIndex="9999999999",document.body.appendChild(e).open()}getErrorMessageHtml(t){let e="\n      <p>Es ist ein unbekannter Fehler aufgetreten.</p>\n    ";if("google_login_duplicate_email"===t){const t=new URL("/sso/login",window.location.href);t.searchParams.append("forward",window.location.href),e=`\n        <p>\n          Für diese Email-Adresse gibt es bereits einen Account bei heise online.\n          Bitte loggen Sie sich mit diesem ein.\n        </p>\n        <p class="a-typo-right">\n          &raquo; <a href="${t.toString()}">Zum Login</a>\n        </p>\n      `}return e}};var Vi,Gi,Ji,Ki,Zi;Wi=(0,n.__decorate)([(0,O.J)("a-paid-content-teaser"),E(),(0,n.__metadata)("design:paramtypes",["function"==typeof(Hi=void 0!==it&&it)?Hi:Object,"function"==typeof(zi=void 0!==Fi&&Fi)?zi:Object])],Wi),function(t){t.Visa="V",t.MasterCard="M"}(Vi||(Vi={}));let Yi=class{constructor(t,e,n,i){this.configService=t,this.paidContent=e,this.webtrekk=n,this.login=i,this._startingCheckout=!1,this.logger=new U("Plenigo")}_addStatisticEventListener(t){document.addEventListener(this.configService.get("plenigo.eventNames.statistic"),(e=>{const n=e.detail;this.logger.log("Plenigo statistics event:",n),t(n)}))}_addPurchaseSuccessEventListener(t){document.addEventListener(this.configService.get("plenigo.eventNames.purchaseSuccess"),(async e=>{this.logger.log("Plenigo purchase success event:",e.detail);try{if(!await this.login.getEmail())throw new Error("email missing")}catch(t){console.debug(t)}(0,M.uX)(this.buildTargetSuccessUrl(t,e.detail.orderId))}))}buildTargetSuccessUrl(t,e){return(0,M.JG)(t,{orderId:e,paymentState:"success"})}handleCheckoutStatisticsTracking(t,e){"submit"!==t.action&&("click"!==t.action||"string"!=typeof t.data?t.pageName&&this.webtrekk.reload(function({orderId:t="",page:e,pageURL:n=new URL(window.location.href),productId:i="",campaign:r=""}={}){return function({checkoutProvider:t="plenigo",orderId:e="",page:n="unknown",pageURL:i=new URL(window.location.href),productId:r="",campaign:o=""}={}){const s={contentId:`www.heise.de.${t}.${n}`,contentGroup:{1:"www.heise.de",2:t,3:"checkout",4:"heiseplus",9:n,10:t},customEcommerceParameter:{2:i.pathname}},a={product:r,productStatus:"add",currency:"EUR",productQuantity:"1",productCost:"1.00",productCategory:{1:`heiseplus-abo-${t}${o?`-${o}`:""}`,2:"heiseplus"}},c={productStatus:"conf",orderId:e,orderValue:"1",customParameter:{32:s.customEcommerceParameter[2]}};return L().all([s,"basket"===n||"confirm"===n?a:{},"confirm"===n?c:{}])}({checkoutProvider:"plenigo",orderId:t,page:e,pageURL:n,productId:i,campaign:r})}({page:t.pageName,productId:t.product,pageURL:new URL(e,window.location.origin)}),{requestType:"page"}):this.webtrekk.reload({linkId:`checkout.plenigo.${t.data}`}))}async startCheckout({targetUrl:t,fromUrl:e,purchaseId:n,elementId:i}){if(this._startingCheckout)return;this._addStatisticEventListener((t=>{this.handleCheckoutStatisticsTracking(t,e)})),this._addPurchaseSuccessEventListener(t),this._startingCheckout=!0,await this.loadPlenigoSDK(),this.logger.log("starting plenigo ...");const r={elementId:i,purchaseId:n,targetUrl:t};this.logger.log("start plenigo checkout:",r);const{Checkout:o}=this.getSdk();new o(n,{elementId:i,supportedCardTypes:[Vi.Visa,Vi.MasterCard]}).start(),(0,M.nQ)(["purchaseId","targetUrl"])}getSdk(){if(!window.plenigo)throw new Error("sdk not loaded");return window.plenigo}get vendorScriptUrl(){const t=(0,M.H0)()?"scriptUrl":"scriptUrlStaging";return this.configService.get(`plenigo.${t}`)}async loadPlenigoSDK(t={}){await(0,M.uR)(this.vendorScriptUrl,L()({"data-lang":"de","data-disable-redirect":"true"},t))}handleSnippetStatisticsTracking(t){this.webtrekk.reload({contentGroup:{1:"www.heise.de",2:"sso",3:"abonnements",4:t,5:null,6:null,7:null,8:null,9:t,10:"registrierung"},contentId:`www.heise.de.sso.abonnements.${t}`})}async showSnippet(t,e){await this.loadPlenigoSDK(),this._addStatisticEventListener((e=>{this.handleSnippetStatisticsTracking(t)}));const{Snippets:n}=this.getSdk(),i=await this.paidContent.getPlenigoSession();if(!i)throw new Error("plenigo session is missing");this.logger.log("showSnippet",e),new n(i,e).open(t)}};var Qi;Yi=(0,n.__decorate)([P(),(0,n.__param)(0,C(q)),(0,n.__param)(1,C(it)),(0,n.__param)(2,C(Kt)),(0,n.__param)(3,C(tt)),(0,n.__metadata)("design:paramtypes",["function"==typeof(Gi=void 0!==q&&q)?Gi:Object,"function"==typeof(Ji=void 0!==it&&it)?Ji:Object,"function"==typeof(Ki=void 0!==Kt&&Kt)?Ki:Object,"function"==typeof(Zi=void 0!==tt&&tt)?Zi:Object])],Yi);let Xi=class extends R.R{constructor(t){super(),this.plenigo=t}async connectedCallback(){await super.connectedCallback(),this.id=this.id||(this.id="plenigo-checkout"),await this.plenigo.startCheckout({fromUrl:this.fromUrl,purchaseId:this.purchaseId,targetUrl:this.targetUrl,elementId:this.id}),this.emit("ready")}get purchaseId(){return this.getMandatoryAttribute("purchase-id")}get targetUrl(){return this.getAttribute("target-url")||"https://www.heise.de/plus"}get fromUrl(){return this.getMandatoryAttribute("from-url")}};var tr;Xi=(0,n.__decorate)([(0,O.J)("a-plenigo-checkout"),E(),(0,n.__param)(0,C(Yi)),(0,n.__metadata)("design:paramtypes",["function"==typeof(Qi=void 0!==Yi&&Yi)?Qi:Object])],Xi);let er=class extends R.R{constructor(t){super(),this.plenigo=t}async connectedCallback(){await super.connectedCallback(),this.hasEmbedTarget||(this.innerHTML=""),this.style.display="block",await this.showSnippet(),this.emit("ready")}get type(){const t=this.getMandatoryAttribute("type"),{CONSTS:e}=this.plenigo.getSdk();if(!this.isValidSnippetId(t))throw new Error(`Invalid snippet type: ${t}. Valid: ${Object.keys(e.SNIPPETS).join(", ")}`);return t}get hasEmbedTarget(){return this.embedTarget!==this}get embedTarget(){return this._embedTarget||(this._embedTarget=this.querySelector("[data-snippet-embed-target]")||this),this._embedTarget}get redirectUrl(){return this.getAttribute("redirect-url")||"https://www.heise.de/"}isValidSnippetId(t){return t in(window.plenigo?.CONSTS.SNIPPETS??[])}async showSnippet(){var t;(t=this.embedTarget).id||(t.id="plenigo-snippet"),await this.plenigo.loadPlenigoSDK(),await this.plenigo.showSnippet(this.type,{elementId:this.embedTarget.id,loggedOutRedirectUrl:this.redirectUrl})}};er=(0,n.__decorate)([(0,O.J)("a-plenigo-snippet"),E(),(0,n.__param)(0,C(Yi)),(0,n.__metadata)("design:paramtypes",["function"==typeof(tr=void 0!==Yi&&Yi)?tr:Object])],er);let nr=class extends An{async connectedCallback(){this.trigger||this.append(this.createTrigger()),this.target||this.append(this.createContent()),await super.connectedCallback(),this.emit("ready")}get trigger(){return this.querySelector("[data-collapse-trigger]")}get target(){return this.querySelector("[data-collapse-target]")}createTrigger(){return(0,M.dS)('\n      <div data-collapse-trigger role="button">\n        <span class="open">Pur</span>\n        <span class="close" aria-label="Schließen"></span>\n      </div>\n    ')}createContent(){return(0,M.dS)('\n      <div data-collapse-target>\n        <div data-collapse-content>\n          Vielen Dank, dass Sie dabei helfen, ein Angebot ohne Werbung und\n          Tracking möglich zu machen.\n          Weitere Details zu Ihrem Pur-Abo finden sie auf unserer\n          <a href="/pur/info-faq/">Infoseite</a>.\n        </div>\n      </div>\n    ')}};nr=(0,n.__decorate)([(0,O.J)("a-pur-indicator")],nr);let ir=class extends R.R{async connectedCallback(){await super.connectedCallback(),this.tabRoot.addEventListener("activate-tab",(t=>{t.detail.index===this.index?this.activate():this.deactivate()})),this._ready()}get index(){return[...this.parentNode?.childNodes??[]].filter((t=>"A-TAB-CONTENT"===t.tagName)).indexOf(this)}get tabRoot(){const t=this.closest("a-tabs");if(!t)throw new Error("a-tabs not found");return t}activate(){(0,M.$Z)(this)}deactivate(){(0,M.Cp)(this)}};ir=(0,n.__decorate)([(0,O.J)("a-tab-content")],ir);let rr=class extends R.R{async connectedCallback(){await super.connectedCallback(),this.addEventListener("click",(()=>{"prev"===this.type?this.tabRoot.activatePrev():this.tabRoot.activateNext()})),this.tabRoot.addEventListener("activate-tab",(()=>{this.synchronizeAria()})),this.synchronizeAria()}get type(){return this.getAttribute("type")}synchronizeAria(){this.setAttribute("aria-disabled",("prev"===this.type?!this.tabRoot.hasPrev():!this.tabRoot.hasNext()).toString())}get tabRoot(){const t=this.closest("a-tabs");if(!t)throw new Error("a-tabs not found");return t}};rr=(0,n.__decorate)([(0,O.J)("a-tab-nav")],rr);let or=class extends R.R{async connectedCallback(){await super.connectedCallback(),this.addEventListener("click",(()=>{this.tabRoot?.activate(this.index)})),this.tabRoot?.addEventListener("activate-tab",(t=>{const e=t.detail.index===this.index;this.setAttribute("aria-selected",e.toString()),this.setAttribute("tabindex",e?"0":"-1"),this.blur(),t.detail.useFocus&&e&&this.focus()})),this._ready()}get tabRoot(){return this.closest("a-tabs")}get index(){return[...this.parentNode?.childNodes??[]].filter((t=>"A-TAB"===t.tagName)).indexOf(this)}};or=(0,n.__decorate)([(0,O.J)("a-tab")],or);let sr=class extends R.R{constructor(){super(...arguments),this.currentIndex=0}async connectedCallback(){await super.connectedCallback(),this.setAttribute("active","true"),this.addEventListener("keydown",(t=>{if("ArrowLeft"===t.key)this.activatePrev({useFocus:!0});else{if("ArrowRight"!==t.key)return;this.activateNext({useFocus:!0})}t.stopPropagation()}),!1),setTimeout((()=>{this.activate(0)}),0)}getTabs(){return[...this.querySelector("a-tab-list")?.querySelectorAll("a-tab")??[]].filter((t=>t.nodeType===Node.ELEMENT_NODE))}hasNext(){return this.currentIndex<this.getTabs().length-1}hasPrev(){return this.currentIndex>0}activate(t,e={}){this.currentIndex=t,this.emit("activate-tab",{index:t,...e})}activateNext(t={}){this.hasNext()&&this.activate(this.currentIndex+1,t)}activatePrev(t={}){this.hasPrev()&&this.activate(this.currentIndex-1,t)}};var ar;sr=(0,n.__decorate)([(0,O.J)("a-tabs")],sr);let cr=class extends R.R{constructor(t){super(),this.webtrekk=t}async connectedCallback(){await super.connectedCallback(),this._addEventListener(),this.emit("ready")}get channel(){return this.getMandatoryAttribute("wt-channel")}get wtData(){return{linkId:`${this.channel}.meldung.shopklick`,customClickParameter:{1:this.getAttribute("wt-id"),2:this.getAttribute("wt-kategorie"),3:this.getAttribute("wt-page-id")},customEcommerceParameter:{1:`${this.channel}.meldung.shopklick`}}}_addEventListener(){this.addEventListener("click",(t=>{t.target.closest(".a-pvg-deal")&&this.webtrekk.reload(this.wtData)}),!0)}};var lr;cr=(0,n.__decorate)([(0,O.J)("a-pvg"),E(),(0,n.__param)(0,C(Kt)),(0,n.__metadata)("design:paramtypes",["function"==typeof(ar=void 0!==Kt&&Kt)?ar:Object])],cr);let ur=lr=class extends R.R{static get READSPEAKER_SRC_URL(){return"https://f1-eu.readspeaker.com/script/4407/webReader/webReader.js?pids=wr"}async connectedCallback(){await super.connectedCallback(),this.setReadSpeakerConf();try{await(0,M.uR)(lr.READSPEAKER_SRC_URL),this.createReadSpeakerHTML(),window.ReadSpeaker.init(),this.improveA11y(),this.emit("ready")}catch(t){console.log(t)}}get url(){const t=this.getAttribute("url");if(!t)throw new Error("url is missing");return t}get readid(){const t=this.getAttribute("readid");if(!t)throw new Error("readid is missing");return t}setReadSpeakerConf(){window.rsConf={params:lr.READSPEAKER_SRC_URL,general:{usePost:!0}}}improveA11y(){this.hasAttribute("tabindex")||this.setAttribute("tabindex","1"),this.querySelector(".rsbtn_play")?.focus()}createReadSpeakerHTML(){this.innerHTML=`\n      <div id="readspeaker_button1" class="rs_skip rsbtn rs_preserve">\n        <a class="rsbtn_play" accesskey="L" rel="nofollow" title="H&ouml;ren Sie sich diesen Text mit ReadSpeaker an" href="//app-eu.readspeaker.com/cgi-bin/rsent?customerid=4407&amp;lang=de_de&amp;readid=${this.readid}&amp;url=${this.url}">\n          <span class="rsbtn_left rsimg rspart">\n            <span class="rsbtn_text">\n              <span>Vorlesen</span>\n            </span>\n          </span>\n          <span class="rsbtn_right rsimg rsplay rspart"></span>\n        </a>\n      </div>\n    `}};var dr;ur=lr=(0,n.__decorate)([(0,O.J)("a-read-aloud")],ur);let hr=class extends R.R{constructor(t){super(),this.remoteLogin=t}async connectedCallback(){await super.connectedCallback(),this.remoteUrls&&await this.remoteLogin.login(this.remoteUrls),this.forwardUrl&&(0,M.uX)(this.forwardUrl)}get remoteUrls(){const t=this.getAttribute("remote-urls");if(t)return JSON.parse(t)}get forwardUrl(){return this.getAttribute("forward-url")}};var gr;hr=(0,n.__decorate)([(0,O.J)("a-remote-login"),E(),(0,n.__metadata)("design:paramtypes",["function"==typeof(dr=void 0!==xi&&xi)?dr:Object])],hr);const pr=(0,x.Z)("Script");let fr=class extends R.R{constructor(t){super(),this.consentManagement=t,this.inheritedAttributes=["type"],this.attrs={}}async connectedCallback(){if(await super.connectedCallback(),this.inheritedAttributes.filter((t=>this.hasAttribute(t))).forEach((t=>{this.attrs[t]=this.getAttribute(t)})),!this.needsConsent)return pr("No consent needed, loading script:",this.src),(0,M.uR)(this.src,this.attrs),void this._ready();await this._consentGiven()?(pr(`Consent(s) for ${this.vendors.toString()} given, loading script:`,this.src),(0,M.uR)(this.src,this.attrs)):(pr(`Consent(s) for ${this.vendors.toString()} not given, adding Opt-In Consent-EventListener`),this._addOptInEventListener()),this._ready()}get src(){return this.getMandatoryAttribute("src")}get vendors(){if(!this.name)throw new TypeError("vendor [name] missing");let t;try{t=JSON.parse(this.name)}catch{t=[this.name]}return t}async _consentGiven(){const t=await Promise.all(this.vendors.map((t=>this.consentManagement.isConsentGiven(t))));return pr(`Consent for ${this.vendors.toString()} is:`,t),!t.includes(!1)}_addOptInEventListener(){document.addEventListener(Ei,(t=>{this._consentGivenEventCallback(t)}))}async _consentGivenEventCallback(t){const e=t.detail?.type;e&&this.vendors.includes(e)&&await this._consentGiven()&&(pr("Allow-Event detected, Consents checked, loading script:",this.src),(0,M.uR)(this.src,this.attrs))}};fr=(0,n.__decorate)([(0,O.J)("a-script"),E(),(0,n.__param)(0,C(mt)),(0,n.__metadata)("design:paramtypes",["function"==typeof(gr=void 0!==mt&&mt)?gr:Object])],fr);let mr=class extends R.R{constructor(){super(...arguments),this.logger=new U("scrollContainer")}async connectedCallback(){await super.connectedCallback(),this.createScrollContainer(),this.createButtons(),this.addButtonEventHandlers(),this.adjustScrollButtonHeight(),this.cachedScrollAmount=this.scrollAmount,this.observeScrolling(),(0,M.ib)((()=>{this.cachedScrollAmount=this.scrollAmount,this.adjustScrollButtonHeight()})),this.emit("ready")}get scrollAmount(){const t=this.getAttribute("scroll-amount");return"page"===t?this.getBoundingClientRect().width:(0,M.p3)(t)||100}get scrollPosition(){return this.scrollContainer.scrollLeft}get scrollButtonHeightReference(){return this.querySelector("[data-scroll-container-button-height-reference]")}get hasScrollShadow(){return this.hasAttribute("scroll-shadow")}get hasScrollButtons(){return!this.hasAttribute("no-buttons")}createScrollContainer(){this.scrollContainer=this.querySelector(".scroll-container")||(0,M.az)("div",{},["scroll-container"]),null===this.querySelector(".scroll-container")&&(this.scrollContainer.innerHTML=this.innerHTML,this.innerHTML="",this.append(this.scrollContainer))}createButtons(){const t='<svg\n        xmlns="http://www.w3.org/2000/svg"\n        viewBox="0 0 8 12"\n        fill="#fff"\n        class="scroll-arrow"\n      >\n        <path d="M0 10.59L4.58 6 0 1.41 1.41 0l6 6-6 6z" />\n        <path d="M0 10.59L4.58 6 0 1.41 1.41 0l6 6-6 6z" />\n      </svg>';this.scrollLeftButton=this.querySelector(".scroll-left")||(0,M.az)("button",{},["scroll-left"]),this.scrollRightButton=this.querySelector(".scroll-right")||(0,M.az)("button",{},["scroll-right"]),null===this.querySelector(".scroll-left")&&(this.scrollLeftButton.innerHTML=t,this.scrollContainer.append(this.scrollLeftButton)),null===this.querySelector(".scroll-right")&&(this.scrollRightButton.innerHTML=t,this.scrollContainer.append(this.scrollRightButton))}addButtonEventHandlers(){this.scrollLeftButton.addEventListener("click",(()=>{this.scrollContainer.scroll({top:0,left:this.scrollPosition-this.cachedScrollAmount,behavior:"smooth"})})),this.scrollRightButton.addEventListener("click",(()=>{this.scrollContainer.scroll({top:0,left:this.scrollPosition+this.cachedScrollAmount,behavior:"smooth"})}))}adjustScrollButtonHeight(){if(!this.scrollButtonHeightReference)return;const t=this.scrollButtonHeightReference.getBoundingClientRect().height/2;this.style.setProperty("--ho-scroll-container-buttons-top-position",`${t}px`)}toggleStylePropertyOnIntersection(t,e,n,i){t.intersectionRatio<e?this.style.removeProperty(n):this.style.setProperty(n,i)}handleIntersection(t,e,n){this.hasScrollShadow&&this.toggleStylePropertyOnIntersection(t,e,`--ho-scroll-container-shadow-width-${n}`,"0"),this.hasScrollButtons&&this.toggleStylePropertyOnIntersection(t,e,`--ho-scroll-container-buttons-display-${n}`,"none")}observeScrolling(){const t=this.scrollContainer.querySelector("li:first-child"),e=this.scrollContainer.querySelector("li:last-child"),n=new IntersectionObserver((e=>{e.forEach((e=>{const n=e.target===t?"left":"right";this.handleIntersection(e,.5,n)}))}),{root:this.scrollContainer,threshold:.5});t&&n.observe(t),e&&e!==t&&n.observe(e)}};mr=(0,n.__decorate)([(0,O.J)("a-scroll-container")],mr);let yr=class extends(ae(R.R)){async connectedCallback(){await super.connectedCallback(),this.emit("ready")}intersectionChange(t){const e=t.intersectionRatio<1&&t.boundingClientRect.top<0&&"sticky"===getComputedStyle(this).position;this.stickyClasses.forEach((t=>this.classList.toggle(t,e))),this.toggleAttribute("is-sticky",e)}get stickyClasses(){return this.getAttribute("sticky-classes")?.split(" ")||[]}get observableRootMargin(){return"0px 0px 0px 0px"}get observableRootThreshold(){return 1}};var vr;yr=(0,n.__decorate)([(0,O.J)("a-sticky")],yr);let br=class extends An{constructor(t){super(),this.configService=t,this.config=this.configService.get("stickyFooter")}async connectedCallback(){await super.connectedCallback(),this.isAllowedToShow&&window.requestAnimationFrame((()=>{this.show(),window.document.body.style.paddingBottom=`${this.visibleHeight}px`})),this.hideTrigger?this.addCloseEventListener():this.hide(),this.emit("ready")}get hideTrigger(){return this.query("[data-hide-trigger]")}get hideHours(){const t=this.getAttribute("hide-hours");return t?parseInt(t):24}get isAllowedToShow(){const t=this.config?.hiddenAt;if(!t)return!0;const e=36e5*this.hideHours;return(new Date).getTime()-new Date(t).getTime()>e}addCloseEventListener(){this.hideTrigger.addEventListener("click",(t=>{this._hide(),t.preventDefault()}))}_hide(){this.configService.set("stickyFooter.hiddenAt",new Date),this.hide()}};var wr;br=(0,n.__decorate)([(0,O.J)("a-sticky-footer"),E(),(0,n.__param)(0,C(q)),(0,n.__metadata)("design:paramtypes",["function"==typeof(vr=void 0!==q&&q)?vr:Object])],br);let _r=class extends R.R{constructor(t){super(),this.login=t}fieldExists(t,e){return e in t}async connectedCallback(){await super.connectedCallback();const t=await this.login.status;if(!this.fieldExists(t,this.field))throw new Error(`Field ${this.field} does not exist`);const e=t[this.field];"string"==typeof e&&(this.innerHTML=e)}get field(){return this.getMandatoryAttribute("field")}};var Sr,kr,Ar,Er;_r=(0,n.__decorate)([(0,O.J)("a-user"),E(),(0,n.__metadata)("design:paramtypes",["function"==typeof(wr=void 0!==tt&&tt)?wr:Object])],_r);let Cr=Sr=class extends(Xe(R.R)){constructor(t,e,n){super(),this.configService=t,this.infonline=e,this.webtrekk=n,this.logger=new U("Video"),this.ready=!1,this.instanceCounter=Sr.Counter++,this.hasBeenPlayed=!1,this.action="pause",this.isMuted="0"}async connectedCallback(){if(await super.connectedCallback(),this.ready)return;const t=this.querySelector(".a-video-caption");this.innerHTML=this.template,t&&this.containerElement?.append(t),this.isInstant?(this.ready=!0,await this.activate()):(this.containerElement?.insertAdjacentHTML("afterbegin",this.playBtnPreviewImgTemplate),this.playButton?.addEventListener("click",(()=>{this.onPlayButtonClick()}),{once:!0}),this.ready=!0)}onPlayButtonClick(){this.querySelector(".a-video-playbutton")?.remove(),this.querySelector("a-img")?.remove(),this.activate()}updateSizer(){const t=this.querySelector(".a-sizer")||(0,M.dS)('<div class="a-sizer"></div>');t.style.paddingTop=100/this._width*this._height+"%",t.style.display="block",this.append(t)}get player(){if(!this._player)throw new Error("Player is missing");return this._player}get containerId(){return`a-video-${this.instanceCounter}`}get containerElement(){return this.querySelector(`#${this.containerId}`)}get vendorScriptSrc(){return this.configService.get("video.scriptUrl")}get uiConfId(){return(0,M.p3)(this.getAttribute("ui-conf-id"))||this.configService.get("video.uiConfId")}get partnerId(){return this.configService.get("video.partnerId")}get entryId(){return this.getAttribute("entry-id")}get rawPreviewImageUrl(){return this.getAttribute("preview-image-url")}get previewImageUrl(){const t=this.rawPreviewImageUrl;return new(Gn())(t).asWidthUrl(this._width)}get adsEnabled(){return!this.hasAttribute("skip-ads")}get isInstant(){return this.hasAttribute("instant")}get playButton(){return this.querySelector(".a-video-playbutton")}get template(){return`\n      <div\n        class="a-sizer"\n        style="display: block; padding-top: ${100/this._width*this._height+"%"}"\n      ></div>\n      <div id="${this.containerId}" class="a-video-element"></div>\n    `}get playBtnPreviewImgTemplate(){return`\n      <button type="button" class="a-video-playbutton">\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2000 2000" class="a-video-playbutton-svg">\n          <g transform="matrix(1.05356,0,0,1.03089,24.9824,-12.7689)">\n            <ellipse cx="925.453" cy="982.42" rx="906.453" ry="926.382" style="fill-opacity:0.65;stroke:white;stroke-width:70px;"/>\n          </g>\n          <g transform="matrix(1.6783e-16,2.74087,-2.70471,1.65616e-16,2834.26,-542.169)">\n            <path d="M552.398,514.228C554.346,510.792 557.954,508.67 561.865,508.661C565.775,508.652 569.393,510.758 571.356,514.186C599.993,564.195 685.165,712.931 713.834,762.997C715.799,766.428 715.806,770.661 713.852,774.099C711.898,777.537 708.282,779.655 704.367,779.655L420.852,779.655C416.946,779.655 413.336,777.546 411.379,774.12C409.422,770.694 409.415,766.471 411.361,763.039C439.708,713.029 524.019,564.293 552.398,514.228Z" style="fill:white;"/>\n          </g>\n        </svg>\n      </button>\n      <a-img\n        src="${this.rawPreviewImageUrl||""}"\n        width="${this._width||""}"\n        height="${this._height||""}"\n        quality="85"\n        high-dpi-quality="50"\n      ></a-img>\n    `}get mediaConfig(){return this.player.getMediaConfig()}get videoElement(){return this.player.getVideoElement()}get currentTime(){return Math.ceil(this.videoElement.currentTime)}get duration(){return this.mediaConfig.sources.duration}get entryTitle(){return this.mediaConfig.sources.metadata.name}get volume(){return Math.ceil(100*this.videoElement.volume)}getEventNames(){return[this.player.Event.FIRST_PLAYING,this.player.Event.UI.USER_CLICKED_PLAY,this.player.Event.UI.USER_CLICKED_PAUSE,this.player.Event.UI.USER_ENTERED_FULL_SCREEN,this.player.Event.UI.USER_EXITED_FULL_SCREEN,this.player.Event.UI.USER_SEEKED,this.player.Event.UI.USER_CLICKED_REWIND,this.player.Event.UI.USER_CLICKED_FORWARD]}setupInfonlineTracking(){this.getEventNames().forEach((t=>{this.player.addEventListener(t,(t=>{this.infonline.reload({cp:"videoplayer"})}))}))}handleWebtrekkEvents(t){this.logger.log("debug Mapp:",t.type,t);const e=this.player.Event;let n="";switch(t.type){case e.PLAYING:this.hasBeenPlayed=!0,this.action="play";break;case e.Core.PAUSE:this.action="pause";break;case e.PLAYBACK_ENDED:this.action="eof";break;case e.UI.USER_SEEKED:case e.UI.USER_CLICKED_REWIND:case e.UI.USER_CLICKED_FORWARD:n="seek";break;case e.UI.USER_CLICKED_MUTE:this.isMuted="1";break;case e.UI.USER_CLICKED_UNMUTE:this.isMuted="0"}this.hasBeenPlayed&&this.webtrekk.reloadMedia(this.entryTitle,n||this.action,this.currentTime,this.duration,"","0",this.volume,this.isMuted)}setupWebtrekkTracking(){const t=this.player.Event;[t.Core.PLAYING,t.Core.PAUSE,t.Core.PLAYBACK_ENDED,t.UI.USER_SEEKED,t.UI.USER_CLICKED_REWIND,t.UI.USER_CLICKED_FORWARD,t.UI.USER_CHANGED_VOLUME,t.UI.USER_CLICKED_MUTE,t.UI.USER_CLICKED_UNMUTE].forEach((t=>{this.player.addEventListener(t,(t=>{this.handleWebtrekkEvents(t)}))}))}onPlayerReady(){this.logger.log("a-video ready:",this),this.setupInfonlineTracking(),this.setupWebtrekkTracking()}get videoType(){return this.getAttribute("type")??"kaltura"}get adTargeting(){const t=JSON.parse(this.getAttribute("ad-targeting")||"{}");return Object.keys(t).length>0?t:this.configService.get("video.ad.targeting")}get isNewAdSetupEnabled(){return this.hasAttribute("ad-pagetype")}get adUnit(){const t=window.innerWidth<768;if(!this.isNewAdSetupEnabled)return this.configService.get("video.ad.unit");const e=`/6514/${He()}/${t?"M":"D"}_${this.adPagetype}/video`;return this.logger.log("Using new ad setup"),this.logger.log("Ad-Unit is:",e),e}get adPagetype(){const t=this.getMandatoryAttribute("ad-pagetype");return void 0!==(e=t)&&qe.includes(e)?t.replace("_","-"):(this.logger.log(`Invalid pagetype for Videos: ${t}`),"");var e}get adChannel(){const t=this.getAttribute("ad-channel");return t?Fe(t)?t:void this.logger.log("Invalid channel"):"ho"}get customUrlAdParams(){const t=this.adTargeting;return(0,M.nh)()&&this.isNewAdSetupEnabled&&(t[`${He()}_${this.configService.get("video.ad.testIdentifier")}`]=this.configService.get("video.ad.testParams")),this.isNewAdSetupEnabled&&this.adChannel&&(t[`${He()}_channel`]=this.adChannel),Object.entries(t).map((([t,e])=>(Array.isArray(e)||(e=[e]),`${t}=${encodeURIComponent(e.join(","))}`))).sort().join("&")}get adTagUrl(){if(!this.adsEnabled)return"";const t=this.configService.get("video.ad.tag"),e=new URL(t);return e.searchParams.set("cust_params",this.customUrlAdParams),e.searchParams.set("iu",this.adUnit),this.logger.log("adTagUrl is:",e.toString()),e.toString()}get playerConfig(){return{targetId:this.containerId,provider:{partnerId:this.partnerId,uiConfId:this.uiConfId},playback:{autoplay:!0},sources:{poster:this.previewImageUrl},plugins:{ima:{disable:!this.adsEnabled,adTagUrl:this.adTagUrl,delayInitUntilSourceSelected:!0,numRedirects:this.configService.get("video.ad.numRedirects")}}}}async loadKalturaVideo(t){await this.vendorScriptLoaded;try{this._player=window.KalturaPlayer.setup(this.playerConfig),this.player.ready().then((()=>this.onPlayerReady())).catch((t=>{this.logger.log(t)})),this.player.loadMedia({entryId:t})}catch(t){this.containerElement.innerHTML="<span>Inhalte von Kaltura können nicht geladen werden.</span>",this.logger.log(t.message)}}loadYouTubeVideo(t){this.containerElement.innerHTML=this.videoIframe("YouTube video player",`//www.youtube-nocookie.com/embed/${t}`)}loadYouTubePlaylist(t){this.containerElement.innerHTML=this.videoIframe("YouTube Videoserie",`//www.youtube-nocookie.com/embed?listType=playlist&list=${t}`)}loadVimeoVideo(t){this.containerElement.innerHTML=this.videoIframe("Vimeo Video",`//player.vimeo.com/video/${t}`)}loadTwitchVideo(t){this.containerElement.innerHTML=this.videoIframe("Twitch video player",`https://player.twitch.tv/?${t}&parent=${window.location.hostname}&autoplay=false`)}videoIframe(t,e){return`\n      <iframe\n        class="a-video-iframe"\n        width="480"\n        height="295"\n        src="${e}"\n        frameborder="0"\n        title="${t}"\n        allowfullscreen\n        allow="autoplay"\n        loading="lazy"\n      ></iframe>\n    `}async activate(){if(this.entryId&&this.videoType)switch(this.videoType){case"kaltura":case"internal":await this.loadKalturaVideo(this.entryId);break;case"youtube":case"nocookieyoutube":this.loadYouTubeVideo(this.entryId);break;case"youtube_playlist":this.loadYouTubePlaylist(this.entryId);break;case"vimeo":this.loadVimeoVideo(this.entryId);break;case"twitch":this.loadTwitchVideo(this.entryId);break;default:this.logger.log(`Video type "${this.videoType}" unknown.`)}}becomesVisible(){this.vendorScriptLoaded=(0,M.uR)(this.vendorScriptSrc)}};Cr.Counter=0,Cr=Sr=(0,n.__decorate)([(0,O.J)("a-video"),E(),(0,n.__param)(0,C(q)),(0,n.__param)(1,C(G)),(0,n.__param)(2,C(Kt)),(0,n.__metadata)("design:paramtypes",["function"==typeof(kr=void 0!==q&&q)?kr:Object,"function"==typeof(Ar=void 0!==G&&G)?Ar:Object,"function"==typeof(Er=void 0!==Kt&&Kt)?Er:Object])],Cr);const Ir=(0,x.Z)("cam-initializer"),Pr=(0,x.Z)("login-service");!async function(){!async function(){const t=A.resolve(tt),e=await t.isLoggedIn();Pr("is logged in:",!!e),document.documentElement.dataset.isLoggedIn=(!!e).toString()}(),async function(){const t=A.resolve(Dt),e=await t.getUserBucket();if(Object.keys(e).filter((t=>t.startsWith("nbc")&&"nbc6"!==t&&!!e[t])).filter((t=>!!t)).length>0)return Ir("nbc ids found"),void(document.documentElement.dataset.nbcIdsExist="");Ir("nbc ids not found")}(),function(){const t=A.resolve(q),e=t.get("currentPi");e&&t.set("lastPi",e),t.set("currentPi",new Date)}(),(0,M.Cd)((async()=>{const t=document.querySelectorAll("a-bilderstrecke").length>0,e=document.querySelectorAll("embetty-video,embetty-tweet").length>0,n=document.querySelectorAll('[is="a-grossbild"]').length>0,i=[];t&&i.push(Promise.all([a.e(14),a.e(121)]).then(a.bind(a,4086))),e&&i.push(Promise.all([a.e(938),a.e(198)]).then(a.bind(a,9407))),n&&i.push(a.e(440).then(a.bind(a,5440))),await Promise.all(i)}))}(),function(t=new U("akwa"),e="24.113.2"){t.log("version",e)}()})(),c=a.O(c)})();
//# sourceMappingURL=akwa.js.map